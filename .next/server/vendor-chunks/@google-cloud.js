"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@google-cloud";
exports.ids = ["vendor-chunks/@google-cloud"];
exports.modules = {

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.countTokens = void 0;\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst constants = __webpack_require__(/*! ../util/constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\nconst post_fetch_processing_1 = __webpack_require__(/*! ./post_fetch_processing */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js\");\nconst post_request_1 = __webpack_require__(/*! ./post_request */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js\");\n/**\n * Make a async request to count tokens.\n * @param request A CountTokensRequest object with the request contents.\n * @returns The CountTokensResponse object with the token count.\n */\nasync function countTokens(location, resourcePath, token, request, apiEndpoint, requestOptions) {\n    const response = await (0, post_request_1.postRequest)({\n        region: location,\n        resourcePath: resourcePath,\n        resourceMethod: constants.COUNT_TOKENS_METHOD,\n        token: await token,\n        data: request,\n        apiEndpoint: apiEndpoint,\n        requestOptions: requestOptions,\n    }).catch(e => {\n        throw new errors_1.GoogleGenerativeAIError('exception posting request', e);\n    });\n    await (0, post_fetch_processing_1.throwErrorIfNotOK)(response).catch(e => {\n        throw e;\n    });\n    return (0, post_fetch_processing_1.processCountTokenResponse)(response);\n}\nexports.countTokens = countTokens;\n//# sourceMappingURL=count_tokens.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL2NvdW50X3Rva2Vucy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDMUMsa0JBQWtCLG1CQUFPLENBQUMsa0dBQW1CO0FBQzdDLGdDQUFnQyxtQkFBTyxDQUFDLHlIQUF5QjtBQUNqRSx1QkFBdUIsbUJBQU8sQ0FBQyx1R0FBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL2NvdW50X3Rva2Vucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvdW50VG9rZW5zID0gdm9pZCAwO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuY29uc3QgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL3V0aWwvY29uc3RhbnRzXCIpO1xuY29uc3QgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEgPSByZXF1aXJlKFwiLi9wb3N0X2ZldGNoX3Byb2Nlc3NpbmdcIik7XG5jb25zdCBwb3N0X3JlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3Bvc3RfcmVxdWVzdFwiKTtcbi8qKlxuICogTWFrZSBhIGFzeW5jIHJlcXVlc3QgdG8gY291bnQgdG9rZW5zLlxuICogQHBhcmFtIHJlcXVlc3QgQSBDb3VudFRva2Vuc1JlcXVlc3Qgb2JqZWN0IHdpdGggdGhlIHJlcXVlc3QgY29udGVudHMuXG4gKiBAcmV0dXJucyBUaGUgQ291bnRUb2tlbnNSZXNwb25zZSBvYmplY3Qgd2l0aCB0aGUgdG9rZW4gY291bnQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvdW50VG9rZW5zKGxvY2F0aW9uLCByZXNvdXJjZVBhdGgsIHRva2VuLCByZXF1ZXN0LCBhcGlFbmRwb2ludCwgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICgwLCBwb3N0X3JlcXVlc3RfMS5wb3N0UmVxdWVzdCkoe1xuICAgICAgICByZWdpb246IGxvY2F0aW9uLFxuICAgICAgICByZXNvdXJjZVBhdGg6IHJlc291cmNlUGF0aCxcbiAgICAgICAgcmVzb3VyY2VNZXRob2Q6IGNvbnN0YW50cy5DT1VOVF9UT0tFTlNfTUVUSE9ELFxuICAgICAgICB0b2tlbjogYXdhaXQgdG9rZW4sXG4gICAgICAgIGRhdGE6IHJlcXVlc3QsXG4gICAgICAgIGFwaUVuZHBvaW50OiBhcGlFbmRwb2ludCxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnM6IHJlcXVlc3RPcHRpb25zLFxuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ2V4Y2VwdGlvbiBwb3N0aW5nIHJlcXVlc3QnLCBlKTtcbiAgICB9KTtcbiAgICBhd2FpdCAoMCwgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEudGhyb3dFcnJvcklmTm90T0spKHJlc3BvbnNlKS5jYXRjaChlID0+IHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgICByZXR1cm4gKDAsIHBvc3RfZmV0Y2hfcHJvY2Vzc2luZ18xLnByb2Nlc3NDb3VudFRva2VuUmVzcG9uc2UpKHJlc3BvbnNlKTtcbn1cbmV4cG9ydHMuY291bnRUb2tlbnMgPSBjb3VudFRva2Vucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvdW50X3Rva2Vucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.generateContentStream = exports.generateContent = void 0;\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst constants = __webpack_require__(/*! ../util/constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\nconst post_fetch_processing_1 = __webpack_require__(/*! ./post_fetch_processing */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js\");\nconst post_request_1 = __webpack_require__(/*! ./post_request */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js\");\nconst pre_fetch_processing_1 = __webpack_require__(/*! ./pre_fetch_processing */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js\");\n/**\n * Make a async call to generate content.\n * @param request A GenerateContentRequest object with the request contents.\n * @returns The GenerateContentResponse object with the response candidates.\n */\nasync function generateContent(location, resourcePath, token, request, apiEndpoint, generationConfig, safetySettings, tools, toolConfig, requestOptions) {\n    var _a, _b, _c, _d;\n    request = (0, pre_fetch_processing_1.formatContentRequest)(request, generationConfig, safetySettings);\n    (0, pre_fetch_processing_1.validateGenerateContentRequest)(request);\n    if (request.generationConfig) {\n        request.generationConfig = (0, pre_fetch_processing_1.validateGenerationConfig)(request.generationConfig);\n    }\n    const generateContentRequest = {\n        contents: request.contents,\n        systemInstruction: request.systemInstruction,\n        cachedContent: request.cachedContent,\n        generationConfig: (_a = request.generationConfig) !== null && _a !== void 0 ? _a : generationConfig,\n        safetySettings: (_b = request.safetySettings) !== null && _b !== void 0 ? _b : safetySettings,\n        tools: (_c = request.tools) !== null && _c !== void 0 ? _c : tools,\n        toolConfig: (_d = request.toolConfig) !== null && _d !== void 0 ? _d : toolConfig,\n        labels: request.labels,\n    };\n    const response = await (0, post_request_1.postRequest)({\n        region: location,\n        resourcePath,\n        resourceMethod: constants.GENERATE_CONTENT_METHOD,\n        token: await token,\n        data: generateContentRequest,\n        apiEndpoint,\n        requestOptions,\n        apiVersion: (0, pre_fetch_processing_1.getApiVersion)(request),\n    }).catch(e => {\n        throw new errors_1.GoogleGenerativeAIError('exception posting request to model', e);\n    });\n    await (0, post_fetch_processing_1.throwErrorIfNotOK)(response).catch(e => {\n        throw e;\n    });\n    return (0, post_fetch_processing_1.processUnary)(response);\n}\nexports.generateContent = generateContent;\n/**\n * Make an async stream request to generate content. The response will be\n * returned in stream.\n * @param {GenerateContentRequest} request - {@link GenerateContentRequest}\n * @returns {Promise<StreamGenerateContentResult>} Promise of {@link\n *     StreamGenerateContentResult}\n */\nasync function generateContentStream(location, resourcePath, token, request, apiEndpoint, generationConfig, safetySettings, tools, toolConfig, requestOptions) {\n    var _a, _b, _c, _d;\n    request = (0, pre_fetch_processing_1.formatContentRequest)(request, generationConfig, safetySettings);\n    (0, pre_fetch_processing_1.validateGenerateContentRequest)(request);\n    if (request.generationConfig) {\n        request.generationConfig = (0, pre_fetch_processing_1.validateGenerationConfig)(request.generationConfig);\n    }\n    const generateContentRequest = {\n        contents: request.contents,\n        systemInstruction: request.systemInstruction,\n        cachedContent: request.cachedContent,\n        generationConfig: (_a = request.generationConfig) !== null && _a !== void 0 ? _a : generationConfig,\n        safetySettings: (_b = request.safetySettings) !== null && _b !== void 0 ? _b : safetySettings,\n        tools: (_c = request.tools) !== null && _c !== void 0 ? _c : tools,\n        toolConfig: (_d = request.toolConfig) !== null && _d !== void 0 ? _d : toolConfig,\n        labels: request.labels,\n    };\n    const response = await (0, post_request_1.postRequest)({\n        region: location,\n        resourcePath,\n        resourceMethod: constants.STREAMING_GENERATE_CONTENT_METHOD,\n        token: await token,\n        data: generateContentRequest,\n        apiEndpoint,\n        requestOptions,\n        apiVersion: (0, pre_fetch_processing_1.getApiVersion)(request),\n    }).catch(e => {\n        throw new errors_1.GoogleGenerativeAIError('exception posting request', e);\n    });\n    await (0, post_fetch_processing_1.throwErrorIfNotOK)(response).catch(e => {\n        throw e;\n    });\n    return (0, post_fetch_processing_1.processStream)(response);\n}\nexports.generateContentStream = generateContentStream;\n//# sourceMappingURL=generate_content.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL2dlbmVyYXRlX2NvbnRlbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkIsR0FBRyx1QkFBdUI7QUFDdkQsaUJBQWlCLG1CQUFPLENBQUMsOEZBQWlCO0FBQzFDLGtCQUFrQixtQkFBTyxDQUFDLGtHQUFtQjtBQUM3QyxnQ0FBZ0MsbUJBQU8sQ0FBQyx5SEFBeUI7QUFDakUsdUJBQXVCLG1CQUFPLENBQUMsdUdBQWdCO0FBQy9DLCtCQUErQixtQkFBTyxDQUFDLHVIQUF3QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3QkFBd0IsV0FBVztBQUM5QyxhQUFhLHNDQUFzQyxZQUFZO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QiIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9mdW5jdGlvbnMvZ2VuZXJhdGVfY29udGVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdlbmVyYXRlQ29udGVudFN0cmVhbSA9IGV4cG9ydHMuZ2VuZXJhdGVDb250ZW50ID0gdm9pZCAwO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuY29uc3QgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL3V0aWwvY29uc3RhbnRzXCIpO1xuY29uc3QgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEgPSByZXF1aXJlKFwiLi9wb3N0X2ZldGNoX3Byb2Nlc3NpbmdcIik7XG5jb25zdCBwb3N0X3JlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3Bvc3RfcmVxdWVzdFwiKTtcbmNvbnN0IHByZV9mZXRjaF9wcm9jZXNzaW5nXzEgPSByZXF1aXJlKFwiLi9wcmVfZmV0Y2hfcHJvY2Vzc2luZ1wiKTtcbi8qKlxuICogTWFrZSBhIGFzeW5jIGNhbGwgdG8gZ2VuZXJhdGUgY29udGVudC5cbiAqIEBwYXJhbSByZXF1ZXN0IEEgR2VuZXJhdGVDb250ZW50UmVxdWVzdCBvYmplY3Qgd2l0aCB0aGUgcmVxdWVzdCBjb250ZW50cy5cbiAqIEByZXR1cm5zIFRoZSBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSBvYmplY3Qgd2l0aCB0aGUgcmVzcG9uc2UgY2FuZGlkYXRlcy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50KGxvY2F0aW9uLCByZXNvdXJjZVBhdGgsIHRva2VuLCByZXF1ZXN0LCBhcGlFbmRwb2ludCwgZ2VuZXJhdGlvbkNvbmZpZywgc2FmZXR5U2V0dGluZ3MsIHRvb2xzLCB0b29sQ29uZmlnLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICByZXF1ZXN0ID0gKDAsIHByZV9mZXRjaF9wcm9jZXNzaW5nXzEuZm9ybWF0Q29udGVudFJlcXVlc3QpKHJlcXVlc3QsIGdlbmVyYXRpb25Db25maWcsIHNhZmV0eVNldHRpbmdzKTtcbiAgICAoMCwgcHJlX2ZldGNoX3Byb2Nlc3NpbmdfMS52YWxpZGF0ZUdlbmVyYXRlQ29udGVudFJlcXVlc3QpKHJlcXVlc3QpO1xuICAgIGlmIChyZXF1ZXN0LmdlbmVyYXRpb25Db25maWcpIHtcbiAgICAgICAgcmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnID0gKDAsIHByZV9mZXRjaF9wcm9jZXNzaW5nXzEudmFsaWRhdGVHZW5lcmF0aW9uQ29uZmlnKShyZXF1ZXN0LmdlbmVyYXRpb25Db25maWcpO1xuICAgIH1cbiAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0ID0ge1xuICAgICAgICBjb250ZW50czogcmVxdWVzdC5jb250ZW50cyxcbiAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgIGNhY2hlZENvbnRlbnQ6IHJlcXVlc3QuY2FjaGVkQ29udGVudCxcbiAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogKF9hID0gcmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBnZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICBzYWZldHlTZXR0aW5nczogKF9iID0gcmVxdWVzdC5zYWZldHlTZXR0aW5ncykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgIHRvb2xzOiAoX2MgPSByZXF1ZXN0LnRvb2xzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0b29scyxcbiAgICAgICAgdG9vbENvbmZpZzogKF9kID0gcmVxdWVzdC50b29sQ29uZmlnKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB0b29sQ29uZmlnLFxuICAgICAgICBsYWJlbHM6IHJlcXVlc3QubGFiZWxzLFxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoMCwgcG9zdF9yZXF1ZXN0XzEucG9zdFJlcXVlc3QpKHtcbiAgICAgICAgcmVnaW9uOiBsb2NhdGlvbixcbiAgICAgICAgcmVzb3VyY2VQYXRoLFxuICAgICAgICByZXNvdXJjZU1ldGhvZDogY29uc3RhbnRzLkdFTkVSQVRFX0NPTlRFTlRfTUVUSE9ELFxuICAgICAgICB0b2tlbjogYXdhaXQgdG9rZW4sXG4gICAgICAgIGRhdGE6IGdlbmVyYXRlQ29udGVudFJlcXVlc3QsXG4gICAgICAgIGFwaUVuZHBvaW50LFxuICAgICAgICByZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgYXBpVmVyc2lvbjogKDAsIHByZV9mZXRjaF9wcm9jZXNzaW5nXzEuZ2V0QXBpVmVyc2lvbikocmVxdWVzdCksXG4gICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Hb29nbGVHZW5lcmF0aXZlQUlFcnJvcignZXhjZXB0aW9uIHBvc3RpbmcgcmVxdWVzdCB0byBtb2RlbCcsIGUpO1xuICAgIH0pO1xuICAgIGF3YWl0ICgwLCBwb3N0X2ZldGNoX3Byb2Nlc3NpbmdfMS50aHJvd0Vycm9ySWZOb3RPSykocmVzcG9uc2UpLmNhdGNoKGUgPT4ge1xuICAgICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICAgIHJldHVybiAoMCwgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEucHJvY2Vzc1VuYXJ5KShyZXNwb25zZSk7XG59XG5leHBvcnRzLmdlbmVyYXRlQ29udGVudCA9IGdlbmVyYXRlQ29udGVudDtcbi8qKlxuICogTWFrZSBhbiBhc3luYyBzdHJlYW0gcmVxdWVzdCB0byBnZW5lcmF0ZSBjb250ZW50LiBUaGUgcmVzcG9uc2Ugd2lsbCBiZVxuICogcmV0dXJuZWQgaW4gc3RyZWFtLlxuICogQHBhcmFtIHtHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0fSByZXF1ZXN0IC0ge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlcXVlc3R9XG4gKiBAcmV0dXJucyB7UHJvbWlzZTxTdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHQ+fSBQcm9taXNlIG9mIHtAbGlua1xuICogICAgIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50U3RyZWFtKGxvY2F0aW9uLCByZXNvdXJjZVBhdGgsIHRva2VuLCByZXF1ZXN0LCBhcGlFbmRwb2ludCwgZ2VuZXJhdGlvbkNvbmZpZywgc2FmZXR5U2V0dGluZ3MsIHRvb2xzLCB0b29sQ29uZmlnLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICByZXF1ZXN0ID0gKDAsIHByZV9mZXRjaF9wcm9jZXNzaW5nXzEuZm9ybWF0Q29udGVudFJlcXVlc3QpKHJlcXVlc3QsIGdlbmVyYXRpb25Db25maWcsIHNhZmV0eVNldHRpbmdzKTtcbiAgICAoMCwgcHJlX2ZldGNoX3Byb2Nlc3NpbmdfMS52YWxpZGF0ZUdlbmVyYXRlQ29udGVudFJlcXVlc3QpKHJlcXVlc3QpO1xuICAgIGlmIChyZXF1ZXN0LmdlbmVyYXRpb25Db25maWcpIHtcbiAgICAgICAgcmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnID0gKDAsIHByZV9mZXRjaF9wcm9jZXNzaW5nXzEudmFsaWRhdGVHZW5lcmF0aW9uQ29uZmlnKShyZXF1ZXN0LmdlbmVyYXRpb25Db25maWcpO1xuICAgIH1cbiAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0ID0ge1xuICAgICAgICBjb250ZW50czogcmVxdWVzdC5jb250ZW50cyxcbiAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgIGNhY2hlZENvbnRlbnQ6IHJlcXVlc3QuY2FjaGVkQ29udGVudCxcbiAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogKF9hID0gcmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBnZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICBzYWZldHlTZXR0aW5nczogKF9iID0gcmVxdWVzdC5zYWZldHlTZXR0aW5ncykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgIHRvb2xzOiAoX2MgPSByZXF1ZXN0LnRvb2xzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0b29scyxcbiAgICAgICAgdG9vbENvbmZpZzogKF9kID0gcmVxdWVzdC50b29sQ29uZmlnKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB0b29sQ29uZmlnLFxuICAgICAgICBsYWJlbHM6IHJlcXVlc3QubGFiZWxzLFxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoMCwgcG9zdF9yZXF1ZXN0XzEucG9zdFJlcXVlc3QpKHtcbiAgICAgICAgcmVnaW9uOiBsb2NhdGlvbixcbiAgICAgICAgcmVzb3VyY2VQYXRoLFxuICAgICAgICByZXNvdXJjZU1ldGhvZDogY29uc3RhbnRzLlNUUkVBTUlOR19HRU5FUkFURV9DT05URU5UX01FVEhPRCxcbiAgICAgICAgdG9rZW46IGF3YWl0IHRva2VuLFxuICAgICAgICBkYXRhOiBnZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0LFxuICAgICAgICBhcGlFbmRwb2ludCxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMsXG4gICAgICAgIGFwaVZlcnNpb246ICgwLCBwcmVfZmV0Y2hfcHJvY2Vzc2luZ18xLmdldEFwaVZlcnNpb24pKHJlcXVlc3QpLFxuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ2V4Y2VwdGlvbiBwb3N0aW5nIHJlcXVlc3QnLCBlKTtcbiAgICB9KTtcbiAgICBhd2FpdCAoMCwgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEudGhyb3dFcnJvcklmTm90T0spKHJlc3BvbnNlKS5jYXRjaChlID0+IHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgICByZXR1cm4gKDAsIHBvc3RfZmV0Y2hfcHJvY2Vzc2luZ18xLnByb2Nlc3NTdHJlYW0pKHJlc3BvbnNlKTtcbn1cbmV4cG9ydHMuZ2VuZXJhdGVDb250ZW50U3RyZWFtID0gZ2VuZXJhdGVDb250ZW50U3RyZWFtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVfY29udGVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.processCountTokenResponse = exports.processUnary = exports.aggregateResponses = exports.processStream = exports.throwErrorIfNotOK = void 0;\nconst util_1 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nasync function throwErrorIfNotOK(response) {\n    if (response === undefined) {\n        throw new errors_1.GoogleGenerativeAIError('response is undefined');\n    }\n    if (!response.ok) {\n        const status = response.status;\n        const statusText = response.statusText;\n        const errorBody = await response.json();\n        const errorMessage = `got status: ${status} ${statusText}. ${JSON.stringify(errorBody)}`;\n        if (status >= 400 && status < 500) {\n            const error = new errors_1.ClientError(errorMessage, new errors_1.GoogleApiError(errorBody.error.message, errorBody.error.code, errorBody.error.status, errorBody.error.details));\n            throw error;\n        }\n        throw new errors_1.GoogleGenerativeAIError(errorMessage);\n    }\n}\nexports.throwErrorIfNotOK = throwErrorIfNotOK;\nconst responseLineRE = /^data: (.*)(?:\\n\\n|\\r\\r|\\r\\n\\r\\n)/;\nasync function* generateResponseSequence(stream) {\n    const reader = stream.getReader();\n    while (true) {\n        const { value, done } = await reader.read();\n        if (done) {\n            break;\n        }\n        yield addMissingIndexAndRole(value);\n    }\n}\n/**\n * Process a response.body stream from the backend and return an\n * iterator that provides one complete GenerateContentResponse at a time\n * and a promise that resolves with a single aggregated\n * GenerateContentResponse.\n *\n * @param response - Response from a fetch call\n * @ignore\n */\nasync function processStream(response) {\n    if (response === undefined) {\n        throw new errors_1.GoogleGenerativeAIError('Error processing stream because response === undefined');\n    }\n    if (!response.body) {\n        throw new errors_1.GoogleGenerativeAIError('Error processing stream because response.body not found');\n    }\n    const inputStream = response.body.pipeThrough(new TextDecoderStream('utf8', { fatal: true }));\n    const responseStream = getResponseStream(inputStream);\n    const [stream1, stream2] = responseStream.tee();\n    return Promise.resolve({\n        stream: generateResponseSequence(stream1),\n        response: getResponsePromise(stream2),\n    });\n}\nexports.processStream = processStream;\nasync function getResponsePromise(stream) {\n    const allResponses = [];\n    const reader = stream.getReader();\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            return aggregateResponses(allResponses);\n        }\n        allResponses.push(value);\n    }\n}\n/**\n * Reads a raw stream from the fetch response and join incomplete\n * chunks, returning a new stream that provides a single complete\n * GenerateContentResponse in each iteration.\n * @ignore\n */\nfunction getResponseStream(inputStream) {\n    const reader = inputStream.getReader();\n    const stream = new ReadableStream({\n        start(controller) {\n            let currentText = '';\n            return pump();\n            function pump() {\n                return reader.read().then(({ value, done }) => {\n                    if (done) {\n                        if (currentText.trim()) {\n                            controller.error(new errors_1.GoogleGenerativeAIError(`Failed to parse final chunk of stream: ${currentText}`));\n                            return;\n                        }\n                        controller.close();\n                        return;\n                    }\n                    currentText += value;\n                    let match = currentText.match(responseLineRE);\n                    let parsedResponse;\n                    while (match) {\n                        try {\n                            parsedResponse = JSON.parse(match[1]);\n                        }\n                        catch (e) {\n                            controller.error(new errors_1.GoogleGenerativeAIError(`Error parsing JSON response from stream chunk: \"${match[1]}\"`));\n                            return;\n                        }\n                        controller.enqueue(parsedResponse);\n                        currentText = currentText.substring(match[0].length);\n                        match = currentText.match(responseLineRE);\n                    }\n                    return pump();\n                });\n            }\n        },\n    });\n    return stream;\n}\n/**\n * Aggregates an array of `GenerateContentResponse`s into a single\n * GenerateContentResponse.\n * @ignore\n * @VisibleForTesting\n */\nfunction aggregateResponses(responses) {\n    var _a, _b, _c, _d;\n    const lastResponse = responses[responses.length - 1];\n    if (lastResponse === undefined) {\n        throw new errors_1.GoogleGenerativeAIError('Error aggregating stream chunks because the final response in stream chunk is undefined');\n    }\n    const aggregatedResponse = {};\n    if (lastResponse.promptFeedback) {\n        aggregatedResponse.promptFeedback = lastResponse.promptFeedback;\n    }\n    if (lastResponse.usageMetadata) {\n        aggregatedResponse.usageMetadata = lastResponse.usageMetadata;\n    }\n    for (const response of responses) {\n        if (!response.candidates || response.candidates.length === 0) {\n            continue;\n        }\n        for (let i = 0; i < response.candidates.length; i++) {\n            if (!aggregatedResponse.candidates) {\n                aggregatedResponse.candidates = [];\n            }\n            if (!aggregatedResponse.candidates[i]) {\n                aggregatedResponse.candidates[i] = {\n                    index: (_a = response.candidates[i].index) !== null && _a !== void 0 ? _a : i,\n                    content: {\n                        role: (_c = (_b = response.candidates[i].content) === null || _b === void 0 ? void 0 : _b.role) !== null && _c !== void 0 ? _c : util_1.constants.MODEL_ROLE,\n                        parts: [{ text: '' }],\n                    },\n                };\n            }\n            const citationMetadataAggregated = aggregateCitationMetadataForCandidate(response.candidates[i], aggregatedResponse.candidates[i]);\n            if (citationMetadataAggregated) {\n                aggregatedResponse.candidates[i].citationMetadata =\n                    citationMetadataAggregated;\n            }\n            const finishResonOfChunk = response.candidates[i].finishReason;\n            if (finishResonOfChunk) {\n                aggregatedResponse.candidates[i].finishReason =\n                    response.candidates[i].finishReason;\n            }\n            const finishMessageOfChunk = response.candidates[i].finishMessage;\n            if (finishMessageOfChunk) {\n                aggregatedResponse.candidates[i].finishMessage = finishMessageOfChunk;\n            }\n            const safetyRatingsOfChunk = response.candidates[i].safetyRatings;\n            if (safetyRatingsOfChunk) {\n                aggregatedResponse.candidates[i].safetyRatings = safetyRatingsOfChunk;\n            }\n            if (response.candidates[i].content &&\n                response.candidates[i].content.parts &&\n                response.candidates[i].content.parts.length > 0) {\n                const { parts } = aggregatedResponse.candidates[i].content;\n                for (const part of response.candidates[i].content.parts) {\n                    // NOTE: cannot have text and functionCall both in the same part.\n                    // add functionCall(s) to new parts.\n                    if (part.text) {\n                        parts[0].text += part.text;\n                    }\n                    if (part.functionCall) {\n                        parts.push({ functionCall: part.functionCall });\n                    }\n                }\n            }\n            const groundingMetadataAggregated = aggregateGroundingMetadataForCandidate(response.candidates[i], aggregatedResponse.candidates[i]);\n            if (groundingMetadataAggregated) {\n                aggregatedResponse.candidates[i].groundingMetadata =\n                    groundingMetadataAggregated;\n            }\n        }\n    }\n    if ((_d = aggregatedResponse.candidates) === null || _d === void 0 ? void 0 : _d.length) {\n        aggregatedResponse.candidates.forEach(candidate => {\n            if (candidate.content.parts.length > 1 &&\n                candidate.content.parts[0].text === '') {\n                candidate.content.parts.shift(); // remove empty text parameter\n            }\n        });\n    }\n    return aggregatedResponse;\n}\nexports.aggregateResponses = aggregateResponses;\nfunction aggregateCitationMetadataForCandidate(candidateChunk, aggregatedCandidate) {\n    var _a;\n    if (!candidateChunk.citationMetadata) {\n        return;\n    }\n    const emptyCitationMetadata = {\n        citations: [],\n    };\n    const citationMetadataAggregated = (_a = aggregatedCandidate.citationMetadata) !== null && _a !== void 0 ? _a : emptyCitationMetadata;\n    const citationMetadataChunk = candidateChunk.citationMetadata;\n    if (citationMetadataChunk.citations) {\n        citationMetadataAggregated.citations =\n            citationMetadataAggregated.citations.concat(citationMetadataChunk.citations);\n    }\n    return citationMetadataAggregated;\n}\nfunction aggregateGroundingMetadataForCandidate(candidateChunk, aggregatedCandidate) {\n    var _a;\n    if (!candidateChunk.groundingMetadata) {\n        return;\n    }\n    const emptyGroundingMetadata = {\n        webSearchQueries: [],\n        retrievalQueries: [],\n        groundingChunks: [],\n        groundingSupports: [],\n    };\n    const groundingMetadataAggregated = (_a = aggregatedCandidate.groundingMetadata) !== null && _a !== void 0 ? _a : emptyGroundingMetadata;\n    const groundingMetadataChunk = candidateChunk.groundingMetadata;\n    if (groundingMetadataChunk.webSearchQueries) {\n        groundingMetadataAggregated.webSearchQueries =\n            groundingMetadataAggregated.webSearchQueries.concat(groundingMetadataChunk.webSearchQueries);\n    }\n    if (groundingMetadataChunk.retrievalQueries) {\n        groundingMetadataAggregated.retrievalQueries =\n            groundingMetadataAggregated.retrievalQueries.concat(groundingMetadataChunk.retrievalQueries);\n    }\n    if (groundingMetadataChunk.groundingChunks) {\n        groundingMetadataAggregated.groundingChunks =\n            groundingMetadataAggregated.groundingChunks.concat(groundingMetadataChunk.groundingChunks);\n    }\n    if (groundingMetadataChunk.groundingSupports) {\n        groundingMetadataAggregated.groundingSupports =\n            groundingMetadataAggregated.groundingSupports.concat(groundingMetadataChunk.groundingSupports);\n    }\n    if (groundingMetadataChunk.searchEntryPoint) {\n        groundingMetadataAggregated.searchEntryPoint =\n            groundingMetadataChunk.searchEntryPoint;\n    }\n    return groundingMetadataAggregated;\n}\nfunction addMissingIndexAndRole(response) {\n    const generateContentResponse = response;\n    if (generateContentResponse.candidates &&\n        generateContentResponse.candidates.length > 0) {\n        generateContentResponse.candidates.forEach((candidate, index) => {\n            if (candidate.index === undefined) {\n                generateContentResponse.candidates[index].index = index;\n            }\n            if (candidate.content === undefined) {\n                generateContentResponse.candidates[index].content = {};\n            }\n            if (candidate.content.role === undefined) {\n                generateContentResponse.candidates[index].content.role =\n                    util_1.constants.MODEL_ROLE;\n            }\n        });\n    }\n    return generateContentResponse;\n}\n/**\n * Process model responses from generateContent\n * @ignore\n */\nasync function processUnary(response) {\n    if (response !== undefined) {\n        // ts-ignore\n        const responseJson = await response.json();\n        const generateContentResponse = addMissingIndexAndRole(responseJson);\n        return Promise.resolve({\n            response: generateContentResponse,\n        });\n    }\n    return Promise.resolve({\n        response: {},\n    });\n}\nexports.processUnary = processUnary;\n/**\n * Process model responses from countTokens\n * @ignore\n */\nasync function processCountTokenResponse(response) {\n    if (response) {\n        // ts-ignore\n        return response.json();\n    }\n    return Promise.resolve({});\n}\nexports.processCountTokenResponse = processCountTokenResponse;\n//# sourceMappingURL=post_fetch_processing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3Bvc3RfZmV0Y2hfcHJvY2Vzc2luZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQyxHQUFHLG9CQUFvQixHQUFHLDBCQUEwQixHQUFHLHFCQUFxQixHQUFHLHlCQUF5QjtBQUN6SSxlQUFlLG1CQUFPLENBQUMsb0ZBQVM7QUFDaEMsaUJBQWlCLG1CQUFPLENBQUMsOEZBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUSxFQUFFLFdBQVcsSUFBSSwwQkFBMEI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixhQUFhO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGFBQWE7QUFDMUQ7QUFDQTtBQUNBLDRIQUE0SCxZQUFZO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUlBQXFJLFNBQVM7QUFDOUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdDQUFnQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFVBQVU7QUFDNUMscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxpQ0FBaUM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixLQUFLO0FBQ0w7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsaUNBQWlDO0FBQ2pDIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL2Z1bmN0aW9ucy9wb3N0X2ZldGNoX3Byb2Nlc3NpbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wcm9jZXNzQ291bnRUb2tlblJlc3BvbnNlID0gZXhwb3J0cy5wcm9jZXNzVW5hcnkgPSBleHBvcnRzLmFnZ3JlZ2F0ZVJlc3BvbnNlcyA9IGV4cG9ydHMucHJvY2Vzc1N0cmVhbSA9IGV4cG9ydHMudGhyb3dFcnJvcklmTm90T0sgPSB2b2lkIDA7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4uL3R5cGVzL2Vycm9yc1wiKTtcbmFzeW5jIGZ1bmN0aW9uIHRocm93RXJyb3JJZk5vdE9LKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKCdyZXNwb25zZSBpcyB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIGNvbnN0IHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0dXNUZXh0O1xuICAgICAgICBjb25zdCBlcnJvckJvZHkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBnb3Qgc3RhdHVzOiAke3N0YXR1c30gJHtzdGF0dXNUZXh0fS4gJHtKU09OLnN0cmluZ2lmeShlcnJvckJvZHkpfWA7XG4gICAgICAgIGlmIChzdGF0dXMgPj0gNDAwICYmIHN0YXR1cyA8IDUwMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZXJyb3JzXzEuQ2xpZW50RXJyb3IoZXJyb3JNZXNzYWdlLCBuZXcgZXJyb3JzXzEuR29vZ2xlQXBpRXJyb3IoZXJyb3JCb2R5LmVycm9yLm1lc3NhZ2UsIGVycm9yQm9keS5lcnJvci5jb2RlLCBlcnJvckJvZHkuZXJyb3Iuc3RhdHVzLCBlcnJvckJvZHkuZXJyb3IuZGV0YWlscykpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy50aHJvd0Vycm9ySWZOb3RPSyA9IHRocm93RXJyb3JJZk5vdE9LO1xuY29uc3QgcmVzcG9uc2VMaW5lUkUgPSAvXmRhdGE6ICguKikoPzpcXG5cXG58XFxyXFxyfFxcclxcblxcclxcbikvO1xuYXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRlUmVzcG9uc2VTZXF1ZW5jZShzdHJlYW0pIHtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIGFkZE1pc3NpbmdJbmRleEFuZFJvbGUodmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogUHJvY2VzcyBhIHJlc3BvbnNlLmJvZHkgc3RyZWFtIGZyb20gdGhlIGJhY2tlbmQgYW5kIHJldHVybiBhblxuICogaXRlcmF0b3IgdGhhdCBwcm92aWRlcyBvbmUgY29tcGxldGUgR2VuZXJhdGVDb250ZW50UmVzcG9uc2UgYXQgYSB0aW1lXG4gKiBhbmQgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHNpbmdsZSBhZ2dyZWdhdGVkXG4gKiBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0gcmVzcG9uc2UgLSBSZXNwb25zZSBmcm9tIGEgZmV0Y2ggY2FsbFxuICogQGlnbm9yZVxuICovXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzU3RyZWFtKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKCdFcnJvciBwcm9jZXNzaW5nIHN0cmVhbSBiZWNhdXNlIHJlc3BvbnNlID09PSB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Hb29nbGVHZW5lcmF0aXZlQUlFcnJvcignRXJyb3IgcHJvY2Vzc2luZyBzdHJlYW0gYmVjYXVzZSByZXNwb25zZS5ib2R5IG5vdCBmb3VuZCcpO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dFN0cmVhbSA9IHJlc3BvbnNlLmJvZHkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCd1dGY4JywgeyBmYXRhbDogdHJ1ZSB9KSk7XG4gICAgY29uc3QgcmVzcG9uc2VTdHJlYW0gPSBnZXRSZXNwb25zZVN0cmVhbShpbnB1dFN0cmVhbSk7XG4gICAgY29uc3QgW3N0cmVhbTEsIHN0cmVhbTJdID0gcmVzcG9uc2VTdHJlYW0udGVlKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHN0cmVhbTogZ2VuZXJhdGVSZXNwb25zZVNlcXVlbmNlKHN0cmVhbTEpLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2VQcm9taXNlKHN0cmVhbTIpLFxuICAgIH0pO1xufVxuZXhwb3J0cy5wcm9jZXNzU3RyZWFtID0gcHJvY2Vzc1N0cmVhbTtcbmFzeW5jIGZ1bmN0aW9uIGdldFJlc3BvbnNlUHJvbWlzZShzdHJlYW0pIHtcbiAgICBjb25zdCBhbGxSZXNwb25zZXMgPSBbXTtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gYWdncmVnYXRlUmVzcG9uc2VzKGFsbFJlc3BvbnNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgYWxsUmVzcG9uc2VzLnB1c2godmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZHMgYSByYXcgc3RyZWFtIGZyb20gdGhlIGZldGNoIHJlc3BvbnNlIGFuZCBqb2luIGluY29tcGxldGVcbiAqIGNodW5rcywgcmV0dXJuaW5nIGEgbmV3IHN0cmVhbSB0aGF0IHByb3ZpZGVzIGEgc2luZ2xlIGNvbXBsZXRlXG4gKiBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSBpbiBlYWNoIGl0ZXJhdGlvbi5cbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gZ2V0UmVzcG9uc2VTdHJlYW0oaW5wdXRTdHJlYW0pIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dFN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFRleHQgPSAnJztcbiAgICAgICAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICAgICAgICBmdW5jdGlvbiBwdW1wKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4oKHsgdmFsdWUsIGRvbmUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0LnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IobmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGBGYWlsZWQgdG8gcGFyc2UgZmluYWwgY2h1bmsgb2Ygc3RyZWFtOiAke2N1cnJlbnRUZXh0fWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHQgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaCA9IGN1cnJlbnRUZXh0Lm1hdGNoKHJlc3BvbnNlTGluZVJFKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkUmVzcG9uc2UgPSBKU09OLnBhcnNlKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoYEVycm9yIHBhcnNpbmcgSlNPTiByZXNwb25zZSBmcm9tIHN0cmVhbSBjaHVuazogXCIke21hdGNoWzFdfVwiYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJzZWRSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dCA9IGN1cnJlbnRUZXh0LnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBjdXJyZW50VGV4dC5tYXRjaChyZXNwb25zZUxpbmVSRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHB1bXAoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gc3RyZWFtO1xufVxuLyoqXG4gKiBBZ2dyZWdhdGVzIGFuIGFycmF5IG9mIGBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZWBzIGludG8gYSBzaW5nbGVcbiAqIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlLlxuICogQGlnbm9yZVxuICogQFZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmZ1bmN0aW9uIGFnZ3JlZ2F0ZVJlc3BvbnNlcyhyZXNwb25zZXMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgbGFzdFJlc3BvbnNlID0gcmVzcG9uc2VzW3Jlc3BvbnNlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdFJlc3BvbnNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKCdFcnJvciBhZ2dyZWdhdGluZyBzdHJlYW0gY2h1bmtzIGJlY2F1c2UgdGhlIGZpbmFsIHJlc3BvbnNlIGluIHN0cmVhbSBjaHVuayBpcyB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgY29uc3QgYWdncmVnYXRlZFJlc3BvbnNlID0ge307XG4gICAgaWYgKGxhc3RSZXNwb25zZS5wcm9tcHRGZWVkYmFjaykge1xuICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UucHJvbXB0RmVlZGJhY2sgPSBsYXN0UmVzcG9uc2UucHJvbXB0RmVlZGJhY2s7XG4gICAgfVxuICAgIGlmIChsYXN0UmVzcG9uc2UudXNhZ2VNZXRhZGF0YSkge1xuICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UudXNhZ2VNZXRhZGF0YSA9IGxhc3RSZXNwb25zZS51c2FnZU1ldGFkYXRhO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJlc3BvbnNlIG9mIHJlc3BvbnNlcykge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLmNhbmRpZGF0ZXMgfHwgcmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlcykge1xuICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiAoX2EgPSByZXNwb25zZS5jYW5kaWRhdGVzW2ldLmluZGV4KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBpLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAoX2MgPSAoX2IgPSByZXNwb25zZS5jYW5kaWRhdGVzW2ldLmNvbnRlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yb2xlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB1dGlsXzEuY29uc3RhbnRzLk1PREVMX1JPTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogW3sgdGV4dDogJycgfV0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNpdGF0aW9uTWV0YWRhdGFBZ2dyZWdhdGVkID0gYWdncmVnYXRlQ2l0YXRpb25NZXRhZGF0YUZvckNhbmRpZGF0ZShyZXNwb25zZS5jYW5kaWRhdGVzW2ldLCBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXSk7XG4gICAgICAgICAgICBpZiAoY2l0YXRpb25NZXRhZGF0YUFnZ3JlZ2F0ZWQpIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jaXRhdGlvbk1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICAgICAgY2l0YXRpb25NZXRhZGF0YUFnZ3JlZ2F0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaW5pc2hSZXNvbk9mQ2h1bmsgPSByZXNwb25zZS5jYW5kaWRhdGVzW2ldLmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICAgIGlmIChmaW5pc2hSZXNvbk9mQ2h1bmspIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5maW5pc2hSZWFzb24gPVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5jYW5kaWRhdGVzW2ldLmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbmlzaE1lc3NhZ2VPZkNodW5rID0gcmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5maW5pc2hNZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGZpbmlzaE1lc3NhZ2VPZkNodW5rKSB7XG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0uZmluaXNoTWVzc2FnZSA9IGZpbmlzaE1lc3NhZ2VPZkNodW5rO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2FmZXR5UmF0aW5nc09mQ2h1bmsgPSByZXNwb25zZS5jYW5kaWRhdGVzW2ldLnNhZmV0eVJhdGluZ3M7XG4gICAgICAgICAgICBpZiAoc2FmZXR5UmF0aW5nc09mQ2h1bmspIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5zYWZldHlSYXRpbmdzID0gc2FmZXR5UmF0aW5nc09mQ2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50ICYmXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50LnBhcnRzICYmXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50LnBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhcnRzIH0gPSBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50O1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiByZXNwb25zZS5jYW5kaWRhdGVzW2ldLmNvbnRlbnQucGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogY2Fubm90IGhhdmUgdGV4dCBhbmQgZnVuY3Rpb25DYWxsIGJvdGggaW4gdGhlIHNhbWUgcGFydC5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGZ1bmN0aW9uQ2FsbChzKSB0byBuZXcgcGFydHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzWzBdLnRleHQgKz0gcGFydC50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IGZ1bmN0aW9uQ2FsbDogcGFydC5mdW5jdGlvbkNhbGwgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQgPSBhZ2dyZWdhdGVHcm91bmRpbmdNZXRhZGF0YUZvckNhbmRpZGF0ZShyZXNwb25zZS5jYW5kaWRhdGVzW2ldLCBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXSk7XG4gICAgICAgICAgICBpZiAoZ3JvdW5kaW5nTWV0YWRhdGFBZ2dyZWdhdGVkKSB7XG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0uZ3JvdW5kaW5nTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgICAgICBncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKChfZCA9IGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubGVuZ3RoKSB7XG4gICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzLmZvckVhY2goY2FuZGlkYXRlID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuY29udGVudC5wYXJ0cy5sZW5ndGggPiAxICYmXG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlLmNvbnRlbnQucGFydHNbMF0udGV4dCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBjYW5kaWRhdGUuY29udGVudC5wYXJ0cy5zaGlmdCgpOyAvLyByZW1vdmUgZW1wdHkgdGV4dCBwYXJhbWV0ZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhZ2dyZWdhdGVkUmVzcG9uc2U7XG59XG5leHBvcnRzLmFnZ3JlZ2F0ZVJlc3BvbnNlcyA9IGFnZ3JlZ2F0ZVJlc3BvbnNlcztcbmZ1bmN0aW9uIGFnZ3JlZ2F0ZUNpdGF0aW9uTWV0YWRhdGFGb3JDYW5kaWRhdGUoY2FuZGlkYXRlQ2h1bmssIGFnZ3JlZ2F0ZWRDYW5kaWRhdGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFjYW5kaWRhdGVDaHVuay5jaXRhdGlvbk1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlDaXRhdGlvbk1ldGFkYXRhID0ge1xuICAgICAgICBjaXRhdGlvbnM6IFtdLFxuICAgIH07XG4gICAgY29uc3QgY2l0YXRpb25NZXRhZGF0YUFnZ3JlZ2F0ZWQgPSAoX2EgPSBhZ2dyZWdhdGVkQ2FuZGlkYXRlLmNpdGF0aW9uTWV0YWRhdGEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGVtcHR5Q2l0YXRpb25NZXRhZGF0YTtcbiAgICBjb25zdCBjaXRhdGlvbk1ldGFkYXRhQ2h1bmsgPSBjYW5kaWRhdGVDaHVuay5jaXRhdGlvbk1ldGFkYXRhO1xuICAgIGlmIChjaXRhdGlvbk1ldGFkYXRhQ2h1bmsuY2l0YXRpb25zKSB7XG4gICAgICAgIGNpdGF0aW9uTWV0YWRhdGFBZ2dyZWdhdGVkLmNpdGF0aW9ucyA9XG4gICAgICAgICAgICBjaXRhdGlvbk1ldGFkYXRhQWdncmVnYXRlZC5jaXRhdGlvbnMuY29uY2F0KGNpdGF0aW9uTWV0YWRhdGFDaHVuay5jaXRhdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gY2l0YXRpb25NZXRhZGF0YUFnZ3JlZ2F0ZWQ7XG59XG5mdW5jdGlvbiBhZ2dyZWdhdGVHcm91bmRpbmdNZXRhZGF0YUZvckNhbmRpZGF0ZShjYW5kaWRhdGVDaHVuaywgYWdncmVnYXRlZENhbmRpZGF0ZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIWNhbmRpZGF0ZUNodW5rLmdyb3VuZGluZ01ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlHcm91bmRpbmdNZXRhZGF0YSA9IHtcbiAgICAgICAgd2ViU2VhcmNoUXVlcmllczogW10sXG4gICAgICAgIHJldHJpZXZhbFF1ZXJpZXM6IFtdLFxuICAgICAgICBncm91bmRpbmdDaHVua3M6IFtdLFxuICAgICAgICBncm91bmRpbmdTdXBwb3J0czogW10sXG4gICAgfTtcbiAgICBjb25zdCBncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQgPSAoX2EgPSBhZ2dyZWdhdGVkQ2FuZGlkYXRlLmdyb3VuZGluZ01ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBlbXB0eUdyb3VuZGluZ01ldGFkYXRhO1xuICAgIGNvbnN0IGdyb3VuZGluZ01ldGFkYXRhQ2h1bmsgPSBjYW5kaWRhdGVDaHVuay5ncm91bmRpbmdNZXRhZGF0YTtcbiAgICBpZiAoZ3JvdW5kaW5nTWV0YWRhdGFDaHVuay53ZWJTZWFyY2hRdWVyaWVzKSB7XG4gICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZC53ZWJTZWFyY2hRdWVyaWVzID1cbiAgICAgICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZC53ZWJTZWFyY2hRdWVyaWVzLmNvbmNhdChncm91bmRpbmdNZXRhZGF0YUNodW5rLndlYlNlYXJjaFF1ZXJpZXMpO1xuICAgIH1cbiAgICBpZiAoZ3JvdW5kaW5nTWV0YWRhdGFDaHVuay5yZXRyaWV2YWxRdWVyaWVzKSB7XG4gICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZC5yZXRyaWV2YWxRdWVyaWVzID1cbiAgICAgICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZC5yZXRyaWV2YWxRdWVyaWVzLmNvbmNhdChncm91bmRpbmdNZXRhZGF0YUNodW5rLnJldHJpZXZhbFF1ZXJpZXMpO1xuICAgIH1cbiAgICBpZiAoZ3JvdW5kaW5nTWV0YWRhdGFDaHVuay5ncm91bmRpbmdDaHVua3MpIHtcbiAgICAgICAgZ3JvdW5kaW5nTWV0YWRhdGFBZ2dyZWdhdGVkLmdyb3VuZGluZ0NodW5rcyA9XG4gICAgICAgICAgICBncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQuZ3JvdW5kaW5nQ2h1bmtzLmNvbmNhdChncm91bmRpbmdNZXRhZGF0YUNodW5rLmdyb3VuZGluZ0NodW5rcyk7XG4gICAgfVxuICAgIGlmIChncm91bmRpbmdNZXRhZGF0YUNodW5rLmdyb3VuZGluZ1N1cHBvcnRzKSB7XG4gICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZC5ncm91bmRpbmdTdXBwb3J0cyA9XG4gICAgICAgICAgICBncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQuZ3JvdW5kaW5nU3VwcG9ydHMuY29uY2F0KGdyb3VuZGluZ01ldGFkYXRhQ2h1bmsuZ3JvdW5kaW5nU3VwcG9ydHMpO1xuICAgIH1cbiAgICBpZiAoZ3JvdW5kaW5nTWV0YWRhdGFDaHVuay5zZWFyY2hFbnRyeVBvaW50KSB7XG4gICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZC5zZWFyY2hFbnRyeVBvaW50ID1cbiAgICAgICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQ2h1bmsuc2VhcmNoRW50cnlQb2ludDtcbiAgICB9XG4gICAgcmV0dXJuIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZDtcbn1cbmZ1bmN0aW9uIGFkZE1pc3NpbmdJbmRleEFuZFJvbGUocmVzcG9uc2UpIHtcbiAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIGlmIChnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzICYmXG4gICAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzLmZvckVhY2goKGNhbmRpZGF0ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXNbaW5kZXhdLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuZGlkYXRlLmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXNbaW5kZXhdLmNvbnRlbnQgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuY29udGVudC5yb2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzW2luZGV4XS5jb250ZW50LnJvbGUgPVxuICAgICAgICAgICAgICAgICAgICB1dGlsXzEuY29uc3RhbnRzLk1PREVMX1JPTEU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZ2VuZXJhdGVDb250ZW50UmVzcG9uc2U7XG59XG4vKipcbiAqIFByb2Nlc3MgbW9kZWwgcmVzcG9uc2VzIGZyb20gZ2VuZXJhdGVDb250ZW50XG4gKiBAaWdub3JlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NVbmFyeShyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIHRzLWlnbm9yZVxuICAgICAgICBjb25zdCByZXNwb25zZUpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlc3BvbnNlID0gYWRkTWlzc2luZ0luZGV4QW5kUm9sZShyZXNwb25zZUpzb24pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHJlc3BvbnNlOiBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICByZXNwb25zZToge30sXG4gICAgfSk7XG59XG5leHBvcnRzLnByb2Nlc3NVbmFyeSA9IHByb2Nlc3NVbmFyeTtcbi8qKlxuICogUHJvY2VzcyBtb2RlbCByZXNwb25zZXMgZnJvbSBjb3VudFRva2Vuc1xuICogQGlnbm9yZVxuICovXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQ291bnRUb2tlblJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbn1cbmV4cG9ydHMucHJvY2Vzc0NvdW50VG9rZW5SZXNwb25zZSA9IHByb2Nlc3NDb3VudFRva2VuUmVzcG9uc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb3N0X2ZldGNoX3Byb2Nlc3NpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.postRequest = void 0;\nconst API_BASE_PATH = 'aiplatform.googleapis.com';\nconst GOOGLE_INTERNAL_ENDPOINT = 'googleapis.com';\nconst AUTHORIZATION_HEADER = 'Authorization';\nconst CONTENT_TYPE_HEADER = 'Content-Type';\nconst USER_AGENT_HEADER = 'User-Agent';\nconst X_GOOG_API_CLIENT_HEADER = 'X-Goog-Api-Client';\nconst SERVER_RESERVED_HEADERS = [AUTHORIZATION_HEADER, CONTENT_TYPE_HEADER];\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst constants = __webpack_require__(/*! ../util/constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\n/**\n * Makes a POST request to a Vertex service\n * @ignore\n */\nasync function postRequest({ region, resourcePath, resourceMethod, token, data, apiEndpoint, requestOptions, apiVersion = 'v1', }) {\n    const vertexBaseEndpoint = apiEndpoint !== null && apiEndpoint !== void 0 ? apiEndpoint : `${region}-${API_BASE_PATH}`;\n    let vertexEndpoint = `https://${vertexBaseEndpoint}/${apiVersion}/${resourcePath}:${resourceMethod}`;\n    // Use server sent events for streamGenerateContent\n    if (resourceMethod === constants.STREAMING_GENERATE_CONTENT_METHOD) {\n        vertexEndpoint += '?alt=sse';\n    }\n    const necessaryHeaders = new Headers({\n        [AUTHORIZATION_HEADER]: `Bearer ${token}`,\n        [CONTENT_TYPE_HEADER]: 'application/json',\n        [USER_AGENT_HEADER]: constants.USER_AGENT,\n    });\n    const totalHeaders = getExtraHeaders(vertexBaseEndpoint, necessaryHeaders, requestOptions);\n    return fetch(vertexEndpoint, {\n        ...getFetchOptions(requestOptions),\n        method: 'POST',\n        headers: totalHeaders,\n        body: JSON.stringify(data),\n    });\n}\nexports.postRequest = postRequest;\nfunction getFetchOptions(requestOptions) {\n    const fetchOptions = {};\n    if (!requestOptions ||\n        requestOptions.timeout === undefined ||\n        requestOptions.timeout < 0) {\n        return fetchOptions;\n    }\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n    setTimeout(() => abortController.abort(), requestOptions.timeout);\n    fetchOptions.signal = signal;\n    return fetchOptions;\n}\nfunction stringHasLineBreak(header) {\n    if (header === null || header === undefined) {\n        return false;\n    }\n    return header.includes('\\n') || header.includes('\\r');\n}\nfunction headersHasLineBreak(customHeaders) {\n    if (!customHeaders) {\n        return false;\n    }\n    for (const [key, value] of customHeaders.entries()) {\n        if (stringHasLineBreak(key) || stringHasLineBreak(value)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getExtraHeaders(vertexBaseEndpoint, necessaryHeaders, requestOptions) {\n    var _a;\n    if (stringHasLineBreak(requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient)) {\n        throw new errors_1.ClientError('Found line break in apiClient request option field, please remove ' +\n            'the line break and try again.');\n    }\n    if (headersHasLineBreak(requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.customHeaders)) {\n        throw new errors_1.ClientError('Found line break in customerHeaders request option field, please remove ' +\n            'the line break and try again.');\n    }\n    const totalHeaders = new Headers(necessaryHeaders);\n    const customHeaders = (_a = requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.customHeaders) !== null && _a !== void 0 ? _a : new Headers();\n    for (const [key, val] of customHeaders.entries()) {\n        totalHeaders.append(key, val);\n    }\n    if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient) {\n        totalHeaders.append(X_GOOG_API_CLIENT_HEADER, requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient);\n    }\n    // Resolve header conflicts.\n    let goldenHeaders;\n    if (vertexBaseEndpoint.endsWith(GOOGLE_INTERNAL_ENDPOINT)) {\n        goldenHeaders = necessaryHeaders;\n    }\n    else {\n        goldenHeaders = customHeaders;\n    }\n    for (const header of SERVER_RESERVED_HEADERS) {\n        if (goldenHeaders.has(header)) {\n            totalHeaders.set(header, goldenHeaders.get(header));\n        }\n    }\n    return totalHeaders;\n}\n//# sourceMappingURL=post_request.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3Bvc3RfcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMxQyxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0dBQW9HO0FBQ2pJLGlHQUFpRyxPQUFPLEdBQUcsY0FBYztBQUN6SCxvQ0FBb0MsbUJBQW1CLEdBQUcsV0FBVyxHQUFHLGFBQWEsR0FBRyxlQUFlO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsTUFBTTtBQUNoRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9mdW5jdGlvbnMvcG9zdF9yZXF1ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucG9zdFJlcXVlc3QgPSB2b2lkIDA7XG5jb25zdCBBUElfQkFTRV9QQVRIID0gJ2FpcGxhdGZvcm0uZ29vZ2xlYXBpcy5jb20nO1xuY29uc3QgR09PR0xFX0lOVEVSTkFMX0VORFBPSU5UID0gJ2dvb2dsZWFwaXMuY29tJztcbmNvbnN0IEFVVEhPUklaQVRJT05fSEVBREVSID0gJ0F1dGhvcml6YXRpb24nO1xuY29uc3QgQ09OVEVOVF9UWVBFX0hFQURFUiA9ICdDb250ZW50LVR5cGUnO1xuY29uc3QgVVNFUl9BR0VOVF9IRUFERVIgPSAnVXNlci1BZ2VudCc7XG5jb25zdCBYX0dPT0dfQVBJX0NMSUVOVF9IRUFERVIgPSAnWC1Hb29nLUFwaS1DbGllbnQnO1xuY29uc3QgU0VSVkVSX1JFU0VSVkVEX0hFQURFUlMgPSBbQVVUSE9SSVpBVElPTl9IRUFERVIsIENPTlRFTlRfVFlQRV9IRUFERVJdO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuY29uc3QgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL3V0aWwvY29uc3RhbnRzXCIpO1xuLyoqXG4gKiBNYWtlcyBhIFBPU1QgcmVxdWVzdCB0byBhIFZlcnRleCBzZXJ2aWNlXG4gKiBAaWdub3JlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHBvc3RSZXF1ZXN0KHsgcmVnaW9uLCByZXNvdXJjZVBhdGgsIHJlc291cmNlTWV0aG9kLCB0b2tlbiwgZGF0YSwgYXBpRW5kcG9pbnQsIHJlcXVlc3RPcHRpb25zLCBhcGlWZXJzaW9uID0gJ3YxJywgfSkge1xuICAgIGNvbnN0IHZlcnRleEJhc2VFbmRwb2ludCA9IGFwaUVuZHBvaW50ICE9PSBudWxsICYmIGFwaUVuZHBvaW50ICE9PSB2b2lkIDAgPyBhcGlFbmRwb2ludCA6IGAke3JlZ2lvbn0tJHtBUElfQkFTRV9QQVRIfWA7XG4gICAgbGV0IHZlcnRleEVuZHBvaW50ID0gYGh0dHBzOi8vJHt2ZXJ0ZXhCYXNlRW5kcG9pbnR9LyR7YXBpVmVyc2lvbn0vJHtyZXNvdXJjZVBhdGh9OiR7cmVzb3VyY2VNZXRob2R9YDtcbiAgICAvLyBVc2Ugc2VydmVyIHNlbnQgZXZlbnRzIGZvciBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRcbiAgICBpZiAocmVzb3VyY2VNZXRob2QgPT09IGNvbnN0YW50cy5TVFJFQU1JTkdfR0VORVJBVEVfQ09OVEVOVF9NRVRIT0QpIHtcbiAgICAgICAgdmVydGV4RW5kcG9pbnQgKz0gJz9hbHQ9c3NlJztcbiAgICB9XG4gICAgY29uc3QgbmVjZXNzYXJ5SGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcbiAgICAgICAgW0FVVEhPUklaQVRJT05fSEVBREVSXTogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIFtDT05URU5UX1RZUEVfSEVBREVSXTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBbVVNFUl9BR0VOVF9IRUFERVJdOiBjb25zdGFudHMuVVNFUl9BR0VOVCxcbiAgICB9KTtcbiAgICBjb25zdCB0b3RhbEhlYWRlcnMgPSBnZXRFeHRyYUhlYWRlcnModmVydGV4QmFzZUVuZHBvaW50LCBuZWNlc3NhcnlIZWFkZXJzLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgcmV0dXJuIGZldGNoKHZlcnRleEVuZHBvaW50LCB7XG4gICAgICAgIC4uLmdldEZldGNoT3B0aW9ucyhyZXF1ZXN0T3B0aW9ucyksXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB0b3RhbEhlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xufVxuZXhwb3J0cy5wb3N0UmVxdWVzdCA9IHBvc3RSZXF1ZXN0O1xuZnVuY3Rpb24gZ2V0RmV0Y2hPcHRpb25zKHJlcXVlc3RPcHRpb25zKSB7XG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0ge307XG4gICAgaWYgKCFyZXF1ZXN0T3B0aW9ucyB8fFxuICAgICAgICByZXF1ZXN0T3B0aW9ucy50aW1lb3V0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMudGltZW91dCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZldGNoT3B0aW9ucztcbiAgICB9XG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgc2V0VGltZW91dCgoKSA9PiBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKSwgcmVxdWVzdE9wdGlvbnMudGltZW91dCk7XG4gICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IHNpZ25hbDtcbiAgICByZXR1cm4gZmV0Y2hPcHRpb25zO1xufVxuZnVuY3Rpb24gc3RyaW5nSGFzTGluZUJyZWFrKGhlYWRlcikge1xuICAgIGlmIChoZWFkZXIgPT09IG51bGwgfHwgaGVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaGVhZGVyLmluY2x1ZGVzKCdcXG4nKSB8fCBoZWFkZXIuaW5jbHVkZXMoJ1xccicpO1xufVxuZnVuY3Rpb24gaGVhZGVyc0hhc0xpbmVCcmVhayhjdXN0b21IZWFkZXJzKSB7XG4gICAgaWYgKCFjdXN0b21IZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgY3VzdG9tSGVhZGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKHN0cmluZ0hhc0xpbmVCcmVhayhrZXkpIHx8IHN0cmluZ0hhc0xpbmVCcmVhayh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldEV4dHJhSGVhZGVycyh2ZXJ0ZXhCYXNlRW5kcG9pbnQsIG5lY2Vzc2FyeUhlYWRlcnMsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChzdHJpbmdIYXNMaW5lQnJlYWsocmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLmFwaUNsaWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkNsaWVudEVycm9yKCdGb3VuZCBsaW5lIGJyZWFrIGluIGFwaUNsaWVudCByZXF1ZXN0IG9wdGlvbiBmaWVsZCwgcGxlYXNlIHJlbW92ZSAnICtcbiAgICAgICAgICAgICd0aGUgbGluZSBicmVhayBhbmQgdHJ5IGFnYWluLicpO1xuICAgIH1cbiAgICBpZiAoaGVhZGVyc0hhc0xpbmVCcmVhayhyZXF1ZXN0T3B0aW9ucyA9PT0gbnVsbCB8fCByZXF1ZXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdE9wdGlvbnMuY3VzdG9tSGVhZGVycykpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkNsaWVudEVycm9yKCdGb3VuZCBsaW5lIGJyZWFrIGluIGN1c3RvbWVySGVhZGVycyByZXF1ZXN0IG9wdGlvbiBmaWVsZCwgcGxlYXNlIHJlbW92ZSAnICtcbiAgICAgICAgICAgICd0aGUgbGluZSBicmVhayBhbmQgdHJ5IGFnYWluLicpO1xuICAgIH1cbiAgICBjb25zdCB0b3RhbEhlYWRlcnMgPSBuZXcgSGVhZGVycyhuZWNlc3NhcnlIZWFkZXJzKTtcbiAgICBjb25zdCBjdXN0b21IZWFkZXJzID0gKF9hID0gcmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLmN1c3RvbUhlYWRlcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5ldyBIZWFkZXJzKCk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIGN1c3RvbUhlYWRlcnMuZW50cmllcygpKSB7XG4gICAgICAgIHRvdGFsSGVhZGVycy5hcHBlbmQoa2V5LCB2YWwpO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLmFwaUNsaWVudCkge1xuICAgICAgICB0b3RhbEhlYWRlcnMuYXBwZW5kKFhfR09PR19BUElfQ0xJRU5UX0hFQURFUiwgcmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLmFwaUNsaWVudCk7XG4gICAgfVxuICAgIC8vIFJlc29sdmUgaGVhZGVyIGNvbmZsaWN0cy5cbiAgICBsZXQgZ29sZGVuSGVhZGVycztcbiAgICBpZiAodmVydGV4QmFzZUVuZHBvaW50LmVuZHNXaXRoKEdPT0dMRV9JTlRFUk5BTF9FTkRQT0lOVCkpIHtcbiAgICAgICAgZ29sZGVuSGVhZGVycyA9IG5lY2Vzc2FyeUhlYWRlcnM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnb2xkZW5IZWFkZXJzID0gY3VzdG9tSGVhZGVycztcbiAgICB9XG4gICAgZm9yIChjb25zdCBoZWFkZXIgb2YgU0VSVkVSX1JFU0VSVkVEX0hFQURFUlMpIHtcbiAgICAgICAgaWYgKGdvbGRlbkhlYWRlcnMuaGFzKGhlYWRlcikpIHtcbiAgICAgICAgICAgIHRvdGFsSGVhZGVycy5zZXQoaGVhZGVyLCBnb2xkZW5IZWFkZXJzLmdldChoZWFkZXIpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG90YWxIZWFkZXJzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9zdF9yZXF1ZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.hasVertexAISearch = exports.hasVertexRagStore = exports.getApiVersion = exports.validateGenerationConfig = exports.validateGenerateContentRequest = exports.formatContentRequest = void 0;\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst constants = __webpack_require__(/*! ../util/constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\nfunction formatContentRequest(request, generationConfig, safetySettings) {\n    if (typeof request === 'string') {\n        return {\n            contents: [{ role: constants.USER_ROLE, parts: [{ text: request }] }],\n            generationConfig: generationConfig,\n            safetySettings: safetySettings,\n        };\n    }\n    else {\n        return request;\n    }\n}\nexports.formatContentRequest = formatContentRequest;\nfunction validateGenerateContentRequest(request) {\n    if (hasVertexAISearch(request) && hasVertexRagStore(request)) {\n        throw new errors_1.ClientError('Found both vertexAiSearch and vertexRagStore field are set in tool. Either set vertexAiSearch or vertexRagStore.');\n    }\n}\nexports.validateGenerateContentRequest = validateGenerateContentRequest;\nfunction validateGenerationConfig(generationConfig) {\n    if ('topK' in generationConfig) {\n        if (!(generationConfig.topK > 0) || !(generationConfig.topK <= 40)) {\n            delete generationConfig.topK;\n        }\n    }\n    return generationConfig;\n}\nexports.validateGenerationConfig = validateGenerationConfig;\nfunction getApiVersion(request) {\n    return hasVertexRagStore(request) || hasCachedContent(request)\n        ? 'v1beta1'\n        : 'v1';\n}\nexports.getApiVersion = getApiVersion;\nfunction hasVertexRagStore(request) {\n    var _a;\n    for (const tool of (_a = request === null || request === void 0 ? void 0 : request.tools) !== null && _a !== void 0 ? _a : []) {\n        const retrieval = tool.retrieval;\n        if (!retrieval)\n            continue;\n        if (retrieval.vertexRagStore) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasVertexRagStore = hasVertexRagStore;\nfunction hasCachedContent(request) {\n    return !!request.cachedContent;\n}\nfunction hasVertexAISearch(request) {\n    var _a;\n    for (const tool of (_a = request === null || request === void 0 ? void 0 : request.tools) !== null && _a !== void 0 ? _a : []) {\n        const retrieval = tool.retrieval;\n        if (!retrieval)\n            continue;\n        if (retrieval.vertexAiSearch) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasVertexAISearch = hasVertexAISearch;\n//# sourceMappingURL=pre_fetch_processing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3ByZV9mZXRjaF9wcm9jZXNzaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcseUJBQXlCLEdBQUcscUJBQXFCLEdBQUcsZ0NBQWdDLEdBQUcsc0NBQXNDLEdBQUcsNEJBQTRCO0FBQ3hMLGlCQUFpQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMxQyxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFDQUFxQyxlQUFlLEdBQUc7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL2Z1bmN0aW9ucy9wcmVfZmV0Y2hfcHJvY2Vzc2luZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmhhc1ZlcnRleEFJU2VhcmNoID0gZXhwb3J0cy5oYXNWZXJ0ZXhSYWdTdG9yZSA9IGV4cG9ydHMuZ2V0QXBpVmVyc2lvbiA9IGV4cG9ydHMudmFsaWRhdGVHZW5lcmF0aW9uQ29uZmlnID0gZXhwb3J0cy52YWxpZGF0ZUdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSBleHBvcnRzLmZvcm1hdENvbnRlbnRSZXF1ZXN0ID0gdm9pZCAwO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuY29uc3QgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL3V0aWwvY29uc3RhbnRzXCIpO1xuZnVuY3Rpb24gZm9ybWF0Q29udGVudFJlcXVlc3QocmVxdWVzdCwgZ2VuZXJhdGlvbkNvbmZpZywgc2FmZXR5U2V0dGluZ3MpIHtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZW50czogW3sgcm9sZTogY29uc3RhbnRzLlVTRVJfUk9MRSwgcGFydHM6IFt7IHRleHQ6IHJlcXVlc3QgfV0gfV0sXG4gICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiBnZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IHNhZmV0eVNldHRpbmdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufVxuZXhwb3J0cy5mb3JtYXRDb250ZW50UmVxdWVzdCA9IGZvcm1hdENvbnRlbnRSZXF1ZXN0O1xuZnVuY3Rpb24gdmFsaWRhdGVHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBpZiAoaGFzVmVydGV4QUlTZWFyY2gocmVxdWVzdCkgJiYgaGFzVmVydGV4UmFnU3RvcmUocmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkNsaWVudEVycm9yKCdGb3VuZCBib3RoIHZlcnRleEFpU2VhcmNoIGFuZCB2ZXJ0ZXhSYWdTdG9yZSBmaWVsZCBhcmUgc2V0IGluIHRvb2wuIEVpdGhlciBzZXQgdmVydGV4QWlTZWFyY2ggb3IgdmVydGV4UmFnU3RvcmUuJyk7XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZUdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSB2YWxpZGF0ZUdlbmVyYXRlQ29udGVudFJlcXVlc3Q7XG5mdW5jdGlvbiB2YWxpZGF0ZUdlbmVyYXRpb25Db25maWcoZ2VuZXJhdGlvbkNvbmZpZykge1xuICAgIGlmICgndG9wSycgaW4gZ2VuZXJhdGlvbkNvbmZpZykge1xuICAgICAgICBpZiAoIShnZW5lcmF0aW9uQ29uZmlnLnRvcEsgPiAwKSB8fCAhKGdlbmVyYXRpb25Db25maWcudG9wSyA8PSA0MCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBnZW5lcmF0aW9uQ29uZmlnLnRvcEs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRpb25Db25maWc7XG59XG5leHBvcnRzLnZhbGlkYXRlR2VuZXJhdGlvbkNvbmZpZyA9IHZhbGlkYXRlR2VuZXJhdGlvbkNvbmZpZztcbmZ1bmN0aW9uIGdldEFwaVZlcnNpb24ocmVxdWVzdCkge1xuICAgIHJldHVybiBoYXNWZXJ0ZXhSYWdTdG9yZShyZXF1ZXN0KSB8fCBoYXNDYWNoZWRDb250ZW50KHJlcXVlc3QpXG4gICAgICAgID8gJ3YxYmV0YTEnXG4gICAgICAgIDogJ3YxJztcbn1cbmV4cG9ydHMuZ2V0QXBpVmVyc2lvbiA9IGdldEFwaVZlcnNpb247XG5mdW5jdGlvbiBoYXNWZXJ0ZXhSYWdTdG9yZShyZXF1ZXN0KSB7XG4gICAgdmFyIF9hO1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiAoX2EgPSByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudG9vbHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSB7XG4gICAgICAgIGNvbnN0IHJldHJpZXZhbCA9IHRvb2wucmV0cmlldmFsO1xuICAgICAgICBpZiAoIXJldHJpZXZhbClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAocmV0cmlldmFsLnZlcnRleFJhZ1N0b3JlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmhhc1ZlcnRleFJhZ1N0b3JlID0gaGFzVmVydGV4UmFnU3RvcmU7XG5mdW5jdGlvbiBoYXNDYWNoZWRDb250ZW50KHJlcXVlc3QpIHtcbiAgICByZXR1cm4gISFyZXF1ZXN0LmNhY2hlZENvbnRlbnQ7XG59XG5mdW5jdGlvbiBoYXNWZXJ0ZXhBSVNlYXJjaChyZXF1ZXN0KSB7XG4gICAgdmFyIF9hO1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiAoX2EgPSByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudG9vbHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSB7XG4gICAgICAgIGNvbnN0IHJldHJpZXZhbCA9IHRvb2wucmV0cmlldmFsO1xuICAgICAgICBpZiAoIXJldHJpZXZhbClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAocmV0cmlldmFsLnZlcnRleEFpU2VhcmNoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmhhc1ZlcnRleEFJU2VhcmNoID0gaGFzVmVydGV4QUlTZWFyY2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVfZmV0Y2hfcHJvY2Vzc2luZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/util.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/util.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.formulateSystemInstructionIntoContent = void 0;\nconst util_1 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\nfunction formulateSystemInstructionIntoContent(systemInstruction) {\n    if (typeof systemInstruction === 'string') {\n        return {\n            role: util_1.constants.SYSTEM_ROLE,\n            parts: [{ text: systemInstruction }],\n        };\n    }\n    systemInstruction.role = util_1.constants.SYSTEM_ROLE;\n    return systemInstruction;\n}\nexports.formulateSystemInstructionIntoContent = formulateSystemInstructionIntoContent;\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3V0aWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2Q0FBNkM7QUFDN0MsZUFBZSxtQkFBTyxDQUFDLG9GQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlCQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL2Z1bmN0aW9ucy91dGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvQ29udGVudCA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuZnVuY3Rpb24gZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvQ29udGVudChzeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgIGlmICh0eXBlb2Ygc3lzdGVtSW5zdHJ1Y3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb2xlOiB1dGlsXzEuY29uc3RhbnRzLlNZU1RFTV9ST0xFLFxuICAgICAgICAgICAgcGFydHM6IFt7IHRleHQ6IHN5c3RlbUluc3RydWN0aW9uIH1dLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzeXN0ZW1JbnN0cnVjdGlvbi5yb2xlID0gdXRpbF8xLmNvbnN0YW50cy5TWVNURU1fUk9MRTtcbiAgICByZXR1cm4gc3lzdGVtSW5zdHJ1Y3Rpb247XG59XG5leHBvcnRzLmZvcm11bGF0ZVN5c3RlbUluc3RydWN0aW9uSW50b0NvbnRlbnQgPSBmb3JtdWxhdGVTeXN0ZW1JbnN0cnVjdGlvbkludG9Db250ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/util.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/index.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VertexAI = void 0;\nvar vertex_ai_1 = __webpack_require__(/*! ./vertex_ai */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js\");\nObject.defineProperty(exports, \"VertexAI\", ({ enumerable: true, get: function () { return vertex_ai_1.VertexAI; } }));\n__exportStar(__webpack_require__(/*! ./types */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./models */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsa0JBQWtCLG1CQUFPLENBQUMsdUZBQWE7QUFDdkMsNENBQTJDLEVBQUUscUNBQXFDLGdDQUFnQyxFQUFDO0FBQ25ILGFBQWEsbUJBQU8sQ0FBQyxxRkFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsdUZBQVU7QUFDL0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlZlcnRleEFJID0gdm9pZCAwO1xudmFyIHZlcnRleF9haV8xID0gcmVxdWlyZShcIi4vdmVydGV4X2FpXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVmVydGV4QUlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZlcnRleF9haV8xLlZlcnRleEFJOyB9IH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9tb2RlbHNcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChatSessionPreview = exports.ChatSession = void 0;\nconst util_1 = __webpack_require__(/*! ../functions/util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/util.js\");\nconst generate_content_1 = __webpack_require__(/*! ../functions/generate_content */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js\");\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst util_2 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\n/**\n * The `ChatSession` class is used to make multiturn send message requests. You\n * can instantiate this class by using the `startChat` method in the\n * `GenerativeModel` class. The `sendMessage` method makes an async call to get\n * the response of a chat message at at once. The `sendMessageStream` method\n * makes an async call to stream the response of a chat message as it's being\n * generated.\n */\nclass ChatSession {\n    async getHistory() {\n        return Promise.resolve(this.historyInternal);\n    }\n    /**\n     * @constructor\n     * @param request - {@link StartChatSessionRequest}\n     */\n    constructor(request, requestOptions) {\n        var _a;\n        this.sendStreamPromise = Promise.resolve();\n        this.project = request.project;\n        this.location = request.location;\n        this.googleAuth = request.googleAuth;\n        this.resourcePath = request.resourcePath;\n        this.historyInternal = (_a = request.history) !== null && _a !== void 0 ? _a : [];\n        this.generationConfig = request.generationConfig;\n        this.safetySettings = request.safetySettings;\n        this.tools = request.tools;\n        this.toolConfig = request.toolConfig;\n        this.apiEndpoint = request.apiEndpoint;\n        this.requestOptions = requestOptions !== null && requestOptions !== void 0 ? requestOptions : {};\n        if (request.systemInstruction) {\n            this.systemInstruction = (0, util_1.formulateSystemInstructionIntoContent)(request.systemInstruction);\n        }\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws {@link GoogleAuthError} when\n     * fails.\n     * @returns Promise of token.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_2.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to send chat message.\n     *\n     * The response is returned in {@link\n     * GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * console.log('Response: ', JSON.stringify(result1.response));\n     *\n     * const result2 = await chat.sendMessage(\"What about python?\");\n     * console.log('Response: ', JSON.stringify(result2.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link GenerateContentResult}.\n     */\n    async sendMessage(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentRequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n        };\n        const generateContentResult = await (0, generate_content_1.generateContent)(this.location, this.resourcePath, this.fetchToken(), generateContentRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions).catch(e => {\n            throw e;\n        });\n        const generateContentResponse = await generateContentResult.response;\n        // Only push the latest message to history if the response returns a result\n        if (generateContentResponse.candidates &&\n            generateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromModel = generateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromModel);\n        }\n        return Promise.resolve(generateContentResult);\n    }\n    async appendHistory(streamGenerateContentResultPromise, newContent) {\n        const streamGenerateContentResult = await streamGenerateContentResultPromise;\n        const streamGenerateContentResponse = await streamGenerateContentResult.response;\n        // Only push the latest message to history if the response returned a result\n        if (streamGenerateContentResponse.candidates &&\n            streamGenerateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromModel = streamGenerateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromModel);\n        }\n    }\n    /**\n     * Makes an async call to stream send message.\n     *\n     * The response is streamed chunk by chunk in\n     * {@link StreamGenerateContentResult.stream}. The aggregated response is\n     * avaliable in {@link StreamGenerateContentResult.response} after all chunks\n     * are returned.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const chatInput = \"How can I learn more about Node.js?\";\n     * const result = await chat.sendMessageStream(chatInput);\n     * for await (const item of result.stream) {\n     *   console.log(item.candidates[0].content.parts[0].text);\n     * }\n     * const response = await result.response;\n     * console.log('aggregated response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link StreamGenerateContentResult}.\n     */\n    async sendMessageStream(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentrequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n        };\n        const streamGenerateContentResultPromise = (0, generate_content_1.generateContentStream)(this.location, this.resourcePath, this.fetchToken(), generateContentrequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions).catch(e => {\n            throw e;\n        });\n        this.sendStreamPromise = this.appendHistory(streamGenerateContentResultPromise, newContent).catch(e => {\n            // Errors from remote endpoint will be catchable by user from streamGenerateContentResultPromise\n            // Errors in appendHistory should not throw to cause user's programe exit with code 1\n            console.error(e);\n        });\n        return streamGenerateContentResultPromise;\n    }\n}\nexports.ChatSession = ChatSession;\n/**\n * The `ChatSessionPreview` class is used to make multiturn send message requests. You\n * can instantiate this class by using the `startChat` method in the\n * `GenerativeModelPreview` class. The `sendMessage` method makes an async call to get\n * the response of a chat message at at once. The `sendMessageStream` method\n * makes an async call to stream the response of a chat message as it's being\n * generated.\n */\nclass ChatSessionPreview {\n    async getHistory() {\n        return Promise.resolve(this.historyInternal);\n    }\n    /**\n     * @constructor\n     * @param request - {@link StartChatSessionRequest}\n     */\n    constructor(request, requestOptions) {\n        var _a;\n        this.sendStreamPromise = Promise.resolve();\n        this.project = request.project;\n        this.location = request.location;\n        this.googleAuth = request.googleAuth;\n        this.resourcePath = request.resourcePath;\n        this.historyInternal = (_a = request.history) !== null && _a !== void 0 ? _a : [];\n        this.generationConfig = request.generationConfig;\n        this.safetySettings = request.safetySettings;\n        this.tools = request.tools;\n        this.toolConfig = request.toolConfig;\n        this.apiEndpoint = request.apiEndpoint;\n        this.requestOptions = requestOptions !== null && requestOptions !== void 0 ? requestOptions : {};\n        this.cachedContent = request.cachedContent;\n        if (request.systemInstruction) {\n            this.systemInstruction = (0, util_1.formulateSystemInstructionIntoContent)(request.systemInstruction);\n        }\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws GoogleAuthError when fails.\n     * @returns Promise of token.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_2.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to send chat message.\n     *\n     * The response is returned in {@link\n     * GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModelPreview.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * console.log('Response: ', JSON.stringify(result1.response));\n     *\n     * const result2 = await chat.sendMessage(\"What about python?\");\n     * console.log('Response: ', JSON.stringify(result2.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link GenerateContentResult}.\n     */\n    async sendMessage(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentRequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n            cachedContent: this.cachedContent,\n        };\n        const generateContentResult = await (0, generate_content_1.generateContent)(this.location, this.resourcePath, this.fetchToken(), generateContentRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions).catch(e => {\n            throw e;\n        });\n        const generateContentResponse = await generateContentResult.response;\n        // Only push the latest message to history if the response returned a result\n        if (generateContentResponse.candidates &&\n            generateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromAssistant = generateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromAssistant);\n        }\n        return Promise.resolve(generateContentResult);\n    }\n    async appendHistory(streamGenerateContentResultPromise, newContent) {\n        const streamGenerateContentResult = await streamGenerateContentResultPromise;\n        const streamGenerateContentResponse = await streamGenerateContentResult.response;\n        // Only push the latest message to history if the response returned a result\n        if (streamGenerateContentResponse.candidates &&\n            streamGenerateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromAssistant = streamGenerateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromAssistant);\n        }\n    }\n    /**\n     * Makes an async call to stream send message.\n     *\n     * The response is streamed chunk by chunk in\n     * {@link StreamGenerateContentResult.stream}. The aggregated response is\n     * avaliable in {@link StreamGenerateContentResult.response} after all chunks\n     * are returned.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const chatInput = \"How can I learn more about Node.js?\";\n     * const result = await chat.sendMessageStream(chatInput);\n     * for await (const item of result.stream) {\n     *   console.log(item.candidates[0].content.parts[0].text);\n     * }\n     * const response = await result.response;\n     * console.log('aggregated response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link StreamGenerateContentResult}.\n     */\n    async sendMessageStream(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentRequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n            cachedContent: this.cachedContent,\n        };\n        const streamGenerateContentResultPromise = (0, generate_content_1.generateContentStream)(this.location, this.resourcePath, this.fetchToken(), generateContentRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions).catch(e => {\n            throw e;\n        });\n        this.sendStreamPromise = this.appendHistory(streamGenerateContentResultPromise, newContent).catch(e => {\n            // Errors from remote endpoint will be catchable by user from streamGenerateContentResultPromise\n            // Errors in appendHistory should not throw to cause user's programe exit with code 1\n            console.error(e);\n        });\n        return streamGenerateContentResultPromise;\n    }\n}\nexports.ChatSessionPreview = ChatSessionPreview;\nfunction formulateNewContentFromSendMessageRequest(request) {\n    let newParts = [];\n    if (typeof request === 'string') {\n        newParts = [{ text: request }];\n    }\n    else if (Array.isArray(request)) {\n        for (const item of request) {\n            if (typeof item === 'string') {\n                newParts.push({ text: item });\n            }\n            else {\n                newParts.push(item);\n            }\n        }\n    }\n    return assignRoleToPartsAndValidateSendMessageRequest(newParts);\n}\n/**\n * When multiple Part types (i.e. FunctionResponsePart and TextPart) are\n * passed in a single Part array, we may need to assign different roles to each\n * part. Currently only FunctionResponsePart requires a role other than 'user'.\n * @ignore\n * @param parts Array of parts to pass to the model\n * @returns Array of content items\n */\nfunction assignRoleToPartsAndValidateSendMessageRequest(parts) {\n    const userContent = { role: util_2.constants.USER_ROLE, parts: [] };\n    const functionContent = { role: util_2.constants.USER_ROLE, parts: [] };\n    let hasUserContent = false;\n    let hasFunctionContent = false;\n    for (const part of parts) {\n        if ('functionResponse' in part) {\n            functionContent.parts.push(part);\n            hasFunctionContent = true;\n        }\n        else {\n            userContent.parts.push(part);\n            hasUserContent = true;\n        }\n    }\n    if (hasUserContent && hasFunctionContent) {\n        throw new errors_1.ClientError('Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.');\n    }\n    if (!hasUserContent && !hasFunctionContent) {\n        throw new errors_1.ClientError('No content is provided for sending chat message.');\n    }\n    if (hasUserContent) {\n        return [userContent];\n    }\n    return [functionContent];\n}\n//# sourceMappingURL=chat_session.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvbW9kZWxzL2NoYXRfc2Vzc2lvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLG1CQUFtQjtBQUNoRCxlQUFlLG1CQUFPLENBQUMsa0dBQW1CO0FBQzFDLDJCQUEyQixtQkFBTyxDQUFDLDBIQUErQjtBQUNsRSxpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDMUMsZUFBZSxtQkFBTyxDQUFDLG9GQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx1QkFBdUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUF5QztBQUNqRCxxQkFBcUIsNENBQTRDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQ0FBa0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUNBQXlDO0FBQ2pELHFCQUFxQiw0Q0FBNEM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtDQUFrQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9tb2RlbHMvY2hhdF9zZXNzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2hhdFNlc3Npb25QcmV2aWV3ID0gZXhwb3J0cy5DaGF0U2Vzc2lvbiA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi9mdW5jdGlvbnMvdXRpbFwiKTtcbmNvbnN0IGdlbmVyYXRlX2NvbnRlbnRfMSA9IHJlcXVpcmUoXCIuLi9mdW5jdGlvbnMvZ2VuZXJhdGVfY29udGVudFwiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4uL3R5cGVzL2Vycm9yc1wiKTtcbmNvbnN0IHV0aWxfMiA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuLyoqXG4gKiBUaGUgYENoYXRTZXNzaW9uYCBjbGFzcyBpcyB1c2VkIHRvIG1ha2UgbXVsdGl0dXJuIHNlbmQgbWVzc2FnZSByZXF1ZXN0cy4gWW91XG4gKiBjYW4gaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBieSB1c2luZyB0aGUgYHN0YXJ0Q2hhdGAgbWV0aG9kIGluIHRoZVxuICogYEdlbmVyYXRpdmVNb2RlbGAgY2xhc3MuIFRoZSBgc2VuZE1lc3NhZ2VgIG1ldGhvZCBtYWtlcyBhbiBhc3luYyBjYWxsIHRvIGdldFxuICogdGhlIHJlc3BvbnNlIG9mIGEgY2hhdCBtZXNzYWdlIGF0IGF0IG9uY2UuIFRoZSBgc2VuZE1lc3NhZ2VTdHJlYW1gIG1ldGhvZFxuICogbWFrZXMgYW4gYXN5bmMgY2FsbCB0byBzdHJlYW0gdGhlIHJlc3BvbnNlIG9mIGEgY2hhdCBtZXNzYWdlIGFzIGl0J3MgYmVpbmdcbiAqIGdlbmVyYXRlZC5cbiAqL1xuY2xhc3MgQ2hhdFNlc3Npb24ge1xuICAgIGFzeW5jIGdldEhpc3RvcnkoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5oaXN0b3J5SW50ZXJuYWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIHtAbGluayBTdGFydENoYXRTZXNzaW9uUmVxdWVzdH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuc2VuZFN0cmVhbVByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcmVxdWVzdC5wcm9qZWN0O1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gcmVxdWVzdC5sb2NhdGlvbjtcbiAgICAgICAgdGhpcy5nb29nbGVBdXRoID0gcmVxdWVzdC5nb29nbGVBdXRoO1xuICAgICAgICB0aGlzLnJlc291cmNlUGF0aCA9IHJlcXVlc3QucmVzb3VyY2VQYXRoO1xuICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbCA9IChfYSA9IHJlcXVlc3QuaGlzdG9yeSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgIHRoaXMuZ2VuZXJhdGlvbkNvbmZpZyA9IHJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZztcbiAgICAgICAgdGhpcy5zYWZldHlTZXR0aW5ncyA9IHJlcXVlc3Quc2FmZXR5U2V0dGluZ3M7XG4gICAgICAgIHRoaXMudG9vbHMgPSByZXF1ZXN0LnRvb2xzO1xuICAgICAgICB0aGlzLnRvb2xDb25maWcgPSByZXF1ZXN0LnRvb2xDb25maWc7XG4gICAgICAgIHRoaXMuYXBpRW5kcG9pbnQgPSByZXF1ZXN0LmFwaUVuZHBvaW50O1xuICAgICAgICB0aGlzLnJlcXVlc3RPcHRpb25zID0gcmVxdWVzdE9wdGlvbnMgIT09IG51bGwgJiYgcmVxdWVzdE9wdGlvbnMgIT09IHZvaWQgMCA/IHJlcXVlc3RPcHRpb25zIDoge307XG4gICAgICAgIGlmIChyZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbUluc3RydWN0aW9uID0gKDAsIHV0aWxfMS5mb3JtdWxhdGVTeXN0ZW1JbnN0cnVjdGlvbkludG9Db250ZW50KShyZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFjY2VzcyB0b2tlbiBmcm9tIEdvb2dsZUF1dGguIFRocm93cyB7QGxpbmsgR29vZ2xlQXV0aEVycm9yfSB3aGVuXG4gICAgICogZmFpbHMuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB0b2tlbi5cbiAgICAgKi9cbiAgICBmZXRjaFRva2VuKCkge1xuICAgICAgICBjb25zdCB0b2tlblByb21pc2UgPSB0aGlzLmdvb2dsZUF1dGguZ2V0QWNjZXNzVG9rZW4oKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Hb29nbGVBdXRoRXJyb3IodXRpbF8yLmNvbnN0YW50cy5DUkVERU5USUFMX0VSUk9SX01FU1NBR0UsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgY2FsbCB0byBzZW5kIGNoYXQgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIFRoZSByZXNwb25zZSBpcyByZXR1cm5lZCBpbiB7QGxpbmtcbiAgICAgKiBHZW5lcmF0ZUNvbnRlbnRSZXN1bHQucmVzcG9uc2V9LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjaGF0ID0gZ2VuZXJhdGl2ZU1vZGVsLnN0YXJ0Q2hhdCgpO1xuICAgICAqIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlKFwiSG93IGNhbiBJIGxlYXJuIG1vcmUgYWJvdXQgTm9kZS5qcz9cIik7XG4gICAgICogY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShyZXN1bHQxLnJlc3BvbnNlKSk7XG4gICAgICpcbiAgICAgKiBjb25zdCByZXN1bHQyID0gYXdhaXQgY2hhdC5zZW5kTWVzc2FnZShcIldoYXQgYWJvdXQgcHl0aG9uP1wiKTtcbiAgICAgKiBjb25zb2xlLmxvZygnUmVzcG9uc2U6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3VsdDIucmVzcG9uc2UpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gc2VuZCBtZXNzYWdlIHJlcXVlc3QuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB7QGxpbmsgR2VuZXJhdGVDb250ZW50UmVzdWx0fS5cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kTWVzc2FnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBmb3JtdWxhdGVOZXdDb250ZW50RnJvbVNlbmRNZXNzYWdlUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVDb250ZW50UmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGNvbnRlbnRzOiB0aGlzLmhpc3RvcnlJbnRlcm5hbC5jb25jYXQobmV3Q29udGVudCksXG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogdGhpcy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IHRoaXMuZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHRvb2xzOiB0aGlzLnRvb2xzLFxuICAgICAgICAgICAgdG9vbENvbmZpZzogdGhpcy50b29sQ29uZmlnLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlc3VsdCA9IGF3YWl0ICgwLCBnZW5lcmF0ZV9jb250ZW50XzEuZ2VuZXJhdGVDb250ZW50KSh0aGlzLmxvY2F0aW9uLCB0aGlzLnJlc291cmNlUGF0aCwgdGhpcy5mZXRjaFRva2VuKCksIGdlbmVyYXRlQ29udGVudFJlcXVlc3QsIHRoaXMuYXBpRW5kcG9pbnQsIHRoaXMuZ2VuZXJhdGlvbkNvbmZpZywgdGhpcy5zYWZldHlTZXR0aW5ncywgdGhpcy50b29scywgdGhpcy50b29sQ29uZmlnLCB0aGlzLnJlcXVlc3RPcHRpb25zKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSA9IGF3YWl0IGdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgLy8gT25seSBwdXNoIHRoZSBsYXRlc3QgbWVzc2FnZSB0byBoaXN0b3J5IGlmIHRoZSByZXNwb25zZSByZXR1cm5zIGEgcmVzdWx0XG4gICAgICAgIGlmIChnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzICYmXG4gICAgICAgICAgICBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5SW50ZXJuYWwgPSB0aGlzLmhpc3RvcnlJbnRlcm5hbC5jb25jYXQobmV3Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50RnJvbU1vZGVsID0gZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlc1swXS5jb250ZW50O1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5SW50ZXJuYWwucHVzaChjb250ZW50RnJvbU1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlbmVyYXRlQ29udGVudFJlc3VsdCk7XG4gICAgfVxuICAgIGFzeW5jIGFwcGVuZEhpc3Rvcnkoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZSwgbmV3Q29udGVudCkge1xuICAgICAgICBjb25zdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHQgPSBhd2FpdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHRQcm9taXNlO1xuICAgICAgICBjb25zdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSA9IGF3YWl0IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgLy8gT25seSBwdXNoIHRoZSBsYXRlc3QgbWVzc2FnZSB0byBoaXN0b3J5IGlmIHRoZSByZXNwb25zZSByZXR1cm5lZCBhIHJlc3VsdFxuICAgICAgICBpZiAoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlcyAmJlxuICAgICAgICAgICAgc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeUludGVybmFsID0gdGhpcy5oaXN0b3J5SW50ZXJuYWwuY29uY2F0KG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudEZyb21Nb2RlbCA9IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0uY29udGVudDtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeUludGVybmFsLnB1c2goY29udGVudEZyb21Nb2RlbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgY2FsbCB0byBzdHJlYW0gc2VuZCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIGlzIHN0cmVhbWVkIGNodW5rIGJ5IGNodW5rIGluXG4gICAgICoge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5zdHJlYW19LiBUaGUgYWdncmVnYXRlZCByZXNwb25zZSBpc1xuICAgICAqIGF2YWxpYWJsZSBpbiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlfSBhZnRlciBhbGwgY2h1bmtzXG4gICAgICogYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjaGF0ID0gZ2VuZXJhdGl2ZU1vZGVsLnN0YXJ0Q2hhdCgpO1xuICAgICAqIGNvbnN0IGNoYXRJbnB1dCA9IFwiSG93IGNhbiBJIGxlYXJuIG1vcmUgYWJvdXQgTm9kZS5qcz9cIjtcbiAgICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlU3RyZWFtKGNoYXRJbnB1dCk7XG4gICAgICogZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHJlc3VsdC5zdHJlYW0pIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGl0ZW0uY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzWzBdLnRleHQpO1xuICAgICAqIH1cbiAgICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgKiBjb25zb2xlLmxvZygnYWdncmVnYXRlZCByZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LnJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIHNlbmQgbWVzc2FnZSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2Yge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdH0uXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE1lc3NhZ2VTdHJlYW0ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gZm9ybXVsYXRlTmV3Q29udGVudEZyb21TZW5kTWVzc2FnZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBjb250ZW50czogdGhpcy5oaXN0b3J5SW50ZXJuYWwuY29uY2F0KG5ld0NvbnRlbnQpLFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB0aGlzLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogdGhpcy50b29scyxcbiAgICAgICAgICAgIHRvb2xDb25maWc6IHRoaXMudG9vbENvbmZpZyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHRQcm9taXNlID0gKDAsIGdlbmVyYXRlX2NvbnRlbnRfMS5nZW5lcmF0ZUNvbnRlbnRTdHJlYW0pKHRoaXMubG9jYXRpb24sIHRoaXMucmVzb3VyY2VQYXRoLCB0aGlzLmZldGNoVG9rZW4oKSwgZ2VuZXJhdGVDb250ZW50cmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCB0aGlzLnNhZmV0eVNldHRpbmdzLCB0aGlzLnRvb2xzLCB0aGlzLnRvb2xDb25maWcsIHRoaXMucmVxdWVzdE9wdGlvbnMpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFN0cmVhbVByb21pc2UgPSB0aGlzLmFwcGVuZEhpc3Rvcnkoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZSwgbmV3Q29udGVudCkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAvLyBFcnJvcnMgZnJvbSByZW1vdGUgZW5kcG9pbnQgd2lsbCBiZSBjYXRjaGFibGUgYnkgdXNlciBmcm9tIHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdFByb21pc2VcbiAgICAgICAgICAgIC8vIEVycm9ycyBpbiBhcHBlbmRIaXN0b3J5IHNob3VsZCBub3QgdGhyb3cgdG8gY2F1c2UgdXNlcidzIHByb2dyYW1lIGV4aXQgd2l0aCBjb2RlIDFcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZTtcbiAgICB9XG59XG5leHBvcnRzLkNoYXRTZXNzaW9uID0gQ2hhdFNlc3Npb247XG4vKipcbiAqIFRoZSBgQ2hhdFNlc3Npb25QcmV2aWV3YCBjbGFzcyBpcyB1c2VkIHRvIG1ha2UgbXVsdGl0dXJuIHNlbmQgbWVzc2FnZSByZXF1ZXN0cy4gWW91XG4gKiBjYW4gaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBieSB1c2luZyB0aGUgYHN0YXJ0Q2hhdGAgbWV0aG9kIGluIHRoZVxuICogYEdlbmVyYXRpdmVNb2RlbFByZXZpZXdgIGNsYXNzLiBUaGUgYHNlbmRNZXNzYWdlYCBtZXRob2QgbWFrZXMgYW4gYXN5bmMgY2FsbCB0byBnZXRcbiAqIHRoZSByZXNwb25zZSBvZiBhIGNoYXQgbWVzc2FnZSBhdCBhdCBvbmNlLiBUaGUgYHNlbmRNZXNzYWdlU3RyZWFtYCBtZXRob2RcbiAqIG1ha2VzIGFuIGFzeW5jIGNhbGwgdG8gc3RyZWFtIHRoZSByZXNwb25zZSBvZiBhIGNoYXQgbWVzc2FnZSBhcyBpdCdzIGJlaW5nXG4gKiBnZW5lcmF0ZWQuXG4gKi9cbmNsYXNzIENoYXRTZXNzaW9uUHJldmlldyB7XG4gICAgYXN5bmMgZ2V0SGlzdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmhpc3RvcnlJbnRlcm5hbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIFN0YXJ0Q2hhdFNlc3Npb25SZXF1ZXN0fVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5zZW5kU3RyZWFtUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB0aGlzLnByb2plY3QgPSByZXF1ZXN0LnByb2plY3Q7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSByZXF1ZXN0LmxvY2F0aW9uO1xuICAgICAgICB0aGlzLmdvb2dsZUF1dGggPSByZXF1ZXN0Lmdvb2dsZUF1dGg7XG4gICAgICAgIHRoaXMucmVzb3VyY2VQYXRoID0gcmVxdWVzdC5yZXNvdXJjZVBhdGg7XG4gICAgICAgIHRoaXMuaGlzdG9yeUludGVybmFsID0gKF9hID0gcmVxdWVzdC5oaXN0b3J5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgdGhpcy5nZW5lcmF0aW9uQ29uZmlnID0gcmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnO1xuICAgICAgICB0aGlzLnNhZmV0eVNldHRpbmdzID0gcmVxdWVzdC5zYWZldHlTZXR0aW5ncztcbiAgICAgICAgdGhpcy50b29scyA9IHJlcXVlc3QudG9vbHM7XG4gICAgICAgIHRoaXMudG9vbENvbmZpZyA9IHJlcXVlc3QudG9vbENvbmZpZztcbiAgICAgICAgdGhpcy5hcGlFbmRwb2ludCA9IHJlcXVlc3QuYXBpRW5kcG9pbnQ7XG4gICAgICAgIHRoaXMucmVxdWVzdE9wdGlvbnMgPSByZXF1ZXN0T3B0aW9ucyAhPT0gbnVsbCAmJiByZXF1ZXN0T3B0aW9ucyAhPT0gdm9pZCAwID8gcmVxdWVzdE9wdGlvbnMgOiB7fTtcbiAgICAgICAgdGhpcy5jYWNoZWRDb250ZW50ID0gcmVxdWVzdC5jYWNoZWRDb250ZW50O1xuICAgICAgICBpZiAocmVxdWVzdC5zeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbiA9ICgwLCB1dGlsXzEuZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvQ29udGVudCkocmVxdWVzdC5zeXN0ZW1JbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhY2Nlc3MgdG9rZW4gZnJvbSBHb29nbGVBdXRoLiBUaHJvd3MgR29vZ2xlQXV0aEVycm9yIHdoZW4gZmFpbHMuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB0b2tlbi5cbiAgICAgKi9cbiAgICBmZXRjaFRva2VuKCkge1xuICAgICAgICBjb25zdCB0b2tlblByb21pc2UgPSB0aGlzLmdvb2dsZUF1dGguZ2V0QWNjZXNzVG9rZW4oKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Hb29nbGVBdXRoRXJyb3IodXRpbF8yLmNvbnN0YW50cy5DUkVERU5USUFMX0VSUk9SX01FU1NBR0UsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgY2FsbCB0byBzZW5kIGNoYXQgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIFRoZSByZXNwb25zZSBpcyByZXR1cm5lZCBpbiB7QGxpbmtcbiAgICAgKiBHZW5lcmF0ZUNvbnRlbnRSZXN1bHQucmVzcG9uc2V9LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjaGF0ID0gZ2VuZXJhdGl2ZU1vZGVsUHJldmlldy5zdGFydENoYXQoKTtcbiAgICAgKiBjb25zdCByZXN1bHQxID0gYXdhaXQgY2hhdC5zZW5kTWVzc2FnZShcIkhvdyBjYW4gSSBsZWFybiBtb3JlIGFib3V0IE5vZGUuanM/XCIpO1xuICAgICAqIGNvbnNvbGUubG9nKCdSZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0MS5yZXNwb25zZSkpO1xuICAgICAqXG4gICAgICogY29uc3QgcmVzdWx0MiA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2UoXCJXaGF0IGFib3V0IHB5dGhvbj9cIik7XG4gICAgICogY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShyZXN1bHQyLnJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIHNlbmQgbWVzc2FnZSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2Yge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3VsdH0uXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE1lc3NhZ2UocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gZm9ybXVsYXRlTmV3Q29udGVudEZyb21TZW5kTWVzc2FnZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSB7XG4gICAgICAgICAgICBjb250ZW50czogdGhpcy5oaXN0b3J5SW50ZXJuYWwuY29uY2F0KG5ld0NvbnRlbnQpLFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB0aGlzLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogdGhpcy50b29scyxcbiAgICAgICAgICAgIHRvb2xDb25maWc6IHRoaXMudG9vbENvbmZpZyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICAgICAgY2FjaGVkQ29udGVudDogdGhpcy5jYWNoZWRDb250ZW50LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRSZXN1bHQgPSBhd2FpdCAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudCkodGhpcy5sb2NhdGlvbiwgdGhpcy5yZXNvdXJjZVBhdGgsIHRoaXMuZmV0Y2hUb2tlbigpLCBnZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0LCB0aGlzLmFwaUVuZHBvaW50LCB0aGlzLmdlbmVyYXRpb25Db25maWcsIHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRoaXMudG9vbHMsIHRoaXMudG9vbENvbmZpZywgdGhpcy5yZXF1ZXN0T3B0aW9ucykuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZUNvbnRlbnRSZXN1bHQucmVzcG9uc2U7XG4gICAgICAgIC8vIE9ubHkgcHVzaCB0aGUgbGF0ZXN0IG1lc3NhZ2UgdG8gaGlzdG9yeSBpZiB0aGUgcmVzcG9uc2UgcmV0dXJuZWQgYSByZXN1bHRcbiAgICAgICAgaWYgKGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMgJiZcbiAgICAgICAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbCA9IHRoaXMuaGlzdG9yeUludGVybmFsLmNvbmNhdChuZXdDb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRGcm9tQXNzaXN0YW50ID0gZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlc1swXS5jb250ZW50O1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5SW50ZXJuYWwucHVzaChjb250ZW50RnJvbUFzc2lzdGFudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShnZW5lcmF0ZUNvbnRlbnRSZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBhcHBlbmRIaXN0b3J5KHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdFByb21pc2UsIG5ld0NvbnRlbnQpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0ID0gYXdhaXQgc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZTtcbiAgICAgICAgY29uc3Qgc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzcG9uc2UgPSBhd2FpdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHQucmVzcG9uc2U7XG4gICAgICAgIC8vIE9ubHkgcHVzaCB0aGUgbGF0ZXN0IG1lc3NhZ2UgdG8gaGlzdG9yeSBpZiB0aGUgcmVzcG9uc2UgcmV0dXJuZWQgYSByZXN1bHRcbiAgICAgICAgaWYgKHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMgJiZcbiAgICAgICAgICAgIHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbCA9IHRoaXMuaGlzdG9yeUludGVybmFsLmNvbmNhdChuZXdDb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRGcm9tQXNzaXN0YW50ID0gc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlc1swXS5jb250ZW50O1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5SW50ZXJuYWwucHVzaChjb250ZW50RnJvbUFzc2lzdGFudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgY2FsbCB0byBzdHJlYW0gc2VuZCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIGlzIHN0cmVhbWVkIGNodW5rIGJ5IGNodW5rIGluXG4gICAgICoge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5zdHJlYW19LiBUaGUgYWdncmVnYXRlZCByZXNwb25zZSBpc1xuICAgICAqIGF2YWxpYWJsZSBpbiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlfSBhZnRlciBhbGwgY2h1bmtzXG4gICAgICogYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjaGF0ID0gZ2VuZXJhdGl2ZU1vZGVsLnN0YXJ0Q2hhdCgpO1xuICAgICAqIGNvbnN0IGNoYXRJbnB1dCA9IFwiSG93IGNhbiBJIGxlYXJuIG1vcmUgYWJvdXQgTm9kZS5qcz9cIjtcbiAgICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlU3RyZWFtKGNoYXRJbnB1dCk7XG4gICAgICogZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHJlc3VsdC5zdHJlYW0pIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGl0ZW0uY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzWzBdLnRleHQpO1xuICAgICAqIH1cbiAgICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgKiBjb25zb2xlLmxvZygnYWdncmVnYXRlZCByZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LnJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIHNlbmQgbWVzc2FnZSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2Yge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdH0uXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE1lc3NhZ2VTdHJlYW0ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gZm9ybXVsYXRlTmV3Q29udGVudEZyb21TZW5kTWVzc2FnZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSB7XG4gICAgICAgICAgICBjb250ZW50czogdGhpcy5oaXN0b3J5SW50ZXJuYWwuY29uY2F0KG5ld0NvbnRlbnQpLFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB0aGlzLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogdGhpcy50b29scyxcbiAgICAgICAgICAgIHRvb2xDb25maWc6IHRoaXMudG9vbENvbmZpZyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICAgICAgY2FjaGVkQ29udGVudDogdGhpcy5jYWNoZWRDb250ZW50LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHRQcm9taXNlID0gKDAsIGdlbmVyYXRlX2NvbnRlbnRfMS5nZW5lcmF0ZUNvbnRlbnRTdHJlYW0pKHRoaXMubG9jYXRpb24sIHRoaXMucmVzb3VyY2VQYXRoLCB0aGlzLmZldGNoVG9rZW4oKSwgZ2VuZXJhdGVDb250ZW50UmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCB0aGlzLnNhZmV0eVNldHRpbmdzLCB0aGlzLnRvb2xzLCB0aGlzLnRvb2xDb25maWcsIHRoaXMucmVxdWVzdE9wdGlvbnMpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFN0cmVhbVByb21pc2UgPSB0aGlzLmFwcGVuZEhpc3Rvcnkoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZSwgbmV3Q29udGVudCkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAvLyBFcnJvcnMgZnJvbSByZW1vdGUgZW5kcG9pbnQgd2lsbCBiZSBjYXRjaGFibGUgYnkgdXNlciBmcm9tIHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdFByb21pc2VcbiAgICAgICAgICAgIC8vIEVycm9ycyBpbiBhcHBlbmRIaXN0b3J5IHNob3VsZCBub3QgdGhyb3cgdG8gY2F1c2UgdXNlcidzIHByb2dyYW1lIGV4aXQgd2l0aCBjb2RlIDFcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZTtcbiAgICB9XG59XG5leHBvcnRzLkNoYXRTZXNzaW9uUHJldmlldyA9IENoYXRTZXNzaW9uUHJldmlldztcbmZ1bmN0aW9uIGZvcm11bGF0ZU5ld0NvbnRlbnRGcm9tU2VuZE1lc3NhZ2VSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBsZXQgbmV3UGFydHMgPSBbXTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG5ld1BhcnRzID0gW3sgdGV4dDogcmVxdWVzdCB9XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXF1ZXN0KSkge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG5ld1BhcnRzLnB1c2goeyB0ZXh0OiBpdGVtIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3UGFydHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXNzaWduUm9sZVRvUGFydHNBbmRWYWxpZGF0ZVNlbmRNZXNzYWdlUmVxdWVzdChuZXdQYXJ0cyk7XG59XG4vKipcbiAqIFdoZW4gbXVsdGlwbGUgUGFydCB0eXBlcyAoaS5lLiBGdW5jdGlvblJlc3BvbnNlUGFydCBhbmQgVGV4dFBhcnQpIGFyZVxuICogcGFzc2VkIGluIGEgc2luZ2xlIFBhcnQgYXJyYXksIHdlIG1heSBuZWVkIHRvIGFzc2lnbiBkaWZmZXJlbnQgcm9sZXMgdG8gZWFjaFxuICogcGFydC4gQ3VycmVudGx5IG9ubHkgRnVuY3Rpb25SZXNwb25zZVBhcnQgcmVxdWlyZXMgYSByb2xlIG90aGVyIHRoYW4gJ3VzZXInLlxuICogQGlnbm9yZVxuICogQHBhcmFtIHBhcnRzIEFycmF5IG9mIHBhcnRzIHRvIHBhc3MgdG8gdGhlIG1vZGVsXG4gKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGl0ZW1zXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblJvbGVUb1BhcnRzQW5kVmFsaWRhdGVTZW5kTWVzc2FnZVJlcXVlc3QocGFydHMpIHtcbiAgICBjb25zdCB1c2VyQ29udGVudCA9IHsgcm9sZTogdXRpbF8yLmNvbnN0YW50cy5VU0VSX1JPTEUsIHBhcnRzOiBbXSB9O1xuICAgIGNvbnN0IGZ1bmN0aW9uQ29udGVudCA9IHsgcm9sZTogdXRpbF8yLmNvbnN0YW50cy5VU0VSX1JPTEUsIHBhcnRzOiBbXSB9O1xuICAgIGxldCBoYXNVc2VyQ29udGVudCA9IGZhbHNlO1xuICAgIGxldCBoYXNGdW5jdGlvbkNvbnRlbnQgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgaWYgKCdmdW5jdGlvblJlc3BvbnNlJyBpbiBwYXJ0KSB7XG4gICAgICAgICAgICBmdW5jdGlvbkNvbnRlbnQucGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIGhhc0Z1bmN0aW9uQ29udGVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1c2VyQ29udGVudC5wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgaGFzVXNlckNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNVc2VyQ29udGVudCAmJiBoYXNGdW5jdGlvbkNvbnRlbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkNsaWVudEVycm9yKCdXaXRoaW4gYSBzaW5nbGUgbWVzc2FnZSwgRnVuY3Rpb25SZXNwb25zZSBjYW5ub3QgYmUgbWl4ZWQgd2l0aCBvdGhlciB0eXBlIG9mIHBhcnQgaW4gdGhlIHJlcXVlc3QgZm9yIHNlbmRpbmcgY2hhdCBtZXNzYWdlLicpO1xuICAgIH1cbiAgICBpZiAoIWhhc1VzZXJDb250ZW50ICYmICFoYXNGdW5jdGlvbkNvbnRlbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkNsaWVudEVycm9yKCdObyBjb250ZW50IGlzIHByb3ZpZGVkIGZvciBzZW5kaW5nIGNoYXQgbWVzc2FnZS4nKTtcbiAgICB9XG4gICAgaWYgKGhhc1VzZXJDb250ZW50KSB7XG4gICAgICAgIHJldHVybiBbdXNlckNvbnRlbnRdO1xuICAgIH1cbiAgICByZXR1cm4gW2Z1bmN0aW9uQ29udGVudF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGF0X3Nlc3Npb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerativeModelPreview = exports.GenerativeModel = void 0;\nconst util_1 = __webpack_require__(/*! ../functions/util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/util.js\");\nconst count_tokens_1 = __webpack_require__(/*! ../functions/count_tokens */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js\");\nconst generate_content_1 = __webpack_require__(/*! ../functions/generate_content */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js\");\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst util_2 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\nconst chat_session_1 = __webpack_require__(/*! ./chat_session */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js\");\n/**\n * The `GenerativeModel` class is the base class for the generative models on\n * Vertex AI.\n * NOTE: Don't instantiate this class directly. Use\n * `vertexai.getGenerativeModel()` instead.\n */\nclass GenerativeModel {\n    /**\n     * @constructor\n     * @param getGenerativeModelParams - {@link GetGenerativeModelParams}\n     */\n    constructor(getGenerativeModelParams) {\n        var _a;\n        this.project = getGenerativeModelParams.project;\n        this.location = getGenerativeModelParams.location;\n        this.apiEndpoint = getGenerativeModelParams.apiEndpoint;\n        this.googleAuth = getGenerativeModelParams.googleAuth;\n        this.model = getGenerativeModelParams.model;\n        this.generationConfig = getGenerativeModelParams.generationConfig;\n        this.safetySettings = getGenerativeModelParams.safetySettings;\n        this.tools = getGenerativeModelParams.tools;\n        this.toolConfig = getGenerativeModelParams.toolConfig;\n        this.requestOptions = (_a = getGenerativeModelParams.requestOptions) !== null && _a !== void 0 ? _a : {};\n        if (getGenerativeModelParams.systemInstruction) {\n            this.systemInstruction = (0, util_1.formulateSystemInstructionIntoContent)(getGenerativeModelParams.systemInstruction);\n        }\n        this.resourcePath = formulateResourcePathFromModel(this.model, this.project, this.location);\n        // publisherModelEndpoint is deprecated\n        this.publisherModelEndpoint = this.resourcePath;\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws {@link GoogleAuthError} when\n     * fails.\n     * @returns Promise of token string.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_2.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to generate content.\n     *\n     * The response will be returned in {@link\n     * GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const result = await generativeModel.generateContent(request);\n     * console.log('Response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - A GenerateContentRequest object with the request contents.\n     * @returns The GenerateContentResponse object with the response candidates.\n     */\n    async generateContent(request) {\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction);\n        return (0, generate_content_1.generateContent)(this.location, this.resourcePath, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions);\n    }\n    /**\n     * Makes an async stream request to generate content.\n     *\n     * The response is returned chunk by chunk as it's being generated in {@link\n     * StreamGenerateContentResult.stream}. After all chunks of the response are\n     * returned, the aggregated response is available in\n     * {@link StreamGenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const streamingResult = await generativeModel.generateContentStream(request);\n     * for await (const item of streamingResult.stream) {\n     *   console.log('stream chunk: ', JSON.stringify(item));\n     * }\n     * const aggregatedResponse = await streamingResult.response;\n     * console.log('aggregated response: ', JSON.stringify(aggregatedResponse));\n     * ```\n     *\n     * @param request - {@link GenerateContentRequest}\n     * @returns Promise of {@link StreamGenerateContentResult}\n     */\n    async generateContentStream(request) {\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction);\n        return (0, generate_content_1.generateContentStream)(this.location, this.resourcePath, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions);\n    }\n    /**\n     * Makes an async request to count tokens.\n     *\n     * The `countTokens` function returns the token count and the number of\n     * billable characters for a prompt.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const resp = await generativeModel.countTokens(request);\n     * console.log('count tokens response: ', resp);\n     * ```\n     *\n     * @param request - A CountTokensRequest object with the request contents.\n     * @returns The CountTokensResponse object with the token count.\n     */\n    async countTokens(request) {\n        return (0, count_tokens_1.countTokens)(this.location, this.resourcePath, this.fetchToken(), request, this.apiEndpoint, this.requestOptions);\n    }\n    /**\n     * Instantiates a {@link ChatSession}.\n     *\n     * The {@link ChatSession} class is a stateful class that holds the state of\n     * the conversation with the model and provides methods to interact with the\n     * model in chat mode. Calling this method doesn't make any calls to a remote\n     * endpoint. To make remote call, use {@link ChatSession.sendMessage} or\n     * @link ChatSession.sendMessageStream}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * const response1 = await result1.response;\n     * console.log('Response: ', JSON.stringify(response1));\n     *\n     * const result2 = await chat.sendMessageStream(\"What about python?\");\n     * const response2 = await result2.response;\n     * console.log('Response: ', JSON.stringify(await response2));\n     * ```\n     *\n     * @param request - {@link StartChatParams}\n     * @returns {@link ChatSession}\n     */\n    startChat(request) {\n        var _a, _b, _c, _d, _e, _f;\n        const startChatRequest = {\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            publisherModelEndpoint: this.publisherModelEndpoint,\n            resourcePath: this.resourcePath,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n        };\n        if (request) {\n            startChatRequest.history = request.history;\n            startChatRequest.generationConfig =\n                (_a = request.generationConfig) !== null && _a !== void 0 ? _a : this.generationConfig;\n            startChatRequest.safetySettings =\n                (_b = request.safetySettings) !== null && _b !== void 0 ? _b : this.safetySettings;\n            startChatRequest.tools = (_c = request.tools) !== null && _c !== void 0 ? _c : this.tools;\n            startChatRequest.toolConfig = (_d = request.toolConfig) !== null && _d !== void 0 ? _d : this.toolConfig;\n            startChatRequest.apiEndpoint = (_e = request.apiEndpoint) !== null && _e !== void 0 ? _e : this.apiEndpoint;\n            startChatRequest.systemInstruction =\n                (_f = request.systemInstruction) !== null && _f !== void 0 ? _f : this.systemInstruction;\n        }\n        return new chat_session_1.ChatSession(startChatRequest, this.requestOptions);\n    }\n}\nexports.GenerativeModel = GenerativeModel;\n/**\n * The `GenerativeModelPreview` class is the base class for the generative models\n * that are in preview.\n * NOTE: Don't instantiate this class directly. Use\n * `vertexai.preview.getGenerativeModel()` instead.\n */\nclass GenerativeModelPreview {\n    /**\n     * @constructor\n     * @param getGenerativeModelParams - {@link GetGenerativeModelParams}\n     */\n    constructor(getGenerativeModelParams) {\n        var _a;\n        this.project = getGenerativeModelParams.project;\n        this.location = getGenerativeModelParams.location;\n        this.apiEndpoint = getGenerativeModelParams.apiEndpoint;\n        this.googleAuth = getGenerativeModelParams.googleAuth;\n        this.model = getGenerativeModelParams.model;\n        this.generationConfig = getGenerativeModelParams.generationConfig;\n        this.safetySettings = getGenerativeModelParams.safetySettings;\n        this.tools = getGenerativeModelParams.tools;\n        this.toolConfig = getGenerativeModelParams.toolConfig;\n        this.cachedContent = getGenerativeModelParams.cachedContent;\n        this.requestOptions = (_a = getGenerativeModelParams.requestOptions) !== null && _a !== void 0 ? _a : {};\n        if (getGenerativeModelParams.systemInstruction) {\n            this.systemInstruction = (0, util_1.formulateSystemInstructionIntoContent)(getGenerativeModelParams.systemInstruction);\n        }\n        this.resourcePath = formulateResourcePathFromModel(this.model, this.project, this.location);\n        // publisherModelEndpoint is deprecated\n        this.publisherModelEndpoint = this.resourcePath;\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws {@link GoogleAuthError} when\n     * fails.\n     * @returns Promise of token string.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_2.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to generate content.\n     *\n     * The response will be returned in {@link GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const result = await generativeModelPreview.generateContent(request);\n     * console.log('Response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - A GenerateContentRequest object with the request contents.\n     * @returns The GenerateContentResponse object with the response candidates.\n     */\n    async generateContent(request) {\n        var _a;\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = {\n            ...formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction),\n            cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name,\n        };\n        return (0, generate_content_1.generateContent)(this.location, this.resourcePath, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions);\n    }\n    /**\n     * Makes an async stream request to generate content.\n     *\n     * The response is returned chunk by chunk as it's being generated in {@link\n     * StreamGenerateContentResult.stream}. After all chunks of the response are\n     * returned, the aggregated response is available in\n     * {@link StreamGenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const streamingResult = await generativeModelPreview.generateContentStream(request);\n     * for await (const item of streamingResult.stream) {\n     *   console.log('stream chunk: ', JSON.stringify(item));\n     * }\n     * const aggregatedResponse = await streamingResult.response;\n     * console.log('aggregated response: ', JSON.stringify(aggregatedResponse));\n     * ```\n     *\n     * @param request - {@link GenerateContentRequest}\n     * @returns Promise of {@link StreamGenerateContentResult}\n     */\n    async generateContentStream(request) {\n        var _a;\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = {\n            ...formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction),\n            cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name,\n        };\n        return (0, generate_content_1.generateContentStream)(this.location, this.resourcePath, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.toolConfig, this.requestOptions);\n    }\n    /**\n     * Makes an async request to count tokens.\n     *\n     * The `countTokens` function returns the token count and the number of\n     * billable characters for a prompt.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const resp = await generativeModelPreview.countTokens(request);\n     * console.log('count tokens response: ', resp);\n     * ```\n     *\n     * @param request - A CountTokensRequest object with the request contents.\n     * @returns The CountTokensResponse object with the token count.\n     */\n    async countTokens(request) {\n        return (0, count_tokens_1.countTokens)(this.location, this.resourcePath, this.fetchToken(), request, this.apiEndpoint, this.requestOptions);\n    }\n    /**\n     * Instantiates a {@link ChatSessionPreview}.\n     *\n     * The {@link ChatSessionPreview} class is a stateful class that holds the state of\n     * the conversation with the model and provides methods to interact with the\n     * model in chat mode. Calling this method doesn't make any calls to a remote\n     * endpoint. To make remote call, use {@link ChatSessionPreview.sendMessage} or\n     * {@link ChatSessionPreview.sendMessageStream}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModelPreview.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * const response1 = await result1.response;\n     * console.log('Response: ', JSON.stringify(response1));\n     *\n     * const result2 = await chat.sendMessageStream(\"What about python?\");\n     * const response2 = await result2.response;\n     * console.log('Response: ', JSON.stringify(await response2));\n     * ```\n     *\n     * @param request - {@link StartChatParams}\n     * @returns {@link ChatSessionPreview}\n     */\n    startChat(request) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const startChatRequest = {\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            publisherModelEndpoint: this.publisherModelEndpoint,\n            resourcePath: this.resourcePath,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n            cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name,\n        };\n        if (request) {\n            startChatRequest.history = request.history;\n            startChatRequest.generationConfig =\n                (_b = request.generationConfig) !== null && _b !== void 0 ? _b : this.generationConfig;\n            startChatRequest.safetySettings =\n                (_c = request.safetySettings) !== null && _c !== void 0 ? _c : this.safetySettings;\n            startChatRequest.tools = (_d = request.tools) !== null && _d !== void 0 ? _d : this.tools;\n            startChatRequest.toolConfig = (_e = request.toolConfig) !== null && _e !== void 0 ? _e : this.toolConfig;\n            startChatRequest.systemInstruction =\n                (_f = request.systemInstruction) !== null && _f !== void 0 ? _f : this.systemInstruction;\n            startChatRequest.cachedContent =\n                (_g = request.cachedContent) !== null && _g !== void 0 ? _g : (_h = this.cachedContent) === null || _h === void 0 ? void 0 : _h.name;\n        }\n        return new chat_session_1.ChatSessionPreview(startChatRequest, this.requestOptions);\n    }\n    getModelName() {\n        return this.model;\n    }\n    getCachedContent() {\n        return this.cachedContent;\n    }\n    getSystemInstruction() {\n        return this.systemInstruction;\n    }\n}\nexports.GenerativeModelPreview = GenerativeModelPreview;\nfunction formulateResourcePathFromModel(model, project, location) {\n    let resourcePath;\n    if (!model) {\n        throw new errors_1.ClientError('model parameter must not be empty.');\n    }\n    if (!model.includes('/')) {\n        // example 'gemini-1.0-pro'\n        resourcePath = `projects/${project}/locations/${location}/publishers/google/models/${model}`;\n    }\n    else if (model.startsWith('models/')) {\n        // example 'models/gemini-1.0-pro'\n        resourcePath = `projects/${project}/locations/${location}/publishers/google/${model}`;\n    }\n    else if (model.startsWith('projects/')) {\n        // example 'projects/my-project/locations/my-location/models/my-tuned-model'\n        resourcePath = model;\n    }\n    else {\n        throw new errors_1.ClientError('model parameter must be either a Model Garden model ID or a full resource name.');\n    }\n    return resourcePath;\n}\nfunction formulateRequestToGenerateContentRequest(request) {\n    if (typeof request === 'string') {\n        return {\n            contents: [{ role: util_2.constants.USER_ROLE, parts: [{ text: request }] }],\n        };\n    }\n    return request;\n}\nfunction formulateSystemInstructionIntoGenerateContentRequest(methodRequest, classSystemInstruction) {\n    if (methodRequest.systemInstruction) {\n        methodRequest.systemInstruction = (0, util_1.formulateSystemInstructionIntoContent)(methodRequest.systemInstruction);\n        return methodRequest;\n    }\n    if (classSystemInstruction) {\n        methodRequest.systemInstruction = classSystemInstruction;\n    }\n    return methodRequest;\n}\n//# sourceMappingURL=generative_models.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvbW9kZWxzL2dlbmVyYXRpdmVfbW9kZWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCLEdBQUcsdUJBQXVCO0FBQ3hELGVBQWUsbUJBQU8sQ0FBQyxrR0FBbUI7QUFDMUMsdUJBQXVCLG1CQUFPLENBQUMsa0hBQTJCO0FBQzFELDJCQUEyQixtQkFBTyxDQUFDLDBIQUErQjtBQUNsRSxpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDMUMsZUFBZSxtQkFBTyxDQUFDLG9GQUFTO0FBQ2hDLHVCQUF1QixtQkFBTyxDQUFDLG9HQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVCQUF1QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLGlDQUFpQyxFQUFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFLDBDQUEwQztBQUMxQztBQUNBLFFBQVEsMkNBQTJDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVCQUF1QixpQ0FBaUMsRUFBRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUIsaUNBQWlDLEVBQUU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQSwyQ0FBMkMsK0JBQStCO0FBQzFFLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVCQUF1QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxQ0FBcUM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLGlDQUFpQyxFQUFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0UsMENBQTBDO0FBQzFDO0FBQ0EsUUFBUSwyQ0FBMkM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLGlDQUFpQyxFQUFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLGlDQUFpQyxFQUFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQSxZQUFZLDBCQUEwQjtBQUN0QztBQUNBO0FBQ0EsMkNBQTJDLHNDQUFzQztBQUNqRixRQUFRLDJDQUEyQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFFBQVEsYUFBYSxTQUFTLDRCQUE0QixNQUFNO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRLGFBQWEsU0FBUyxxQkFBcUIsTUFBTTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw0Q0FBNEMsZUFBZSxHQUFHO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9tb2RlbHMvZ2VuZXJhdGl2ZV9tb2RlbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HZW5lcmF0aXZlTW9kZWxQcmV2aWV3ID0gZXhwb3J0cy5HZW5lcmF0aXZlTW9kZWwgPSB2b2lkIDA7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vZnVuY3Rpb25zL3V0aWxcIik7XG5jb25zdCBjb3VudF90b2tlbnNfMSA9IHJlcXVpcmUoXCIuLi9mdW5jdGlvbnMvY291bnRfdG9rZW5zXCIpO1xuY29uc3QgZ2VuZXJhdGVfY29udGVudF8xID0gcmVxdWlyZShcIi4uL2Z1bmN0aW9ucy9nZW5lcmF0ZV9jb250ZW50XCIpO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuY29uc3QgdXRpbF8yID0gcmVxdWlyZShcIi4uL3V0aWxcIik7XG5jb25zdCBjaGF0X3Nlc3Npb25fMSA9IHJlcXVpcmUoXCIuL2NoYXRfc2Vzc2lvblwiKTtcbi8qKlxuICogVGhlIGBHZW5lcmF0aXZlTW9kZWxgIGNsYXNzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciB0aGUgZ2VuZXJhdGl2ZSBtb2RlbHMgb25cbiAqIFZlcnRleCBBSS5cbiAqIE5PVEU6IERvbid0IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIFVzZVxuICogYHZlcnRleGFpLmdldEdlbmVyYXRpdmVNb2RlbCgpYCBpbnN0ZWFkLlxuICovXG5jbGFzcyBHZW5lcmF0aXZlTW9kZWwge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMgLSB7QGxpbmsgR2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5wcm9qZWN0O1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLmxvY2F0aW9uO1xuICAgICAgICB0aGlzLmFwaUVuZHBvaW50ID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLmFwaUVuZHBvaW50O1xuICAgICAgICB0aGlzLmdvb2dsZUF1dGggPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuZ29vZ2xlQXV0aDtcbiAgICAgICAgdGhpcy5tb2RlbCA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5tb2RlbDtcbiAgICAgICAgdGhpcy5nZW5lcmF0aW9uQ29uZmlnID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWc7XG4gICAgICAgIHRoaXMuc2FmZXR5U2V0dGluZ3MgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuc2FmZXR5U2V0dGluZ3M7XG4gICAgICAgIHRoaXMudG9vbHMgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMudG9vbHM7XG4gICAgICAgIHRoaXMudG9vbENvbmZpZyA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy50b29sQ29uZmlnO1xuICAgICAgICB0aGlzLnJlcXVlc3RPcHRpb25zID0gKF9hID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnJlcXVlc3RPcHRpb25zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgaWYgKGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbiA9ICgwLCB1dGlsXzEuZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvQ29udGVudCkoZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnN5c3RlbUluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc291cmNlUGF0aCA9IGZvcm11bGF0ZVJlc291cmNlUGF0aEZyb21Nb2RlbCh0aGlzLm1vZGVsLCB0aGlzLnByb2plY3QsIHRoaXMubG9jYXRpb24pO1xuICAgICAgICAvLyBwdWJsaXNoZXJNb2RlbEVuZHBvaW50IGlzIGRlcHJlY2F0ZWRcbiAgICAgICAgdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50ID0gdGhpcy5yZXNvdXJjZVBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWNjZXNzIHRva2VuIGZyb20gR29vZ2xlQXV0aC4gVGhyb3dzIHtAbGluayBHb29nbGVBdXRoRXJyb3J9IHdoZW5cbiAgICAgKiBmYWlscy5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIG9mIHRva2VuIHN0cmluZy5cbiAgICAgKi9cbiAgICBmZXRjaFRva2VuKCkge1xuICAgICAgICBjb25zdCB0b2tlblByb21pc2UgPSB0aGlzLmdvb2dsZUF1dGguZ2V0QWNjZXNzVG9rZW4oKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Hb29nbGVBdXRoRXJyb3IodXRpbF8yLmNvbnN0YW50cy5DUkVERU5USUFMX0VSUk9SX01FU1NBR0UsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgY2FsbCB0byBnZW5lcmF0ZSBjb250ZW50LlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIHdpbGwgYmUgcmV0dXJuZWQgaW4ge0BsaW5rXG4gICAgICogR2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgKiAgIGNvbnRlbnRzOiBbe3JvbGU6ICd1c2VyJywgcGFydHM6IFt7dGV4dDogJ0hvdyBhcmUgeW91IGRvaW5nIHRvZGF5Pyd9XX1dLFxuICAgICAqIH07XG4gICAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGl2ZU1vZGVsLmdlbmVyYXRlQ29udGVudChyZXF1ZXN0KTtcbiAgICAgKiBjb25zb2xlLmxvZygnUmVzcG9uc2U6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3VsdC5yZXNwb25zZSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBBIEdlbmVyYXRlQ29udGVudFJlcXVlc3Qgb2JqZWN0IHdpdGggdGhlIHJlcXVlc3QgY29udGVudHMuXG4gICAgICogQHJldHVybnMgVGhlIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlIG9iamVjdCB3aXRoIHRoZSByZXNwb25zZSBjYW5kaWRhdGVzLlxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlQ29udGVudChyZXF1ZXN0KSB7XG4gICAgICAgIHJlcXVlc3QgPSBmb3JtdWxhdGVSZXF1ZXN0VG9HZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICBjb25zdCBmb3JtdWxhdGVkUmVxdWVzdCA9IGZvcm11bGF0ZVN5c3RlbUluc3RydWN0aW9uSW50b0dlbmVyYXRlQ29udGVudFJlcXVlc3QocmVxdWVzdCwgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbik7XG4gICAgICAgIHJldHVybiAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudCkodGhpcy5sb2NhdGlvbiwgdGhpcy5yZXNvdXJjZVBhdGgsIHRoaXMuZmV0Y2hUb2tlbigpLCBmb3JtdWxhdGVkUmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCB0aGlzLnNhZmV0eVNldHRpbmdzLCB0aGlzLnRvb2xzLCB0aGlzLnRvb2xDb25maWcsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyBzdHJlYW0gcmVxdWVzdCB0byBnZW5lcmF0ZSBjb250ZW50LlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIGlzIHJldHVybmVkIGNodW5rIGJ5IGNodW5rIGFzIGl0J3MgYmVpbmcgZ2VuZXJhdGVkIGluIHtAbGlua1xuICAgICAqIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5zdHJlYW19LiBBZnRlciBhbGwgY2h1bmtzIG9mIHRoZSByZXNwb25zZSBhcmVcbiAgICAgKiByZXR1cm5lZCwgdGhlIGFnZ3JlZ2F0ZWQgcmVzcG9uc2UgaXMgYXZhaWxhYmxlIGluXG4gICAgICoge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZX0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICBjb250ZW50czogW3tyb2xlOiAndXNlcicsIHBhcnRzOiBbe3RleHQ6ICdIb3cgYXJlIHlvdSBkb2luZyB0b2RheT8nfV19XSxcbiAgICAgKiB9O1xuICAgICAqIGNvbnN0IHN0cmVhbWluZ1Jlc3VsdCA9IGF3YWl0IGdlbmVyYXRpdmVNb2RlbC5nZW5lcmF0ZUNvbnRlbnRTdHJlYW0ocmVxdWVzdCk7XG4gICAgICogZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHN0cmVhbWluZ1Jlc3VsdC5zdHJlYW0pIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdzdHJlYW0gY2h1bms6ICcsIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICAgKiB9XG4gICAgICogY29uc3QgYWdncmVnYXRlZFJlc3BvbnNlID0gYXdhaXQgc3RyZWFtaW5nUmVzdWx0LnJlc3BvbnNlO1xuICAgICAqIGNvbnNvbGUubG9nKCdhZ2dyZWdhdGVkIHJlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShhZ2dyZWdhdGVkUmVzcG9uc2UpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlcXVlc3R9XG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0fVxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlQ29udGVudFN0cmVhbShyZXF1ZXN0KSB7XG4gICAgICAgIHJlcXVlc3QgPSBmb3JtdWxhdGVSZXF1ZXN0VG9HZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICBjb25zdCBmb3JtdWxhdGVkUmVxdWVzdCA9IGZvcm11bGF0ZVN5c3RlbUluc3RydWN0aW9uSW50b0dlbmVyYXRlQ29udGVudFJlcXVlc3QocmVxdWVzdCwgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbik7XG4gICAgICAgIHJldHVybiAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudFN0cmVhbSkodGhpcy5sb2NhdGlvbiwgdGhpcy5yZXNvdXJjZVBhdGgsIHRoaXMuZmV0Y2hUb2tlbigpLCBmb3JtdWxhdGVkUmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCB0aGlzLnNhZmV0eVNldHRpbmdzLCB0aGlzLnRvb2xzLCB0aGlzLnRvb2xDb25maWcsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyByZXF1ZXN0IHRvIGNvdW50IHRva2Vucy5cbiAgICAgKlxuICAgICAqIFRoZSBgY291bnRUb2tlbnNgIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRva2VuIGNvdW50IGFuZCB0aGUgbnVtYmVyIG9mXG4gICAgICogYmlsbGFibGUgY2hhcmFjdGVycyBmb3IgYSBwcm9tcHQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICBjb250ZW50czogW3tyb2xlOiAndXNlcicsIHBhcnRzOiBbe3RleHQ6ICdIb3cgYXJlIHlvdSBkb2luZyB0b2RheT8nfV19XSxcbiAgICAgKiB9O1xuICAgICAqIGNvbnN0IHJlc3AgPSBhd2FpdCBnZW5lcmF0aXZlTW9kZWwuY291bnRUb2tlbnMocmVxdWVzdCk7XG4gICAgICogY29uc29sZS5sb2coJ2NvdW50IHRva2VucyByZXNwb25zZTogJywgcmVzcCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEEgQ291bnRUb2tlbnNSZXF1ZXN0IG9iamVjdCB3aXRoIHRoZSByZXF1ZXN0IGNvbnRlbnRzLlxuICAgICAqIEByZXR1cm5zIFRoZSBDb3VudFRva2Vuc1Jlc3BvbnNlIG9iamVjdCB3aXRoIHRoZSB0b2tlbiBjb3VudC5cbiAgICAgKi9cbiAgICBhc3luYyBjb3VudFRva2VucyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiAoMCwgY291bnRfdG9rZW5zXzEuY291bnRUb2tlbnMpKHRoaXMubG9jYXRpb24sIHRoaXMucmVzb3VyY2VQYXRoLCB0aGlzLmZldGNoVG9rZW4oKSwgcmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5yZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhIHtAbGluayBDaGF0U2Vzc2lvbn0uXG4gICAgICpcbiAgICAgKiBUaGUge0BsaW5rIENoYXRTZXNzaW9ufSBjbGFzcyBpcyBhIHN0YXRlZnVsIGNsYXNzIHRoYXQgaG9sZHMgdGhlIHN0YXRlIG9mXG4gICAgICogdGhlIGNvbnZlcnNhdGlvbiB3aXRoIHRoZSBtb2RlbCBhbmQgcHJvdmlkZXMgbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIHRoZVxuICAgICAqIG1vZGVsIGluIGNoYXQgbW9kZS4gQ2FsbGluZyB0aGlzIG1ldGhvZCBkb2Vzbid0IG1ha2UgYW55IGNhbGxzIHRvIGEgcmVtb3RlXG4gICAgICogZW5kcG9pbnQuIFRvIG1ha2UgcmVtb3RlIGNhbGwsIHVzZSB7QGxpbmsgQ2hhdFNlc3Npb24uc2VuZE1lc3NhZ2V9IG9yXG4gICAgICogQGxpbmsgQ2hhdFNlc3Npb24uc2VuZE1lc3NhZ2VTdHJlYW19LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjaGF0ID0gZ2VuZXJhdGl2ZU1vZGVsLnN0YXJ0Q2hhdCgpO1xuICAgICAqIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlKFwiSG93IGNhbiBJIGxlYXJuIG1vcmUgYWJvdXQgTm9kZS5qcz9cIik7XG4gICAgICogY29uc3QgcmVzcG9uc2UxID0gYXdhaXQgcmVzdWx0MS5yZXNwb25zZTtcbiAgICAgKiBjb25zb2xlLmxvZygnUmVzcG9uc2U6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlMSkpO1xuICAgICAqXG4gICAgICogY29uc3QgcmVzdWx0MiA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2VTdHJlYW0oXCJXaGF0IGFib3V0IHB5dGhvbj9cIik7XG4gICAgICogY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVzdWx0Mi5yZXNwb25zZTtcbiAgICAgKiBjb25zb2xlLmxvZygnUmVzcG9uc2U6ICcsIEpTT04uc3RyaW5naWZ5KGF3YWl0IHJlc3BvbnNlMikpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSB7QGxpbmsgU3RhcnRDaGF0UGFyYW1zfVxuICAgICAqIEByZXR1cm5zIHtAbGluayBDaGF0U2Vzc2lvbn1cbiAgICAgKi9cbiAgICBzdGFydENoYXQocmVxdWVzdCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgY29uc3Qgc3RhcnRDaGF0UmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHByb2plY3Q6IHRoaXMucHJvamVjdCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLmxvY2F0aW9uLFxuICAgICAgICAgICAgZ29vZ2xlQXV0aDogdGhpcy5nb29nbGVBdXRoLFxuICAgICAgICAgICAgcHVibGlzaGVyTW9kZWxFbmRwb2ludDogdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50LFxuICAgICAgICAgICAgcmVzb3VyY2VQYXRoOiB0aGlzLnJlc291cmNlUGF0aCxcbiAgICAgICAgICAgIHRvb2xzOiB0aGlzLnRvb2xzLFxuICAgICAgICAgICAgdG9vbENvbmZpZzogdGhpcy50b29sQ29uZmlnLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0Lmhpc3RvcnkgPSByZXF1ZXN0Lmhpc3Rvcnk7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LmdlbmVyYXRpb25Db25maWcgPVxuICAgICAgICAgICAgICAgIChfYSA9IHJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5nZW5lcmF0aW9uQ29uZmlnO1xuICAgICAgICAgICAgc3RhcnRDaGF0UmVxdWVzdC5zYWZldHlTZXR0aW5ncyA9XG4gICAgICAgICAgICAgICAgKF9iID0gcmVxdWVzdC5zYWZldHlTZXR0aW5ncykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5zYWZldHlTZXR0aW5ncztcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3QudG9vbHMgPSAoX2MgPSByZXF1ZXN0LnRvb2xzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0aGlzLnRvb2xzO1xuICAgICAgICAgICAgc3RhcnRDaGF0UmVxdWVzdC50b29sQ29uZmlnID0gKF9kID0gcmVxdWVzdC50b29sQ29uZmlnKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB0aGlzLnRvb2xDb25maWc7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LmFwaUVuZHBvaW50ID0gKF9lID0gcmVxdWVzdC5hcGlFbmRwb2ludCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogdGhpcy5hcGlFbmRwb2ludDtcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24gPVxuICAgICAgICAgICAgICAgIChfZiA9IHJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBjaGF0X3Nlc3Npb25fMS5DaGF0U2Vzc2lvbihzdGFydENoYXRSZXF1ZXN0LCB0aGlzLnJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnRzLkdlbmVyYXRpdmVNb2RlbCA9IEdlbmVyYXRpdmVNb2RlbDtcbi8qKlxuICogVGhlIGBHZW5lcmF0aXZlTW9kZWxQcmV2aWV3YCBjbGFzcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgdGhlIGdlbmVyYXRpdmUgbW9kZWxzXG4gKiB0aGF0IGFyZSBpbiBwcmV2aWV3LlxuICogTk9URTogRG9uJ3QgaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBkaXJlY3RseS4gVXNlXG4gKiBgdmVydGV4YWkucHJldmlldy5nZXRHZW5lcmF0aXZlTW9kZWwoKWAgaW5zdGVhZC5cbiAqL1xuY2xhc3MgR2VuZXJhdGl2ZU1vZGVsUHJldmlldyB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcyAtIHtAbGluayBHZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXN9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnByb2plY3Q7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMubG9jYXRpb247XG4gICAgICAgIHRoaXMuYXBpRW5kcG9pbnQgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuYXBpRW5kcG9pbnQ7XG4gICAgICAgIHRoaXMuZ29vZ2xlQXV0aCA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5nb29nbGVBdXRoO1xuICAgICAgICB0aGlzLm1vZGVsID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLm1vZGVsO1xuICAgICAgICB0aGlzLmdlbmVyYXRpb25Db25maWcgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuZ2VuZXJhdGlvbkNvbmZpZztcbiAgICAgICAgdGhpcy5zYWZldHlTZXR0aW5ncyA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5zYWZldHlTZXR0aW5ncztcbiAgICAgICAgdGhpcy50b29scyA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy50b29scztcbiAgICAgICAgdGhpcy50b29sQ29uZmlnID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnRvb2xDb25maWc7XG4gICAgICAgIHRoaXMuY2FjaGVkQ29udGVudCA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5jYWNoZWRDb250ZW50O1xuICAgICAgICB0aGlzLnJlcXVlc3RPcHRpb25zID0gKF9hID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnJlcXVlc3RPcHRpb25zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgaWYgKGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbiA9ICgwLCB1dGlsXzEuZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvQ29udGVudCkoZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnN5c3RlbUluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc291cmNlUGF0aCA9IGZvcm11bGF0ZVJlc291cmNlUGF0aEZyb21Nb2RlbCh0aGlzLm1vZGVsLCB0aGlzLnByb2plY3QsIHRoaXMubG9jYXRpb24pO1xuICAgICAgICAvLyBwdWJsaXNoZXJNb2RlbEVuZHBvaW50IGlzIGRlcHJlY2F0ZWRcbiAgICAgICAgdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50ID0gdGhpcy5yZXNvdXJjZVBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWNjZXNzIHRva2VuIGZyb20gR29vZ2xlQXV0aC4gVGhyb3dzIHtAbGluayBHb29nbGVBdXRoRXJyb3J9IHdoZW5cbiAgICAgKiBmYWlscy5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIG9mIHRva2VuIHN0cmluZy5cbiAgICAgKi9cbiAgICBmZXRjaFRva2VuKCkge1xuICAgICAgICBjb25zdCB0b2tlblByb21pc2UgPSB0aGlzLmdvb2dsZUF1dGguZ2V0QWNjZXNzVG9rZW4oKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Hb29nbGVBdXRoRXJyb3IodXRpbF8yLmNvbnN0YW50cy5DUkVERU5USUFMX0VSUk9SX01FU1NBR0UsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgY2FsbCB0byBnZW5lcmF0ZSBjb250ZW50LlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIHdpbGwgYmUgcmV0dXJuZWQgaW4ge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZX0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICBjb250ZW50czogW3tyb2xlOiAndXNlcicsIHBhcnRzOiBbe3RleHQ6ICdIb3cgYXJlIHlvdSBkb2luZyB0b2RheT8nfV19XSxcbiAgICAgKiB9O1xuICAgICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdlbmVyYXRpdmVNb2RlbFByZXZpZXcuZ2VuZXJhdGVDb250ZW50KHJlcXVlc3QpO1xuICAgICAqIGNvbnNvbGUubG9nKCdSZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LnJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEEgR2VuZXJhdGVDb250ZW50UmVxdWVzdCBvYmplY3Qgd2l0aCB0aGUgcmVxdWVzdCBjb250ZW50cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgR2VuZXJhdGVDb250ZW50UmVzcG9uc2Ugb2JqZWN0IHdpdGggdGhlIHJlc3BvbnNlIGNhbmRpZGF0ZXMuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVDb250ZW50KHJlcXVlc3QpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXF1ZXN0ID0gZm9ybXVsYXRlUmVxdWVzdFRvR2VuZXJhdGVDb250ZW50UmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZm9ybXVsYXRlZFJlcXVlc3QgPSB7XG4gICAgICAgICAgICAuLi5mb3JtdWxhdGVTeXN0ZW1JbnN0cnVjdGlvbkludG9HZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QsIHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24pLFxuICAgICAgICAgICAgY2FjaGVkQ29udGVudDogKF9hID0gdGhpcy5jYWNoZWRDb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuICgwLCBnZW5lcmF0ZV9jb250ZW50XzEuZ2VuZXJhdGVDb250ZW50KSh0aGlzLmxvY2F0aW9uLCB0aGlzLnJlc291cmNlUGF0aCwgdGhpcy5mZXRjaFRva2VuKCksIGZvcm11bGF0ZWRSZXF1ZXN0LCB0aGlzLmFwaUVuZHBvaW50LCB0aGlzLmdlbmVyYXRpb25Db25maWcsIHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRoaXMudG9vbHMsIHRoaXMudG9vbENvbmZpZywgdGhpcy5yZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGFuIGFzeW5jIHN0cmVhbSByZXF1ZXN0IHRvIGdlbmVyYXRlIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzcG9uc2UgaXMgcmV0dXJuZWQgY2h1bmsgYnkgY2h1bmsgYXMgaXQncyBiZWluZyBnZW5lcmF0ZWQgaW4ge0BsaW5rXG4gICAgICogU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0LnN0cmVhbX0uIEFmdGVyIGFsbCBjaHVua3Mgb2YgdGhlIHJlc3BvbnNlIGFyZVxuICAgICAqIHJldHVybmVkLCB0aGUgYWdncmVnYXRlZCByZXNwb25zZSBpcyBhdmFpbGFibGUgaW5cbiAgICAgKiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgKiAgIGNvbnRlbnRzOiBbe3JvbGU6ICd1c2VyJywgcGFydHM6IFt7dGV4dDogJ0hvdyBhcmUgeW91IGRvaW5nIHRvZGF5Pyd9XX1dLFxuICAgICAqIH07XG4gICAgICogY29uc3Qgc3RyZWFtaW5nUmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGl2ZU1vZGVsUHJldmlldy5nZW5lcmF0ZUNvbnRlbnRTdHJlYW0ocmVxdWVzdCk7XG4gICAgICogZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHN0cmVhbWluZ1Jlc3VsdC5zdHJlYW0pIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdzdHJlYW0gY2h1bms6ICcsIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICAgKiB9XG4gICAgICogY29uc3QgYWdncmVnYXRlZFJlc3BvbnNlID0gYXdhaXQgc3RyZWFtaW5nUmVzdWx0LnJlc3BvbnNlO1xuICAgICAqIGNvbnNvbGUubG9nKCdhZ2dyZWdhdGVkIHJlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShhZ2dyZWdhdGVkUmVzcG9uc2UpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlcXVlc3R9XG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0fVxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlQ29udGVudFN0cmVhbShyZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmVxdWVzdCA9IGZvcm11bGF0ZVJlcXVlc3RUb0dlbmVyYXRlQ29udGVudFJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGZvcm11bGF0ZWRSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgLi4uZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvR2VuZXJhdGVDb250ZW50UmVxdWVzdChyZXF1ZXN0LCB0aGlzLnN5c3RlbUluc3RydWN0aW9uKSxcbiAgICAgICAgICAgIGNhY2hlZENvbnRlbnQ6IChfYSA9IHRoaXMuY2FjaGVkQ29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudFN0cmVhbSkodGhpcy5sb2NhdGlvbiwgdGhpcy5yZXNvdXJjZVBhdGgsIHRoaXMuZmV0Y2hUb2tlbigpLCBmb3JtdWxhdGVkUmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCB0aGlzLnNhZmV0eVNldHRpbmdzLCB0aGlzLnRvb2xzLCB0aGlzLnRvb2xDb25maWcsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyByZXF1ZXN0IHRvIGNvdW50IHRva2Vucy5cbiAgICAgKlxuICAgICAqIFRoZSBgY291bnRUb2tlbnNgIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRva2VuIGNvdW50IGFuZCB0aGUgbnVtYmVyIG9mXG4gICAgICogYmlsbGFibGUgY2hhcmFjdGVycyBmb3IgYSBwcm9tcHQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICBjb250ZW50czogW3tyb2xlOiAndXNlcicsIHBhcnRzOiBbe3RleHQ6ICdIb3cgYXJlIHlvdSBkb2luZyB0b2RheT8nfV19XSxcbiAgICAgKiB9O1xuICAgICAqIGNvbnN0IHJlc3AgPSBhd2FpdCBnZW5lcmF0aXZlTW9kZWxQcmV2aWV3LmNvdW50VG9rZW5zKHJlcXVlc3QpO1xuICAgICAqIGNvbnNvbGUubG9nKCdjb3VudCB0b2tlbnMgcmVzcG9uc2U6ICcsIHJlc3ApO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBBIENvdW50VG9rZW5zUmVxdWVzdCBvYmplY3Qgd2l0aCB0aGUgcmVxdWVzdCBjb250ZW50cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgQ291bnRUb2tlbnNSZXNwb25zZSBvYmplY3Qgd2l0aCB0aGUgdG9rZW4gY291bnQuXG4gICAgICovXG4gICAgYXN5bmMgY291bnRUb2tlbnMocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gKDAsIGNvdW50X3Rva2Vuc18xLmNvdW50VG9rZW5zKSh0aGlzLmxvY2F0aW9uLCB0aGlzLnJlc291cmNlUGF0aCwgdGhpcy5mZXRjaFRva2VuKCksIHJlcXVlc3QsIHRoaXMuYXBpRW5kcG9pbnQsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgYSB7QGxpbmsgQ2hhdFNlc3Npb25QcmV2aWV3fS5cbiAgICAgKlxuICAgICAqIFRoZSB7QGxpbmsgQ2hhdFNlc3Npb25QcmV2aWV3fSBjbGFzcyBpcyBhIHN0YXRlZnVsIGNsYXNzIHRoYXQgaG9sZHMgdGhlIHN0YXRlIG9mXG4gICAgICogdGhlIGNvbnZlcnNhdGlvbiB3aXRoIHRoZSBtb2RlbCBhbmQgcHJvdmlkZXMgbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIHRoZVxuICAgICAqIG1vZGVsIGluIGNoYXQgbW9kZS4gQ2FsbGluZyB0aGlzIG1ldGhvZCBkb2Vzbid0IG1ha2UgYW55IGNhbGxzIHRvIGEgcmVtb3RlXG4gICAgICogZW5kcG9pbnQuIFRvIG1ha2UgcmVtb3RlIGNhbGwsIHVzZSB7QGxpbmsgQ2hhdFNlc3Npb25QcmV2aWV3LnNlbmRNZXNzYWdlfSBvclxuICAgICAqIHtAbGluayBDaGF0U2Vzc2lvblByZXZpZXcuc2VuZE1lc3NhZ2VTdHJlYW19LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjaGF0ID0gZ2VuZXJhdGl2ZU1vZGVsUHJldmlldy5zdGFydENoYXQoKTtcbiAgICAgKiBjb25zdCByZXN1bHQxID0gYXdhaXQgY2hhdC5zZW5kTWVzc2FnZShcIkhvdyBjYW4gSSBsZWFybiBtb3JlIGFib3V0IE5vZGUuanM/XCIpO1xuICAgICAqIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IHJlc3VsdDEucmVzcG9uc2U7XG4gICAgICogY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZTEpKTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlU3RyZWFtKFwiV2hhdCBhYm91dCBweXRob24/XCIpO1xuICAgICAqIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlc3VsdDIucmVzcG9uc2U7XG4gICAgICogY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShhd2FpdCByZXNwb25zZTIpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIFN0YXJ0Q2hhdFBhcmFtc31cbiAgICAgKiBAcmV0dXJucyB7QGxpbmsgQ2hhdFNlc3Npb25QcmV2aWV3fVxuICAgICAqL1xuICAgIHN0YXJ0Q2hhdChyZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gICAgICAgIGNvbnN0IHN0YXJ0Q2hhdFJlcXVlc3QgPSB7XG4gICAgICAgICAgICBwcm9qZWN0OiB0aGlzLnByb2plY3QsXG4gICAgICAgICAgICBsb2NhdGlvbjogdGhpcy5sb2NhdGlvbixcbiAgICAgICAgICAgIGdvb2dsZUF1dGg6IHRoaXMuZ29vZ2xlQXV0aCxcbiAgICAgICAgICAgIHB1Ymxpc2hlck1vZGVsRW5kcG9pbnQ6IHRoaXMucHVibGlzaGVyTW9kZWxFbmRwb2ludCxcbiAgICAgICAgICAgIHJlc291cmNlUGF0aDogdGhpcy5yZXNvdXJjZVBhdGgsXG4gICAgICAgICAgICB0b29sczogdGhpcy50b29scyxcbiAgICAgICAgICAgIHRvb2xDb25maWc6IHRoaXMudG9vbENvbmZpZyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICAgICAgY2FjaGVkQ29udGVudDogKF9hID0gdGhpcy5jYWNoZWRDb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3QuaGlzdG9yeSA9IHJlcXVlc3QuaGlzdG9yeTtcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZyA9XG4gICAgICAgICAgICAgICAgKF9iID0gcmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmdlbmVyYXRpb25Db25maWc7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LnNhZmV0eVNldHRpbmdzID1cbiAgICAgICAgICAgICAgICAoX2MgPSByZXF1ZXN0LnNhZmV0eVNldHRpbmdzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0aGlzLnNhZmV0eVNldHRpbmdzO1xuICAgICAgICAgICAgc3RhcnRDaGF0UmVxdWVzdC50b29scyA9IChfZCA9IHJlcXVlc3QudG9vbHMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHRoaXMudG9vbHM7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LnRvb2xDb25maWcgPSAoX2UgPSByZXF1ZXN0LnRvb2xDb25maWcpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHRoaXMudG9vbENvbmZpZztcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24gPVxuICAgICAgICAgICAgICAgIChfZiA9IHJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LmNhY2hlZENvbnRlbnQgPVxuICAgICAgICAgICAgICAgIChfZyA9IHJlcXVlc3QuY2FjaGVkQ29udGVudCkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogKF9oID0gdGhpcy5jYWNoZWRDb250ZW50KSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gubmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGNoYXRfc2Vzc2lvbl8xLkNoYXRTZXNzaW9uUHJldmlldyhzdGFydENoYXRSZXF1ZXN0LCB0aGlzLnJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG4gICAgZ2V0TW9kZWxOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbDtcbiAgICB9XG4gICAgZ2V0Q2FjaGVkQ29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkQ29udGVudDtcbiAgICB9XG4gICAgZ2V0U3lzdGVtSW5zdHJ1Y3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbUluc3RydWN0aW9uO1xuICAgIH1cbn1cbmV4cG9ydHMuR2VuZXJhdGl2ZU1vZGVsUHJldmlldyA9IEdlbmVyYXRpdmVNb2RlbFByZXZpZXc7XG5mdW5jdGlvbiBmb3JtdWxhdGVSZXNvdXJjZVBhdGhGcm9tTW9kZWwobW9kZWwsIHByb2plY3QsIGxvY2F0aW9uKSB7XG4gICAgbGV0IHJlc291cmNlUGF0aDtcbiAgICBpZiAoIW1vZGVsKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5DbGllbnRFcnJvcignbW9kZWwgcGFyYW1ldGVyIG11c3Qgbm90IGJlIGVtcHR5LicpO1xuICAgIH1cbiAgICBpZiAoIW1vZGVsLmluY2x1ZGVzKCcvJykpIHtcbiAgICAgICAgLy8gZXhhbXBsZSAnZ2VtaW5pLTEuMC1wcm8nXG4gICAgICAgIHJlc291cmNlUGF0aCA9IGBwcm9qZWN0cy8ke3Byb2plY3R9L2xvY2F0aW9ucy8ke2xvY2F0aW9ufS9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvJHttb2RlbH1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChtb2RlbC5zdGFydHNXaXRoKCdtb2RlbHMvJykpIHtcbiAgICAgICAgLy8gZXhhbXBsZSAnbW9kZWxzL2dlbWluaS0xLjAtcHJvJ1xuICAgICAgICByZXNvdXJjZVBhdGggPSBgcHJvamVjdHMvJHtwcm9qZWN0fS9sb2NhdGlvbnMvJHtsb2NhdGlvbn0vcHVibGlzaGVycy9nb29nbGUvJHttb2RlbH1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChtb2RlbC5zdGFydHNXaXRoKCdwcm9qZWN0cy8nKSkge1xuICAgICAgICAvLyBleGFtcGxlICdwcm9qZWN0cy9teS1wcm9qZWN0L2xvY2F0aW9ucy9teS1sb2NhdGlvbi9tb2RlbHMvbXktdHVuZWQtbW9kZWwnXG4gICAgICAgIHJlc291cmNlUGF0aCA9IG1vZGVsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkNsaWVudEVycm9yKCdtb2RlbCBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYSBNb2RlbCBHYXJkZW4gbW9kZWwgSUQgb3IgYSBmdWxsIHJlc291cmNlIG5hbWUuJyk7XG4gICAgfVxuICAgIHJldHVybiByZXNvdXJjZVBhdGg7XG59XG5mdW5jdGlvbiBmb3JtdWxhdGVSZXF1ZXN0VG9HZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZW50czogW3sgcm9sZTogdXRpbF8yLmNvbnN0YW50cy5VU0VSX1JPTEUsIHBhcnRzOiBbeyB0ZXh0OiByZXF1ZXN0IH1dIH1dLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cbmZ1bmN0aW9uIGZvcm11bGF0ZVN5c3RlbUluc3RydWN0aW9uSW50b0dlbmVyYXRlQ29udGVudFJlcXVlc3QobWV0aG9kUmVxdWVzdCwgY2xhc3NTeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgIGlmIChtZXRob2RSZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uKSB7XG4gICAgICAgIG1ldGhvZFJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24gPSAoMCwgdXRpbF8xLmZvcm11bGF0ZVN5c3RlbUluc3RydWN0aW9uSW50b0NvbnRlbnQpKG1ldGhvZFJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24pO1xuICAgICAgICByZXR1cm4gbWV0aG9kUmVxdWVzdDtcbiAgICB9XG4gICAgaWYgKGNsYXNzU3lzdGVtSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgbWV0aG9kUmVxdWVzdC5zeXN0ZW1JbnN0cnVjdGlvbiA9IGNsYXNzU3lzdGVtSW5zdHJ1Y3Rpb247XG4gICAgfVxuICAgIHJldHVybiBtZXRob2RSZXF1ZXN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGl2ZV9tb2RlbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/models/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerativeModelPreview = exports.GenerativeModel = exports.ChatSessionPreview = exports.ChatSession = void 0;\nvar chat_session_1 = __webpack_require__(/*! ./chat_session */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js\");\nObject.defineProperty(exports, \"ChatSession\", ({ enumerable: true, get: function () { return chat_session_1.ChatSession; } }));\nObject.defineProperty(exports, \"ChatSessionPreview\", ({ enumerable: true, get: function () { return chat_session_1.ChatSessionPreview; } }));\nvar generative_models_1 = __webpack_require__(/*! ./generative_models */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js\");\nObject.defineProperty(exports, \"GenerativeModel\", ({ enumerable: true, get: function () { return generative_models_1.GenerativeModel; } }));\nObject.defineProperty(exports, \"GenerativeModelPreview\", ({ enumerable: true, get: function () { return generative_models_1.GenerativeModelPreview; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvbW9kZWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCLEdBQUcsdUJBQXVCLEdBQUcsMEJBQTBCLEdBQUcsbUJBQW1CO0FBQzNHLHFCQUFxQixtQkFBTyxDQUFDLG9HQUFnQjtBQUM3QywrQ0FBOEMsRUFBRSxxQ0FBcUMsc0NBQXNDLEVBQUM7QUFDNUgsc0RBQXFELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQzFJLDBCQUEwQixtQkFBTyxDQUFDLDhHQUFxQjtBQUN2RCxtREFBa0QsRUFBRSxxQ0FBcUMsK0NBQStDLEVBQUM7QUFDekksMERBQXlELEVBQUUscUNBQXFDLHNEQUFzRCxFQUFDO0FBQ3ZKIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL21vZGVscy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdlbmVyYXRpdmVNb2RlbFByZXZpZXcgPSBleHBvcnRzLkdlbmVyYXRpdmVNb2RlbCA9IGV4cG9ydHMuQ2hhdFNlc3Npb25QcmV2aWV3ID0gZXhwb3J0cy5DaGF0U2Vzc2lvbiA9IHZvaWQgMDtcbnZhciBjaGF0X3Nlc3Npb25fMSA9IHJlcXVpcmUoXCIuL2NoYXRfc2Vzc2lvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNoYXRTZXNzaW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGF0X3Nlc3Npb25fMS5DaGF0U2Vzc2lvbjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNoYXRTZXNzaW9uUHJldmlld1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhdF9zZXNzaW9uXzEuQ2hhdFNlc3Npb25QcmV2aWV3OyB9IH0pO1xudmFyIGdlbmVyYXRpdmVfbW9kZWxzXzEgPSByZXF1aXJlKFwiLi9nZW5lcmF0aXZlX21vZGVsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdlbmVyYXRpdmVNb2RlbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdGl2ZV9tb2RlbHNfMS5HZW5lcmF0aXZlTW9kZWw7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHZW5lcmF0aXZlTW9kZWxQcmV2aWV3XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnZW5lcmF0aXZlX21vZGVsc18xLkdlbmVyYXRpdmVNb2RlbFByZXZpZXc7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/cached_contents.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/resources/cached_contents.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CachedContents = exports.inferModelName = exports.inferFullResourceName = void 0;\nconst util_1 = __webpack_require__(/*! ../functions/util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/util.js\");\nconst types_1 = __webpack_require__(/*! ../types */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js\");\nfunction camelToSnake(str) {\n    return str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\n}\nclass CachedContentsClient {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n    }\n    create(cachedContent) {\n        return this.apiClient.unaryApiCall(new URL(this.apiClient.getBaseUrl() +\n            '/' +\n            this.apiClient.getBaseResourePath() +\n            '/cachedContents'), {\n            body: JSON.stringify(cachedContent),\n        }, 'POST');\n    }\n    update(cachedContent, updateMask) {\n        const url = new URL(this.apiClient.getBaseUrl() + '/' + cachedContent.name);\n        url.searchParams.append('updateMask', updateMask.map(e => camelToSnake(e)).join(','));\n        return this.apiClient.unaryApiCall(url, {\n            body: JSON.stringify(cachedContent),\n        }, 'PATCH');\n    }\n    delete(name) {\n        return this.apiClient.unaryApiCall(new URL(this.apiClient.getBaseUrl() + '/' + name), {}, 'DELETE');\n    }\n    list(pageSize, pageToken) {\n        const url = new URL(this.apiClient.getBaseUrl() +\n            '/' +\n            this.apiClient.getBaseResourePath() +\n            '/cachedContents');\n        if (pageSize)\n            url.searchParams.append('pageSize', String(pageSize));\n        if (pageToken)\n            url.searchParams.append('pageToken', pageToken);\n        return this.apiClient.unaryApiCall(url, {}, 'GET');\n    }\n    get(name) {\n        return this.apiClient.unaryApiCall(new URL(this.apiClient.getBaseUrl() + '/' + name), {}, 'GET');\n    }\n}\nfunction inferFullResourceName(project, location, cachedContentId) {\n    if (cachedContentId.startsWith('projects/')) {\n        return cachedContentId;\n    }\n    if (cachedContentId.startsWith('locations/')) {\n        return `projects/${project}/${cachedContentId}`;\n    }\n    if (cachedContentId.startsWith('cachedContents/')) {\n        return `projects/${project}/locations/${location}/${cachedContentId}`;\n    }\n    if (!cachedContentId.includes('/')) {\n        return `projects/${project}/locations/${location}/cachedContents/${cachedContentId}`;\n    }\n    throw new types_1.ClientError(`Invalid CachedContent.name: ${cachedContentId}. CachedContent.name should start with 'projects/', 'locations/', 'cachedContents/' or is a number type.`);\n}\nexports.inferFullResourceName = inferFullResourceName;\n/**\n * Infers the full model name based on the provided project, location, and model.\n *\n * @internal\n */\nfunction inferModelName(project, location, model) {\n    if (!model) {\n        throw new types_1.ClientError('Model name is required.');\n    }\n    if (model.startsWith('publishers/')) {\n        return `projects/${project}/locations/${location}/${model}`;\n    }\n    if (!model.startsWith('projects/')) {\n        return `projects/${project}/locations/${location}/publishers/google/models/${model}`;\n    }\n    return model;\n}\nexports.inferModelName = inferModelName;\n/**\n * This class is for managing Vertex AI's CachedContent resource.\n * @public\n */\nclass CachedContents {\n    constructor(client) {\n        this.client = new CachedContentsClient(client);\n    }\n    /**\n     * Creates cached content, this call will initialize the cached content in the data storage, and users need to pay for the cache data storage.\n     * @param cachedContent\n     * @param parent - Required. The parent resource where the cached content will be created.\n     */\n    create(cachedContent) {\n        const curatedCachedContent = {\n            ...cachedContent,\n            systemInstruction: cachedContent.systemInstruction\n                ? (0, util_1.formulateSystemInstructionIntoContent)(cachedContent.systemInstruction)\n                : undefined,\n            model: inferModelName(this.client.apiClient.project, this.client.apiClient.location, cachedContent.model),\n        };\n        return this.client.create(curatedCachedContent);\n    }\n    /**\n     * Updates cached content configurations\n     *\n     * @param updateMask - Required. The list of fields to update. Format: google-fieldmask. See {@link https://cloud.google.com/docs/discovery/type-format}\n     * @param name - Immutable. Identifier. The server-generated resource name of the cached content Format: projects/{project}/locations/{location}/cachedContents/{cached_content}.\n     */\n    update(cachedContent, updateMask) {\n        if (!cachedContent.name) {\n            throw new types_1.ClientError('Cached content name is required for update.');\n        }\n        if (!updateMask || updateMask.length === 0) {\n            throw new types_1.ClientError('Update mask is required for update. Fields set in cachedContent but not in updateMask will be ignored. Examples: [\"ttl\"] or [\"expireTime\"].');\n        }\n        const curatedCachedContent = {\n            ...cachedContent,\n            systemInstruction: cachedContent.systemInstruction\n                ? (0, util_1.formulateSystemInstructionIntoContent)(cachedContent.systemInstruction)\n                : undefined,\n            name: inferFullResourceName(this.client.apiClient.project, this.client.apiClient.location, cachedContent.name),\n        };\n        return this.client.update(curatedCachedContent, updateMask);\n    }\n    /**\n     * Deletes cached content.\n     *\n     * @param name - Required. The resource name referring to the cached content.\n     */\n    delete(name) {\n        return this.client.delete(inferFullResourceName(this.client.apiClient.project, this.client.apiClient.location, name));\n    }\n    /**\n     * Lists cached contents in a project.\n     *\n     * @param pageSize - Optional. The maximum number of cached contents to return. The service may return fewer than this value. If unspecified, some default (under maximum) number of items will be returned. The maximum value is 1000; values above 1000 will be coerced to 1000.\n     * @param pageToken - Optional. A page token, received from a previous `ListCachedContents` call. Provide this to retrieve the subsequent page. When paginating, all other parameters provided to `ListCachedContents` must match the call that provided the page token.\n     */\n    list(pageSize, pageToken) {\n        return this.client.list(pageSize, pageToken);\n    }\n    /**\n     * Gets cached content configurations.\n     *\n     * @param name - Required. The resource name referring to the cached content.\n     */\n    get(name) {\n        return this.client.get(inferFullResourceName(this.client.apiClient.project, this.client.apiClient.location, name));\n    }\n}\nexports.CachedContents = CachedContents;\n//# sourceMappingURL=cached_contents.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvcmVzb3VyY2VzL2NhY2hlZF9jb250ZW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQixHQUFHLHNCQUFzQixHQUFHLDZCQUE2QjtBQUMvRSxlQUFlLG1CQUFPLENBQUMsa0dBQW1CO0FBQzFDLGdCQUFnQixtQkFBTyxDQUFDLHNGQUFVO0FBQ2xDO0FBQ0EsK0NBQStDLHFCQUFxQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0dBQWdHO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQSxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUSxHQUFHLGdCQUFnQjtBQUN0RDtBQUNBO0FBQ0EsMkJBQTJCLFFBQVEsYUFBYSxTQUFTLEdBQUcsZ0JBQWdCO0FBQzVFO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUSxhQUFhLFNBQVMsa0JBQWtCLGdCQUFnQjtBQUMzRjtBQUNBLGlFQUFpRSxnQkFBZ0I7QUFDakY7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUSxhQUFhLFNBQVMsR0FBRyxNQUFNO0FBQ2xFO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUSxhQUFhLFNBQVMsNEJBQTRCLE1BQU07QUFDM0Y7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrR0FBa0c7QUFDbEcsdUhBQXVILFFBQVEsWUFBWSxTQUFTLGlCQUFpQixlQUFlO0FBQ3BMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNE9BQTRPO0FBQzVPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvcmVzb3VyY2VzL2NhY2hlZF9jb250ZW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhY2hlZENvbnRlbnRzID0gZXhwb3J0cy5pbmZlck1vZGVsTmFtZSA9IGV4cG9ydHMuaW5mZXJGdWxsUmVzb3VyY2VOYW1lID0gdm9pZCAwO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL2Z1bmN0aW9ucy91dGlsXCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi90eXBlc1wiKTtcbmZ1bmN0aW9uIGNhbWVsVG9TbmFrZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1tBLVpdL2csIGxldHRlciA9PiBgXyR7bGV0dGVyLnRvTG93ZXJDYXNlKCl9YCk7XG59XG5jbGFzcyBDYWNoZWRDb250ZW50c0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoYXBpQ2xpZW50KSB7XG4gICAgICAgIHRoaXMuYXBpQ2xpZW50ID0gYXBpQ2xpZW50O1xuICAgIH1cbiAgICBjcmVhdGUoY2FjaGVkQ29udGVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlDbGllbnQudW5hcnlBcGlDYWxsKG5ldyBVUkwodGhpcy5hcGlDbGllbnQuZ2V0QmFzZVVybCgpICtcbiAgICAgICAgICAgICcvJyArXG4gICAgICAgICAgICB0aGlzLmFwaUNsaWVudC5nZXRCYXNlUmVzb3VyZVBhdGgoKSArXG4gICAgICAgICAgICAnL2NhY2hlZENvbnRlbnRzJyksIHtcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhY2hlZENvbnRlbnQpLFxuICAgICAgICB9LCAnUE9TVCcpO1xuICAgIH1cbiAgICB1cGRhdGUoY2FjaGVkQ29udGVudCwgdXBkYXRlTWFzaykge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYXBpQ2xpZW50LmdldEJhc2VVcmwoKSArICcvJyArIGNhY2hlZENvbnRlbnQubmFtZSk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCd1cGRhdGVNYXNrJywgdXBkYXRlTWFzay5tYXAoZSA9PiBjYW1lbFRvU25ha2UoZSkpLmpvaW4oJywnKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaUNsaWVudC51bmFyeUFwaUNhbGwodXJsLCB7XG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYWNoZWRDb250ZW50KSxcbiAgICAgICAgfSwgJ1BBVENIJyk7XG4gICAgfVxuICAgIGRlbGV0ZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaUNsaWVudC51bmFyeUFwaUNhbGwobmV3IFVSTCh0aGlzLmFwaUNsaWVudC5nZXRCYXNlVXJsKCkgKyAnLycgKyBuYW1lKSwge30sICdERUxFVEUnKTtcbiAgICB9XG4gICAgbGlzdChwYWdlU2l6ZSwgcGFnZVRva2VuKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5hcGlDbGllbnQuZ2V0QmFzZVVybCgpICtcbiAgICAgICAgICAgICcvJyArXG4gICAgICAgICAgICB0aGlzLmFwaUNsaWVudC5nZXRCYXNlUmVzb3VyZVBhdGgoKSArXG4gICAgICAgICAgICAnL2NhY2hlZENvbnRlbnRzJyk7XG4gICAgICAgIGlmIChwYWdlU2l6ZSlcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdwYWdlU2l6ZScsIFN0cmluZyhwYWdlU2l6ZSkpO1xuICAgICAgICBpZiAocGFnZVRva2VuKVxuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3BhZ2VUb2tlbicsIHBhZ2VUb2tlbik7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaUNsaWVudC51bmFyeUFwaUNhbGwodXJsLCB7fSwgJ0dFVCcpO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlDbGllbnQudW5hcnlBcGlDYWxsKG5ldyBVUkwodGhpcy5hcGlDbGllbnQuZ2V0QmFzZVVybCgpICsgJy8nICsgbmFtZSksIHt9LCAnR0VUJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5mZXJGdWxsUmVzb3VyY2VOYW1lKHByb2plY3QsIGxvY2F0aW9uLCBjYWNoZWRDb250ZW50SWQpIHtcbiAgICBpZiAoY2FjaGVkQ29udGVudElkLnN0YXJ0c1dpdGgoJ3Byb2plY3RzLycpKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRDb250ZW50SWQ7XG4gICAgfVxuICAgIGlmIChjYWNoZWRDb250ZW50SWQuc3RhcnRzV2l0aCgnbG9jYXRpb25zLycpKSB7XG4gICAgICAgIHJldHVybiBgcHJvamVjdHMvJHtwcm9qZWN0fS8ke2NhY2hlZENvbnRlbnRJZH1gO1xuICAgIH1cbiAgICBpZiAoY2FjaGVkQ29udGVudElkLnN0YXJ0c1dpdGgoJ2NhY2hlZENvbnRlbnRzLycpKSB7XG4gICAgICAgIHJldHVybiBgcHJvamVjdHMvJHtwcm9qZWN0fS9sb2NhdGlvbnMvJHtsb2NhdGlvbn0vJHtjYWNoZWRDb250ZW50SWR9YDtcbiAgICB9XG4gICAgaWYgKCFjYWNoZWRDb250ZW50SWQuaW5jbHVkZXMoJy8nKSkge1xuICAgICAgICByZXR1cm4gYHByb2plY3RzLyR7cHJvamVjdH0vbG9jYXRpb25zLyR7bG9jYXRpb259L2NhY2hlZENvbnRlbnRzLyR7Y2FjaGVkQ29udGVudElkfWA7XG4gICAgfVxuICAgIHRocm93IG5ldyB0eXBlc18xLkNsaWVudEVycm9yKGBJbnZhbGlkIENhY2hlZENvbnRlbnQubmFtZTogJHtjYWNoZWRDb250ZW50SWR9LiBDYWNoZWRDb250ZW50Lm5hbWUgc2hvdWxkIHN0YXJ0IHdpdGggJ3Byb2plY3RzLycsICdsb2NhdGlvbnMvJywgJ2NhY2hlZENvbnRlbnRzLycgb3IgaXMgYSBudW1iZXIgdHlwZS5gKTtcbn1cbmV4cG9ydHMuaW5mZXJGdWxsUmVzb3VyY2VOYW1lID0gaW5mZXJGdWxsUmVzb3VyY2VOYW1lO1xuLyoqXG4gKiBJbmZlcnMgdGhlIGZ1bGwgbW9kZWwgbmFtZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgcHJvamVjdCwgbG9jYXRpb24sIGFuZCBtb2RlbC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaW5mZXJNb2RlbE5hbWUocHJvamVjdCwgbG9jYXRpb24sIG1vZGVsKSB7XG4gICAgaWYgKCFtb2RlbCkge1xuICAgICAgICB0aHJvdyBuZXcgdHlwZXNfMS5DbGllbnRFcnJvcignTW9kZWwgbmFtZSBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG4gICAgaWYgKG1vZGVsLnN0YXJ0c1dpdGgoJ3B1Ymxpc2hlcnMvJykpIHtcbiAgICAgICAgcmV0dXJuIGBwcm9qZWN0cy8ke3Byb2plY3R9L2xvY2F0aW9ucy8ke2xvY2F0aW9ufS8ke21vZGVsfWA7XG4gICAgfVxuICAgIGlmICghbW9kZWwuc3RhcnRzV2l0aCgncHJvamVjdHMvJykpIHtcbiAgICAgICAgcmV0dXJuIGBwcm9qZWN0cy8ke3Byb2plY3R9L2xvY2F0aW9ucy8ke2xvY2F0aW9ufS9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvJHttb2RlbH1gO1xuICAgIH1cbiAgICByZXR1cm4gbW9kZWw7XG59XG5leHBvcnRzLmluZmVyTW9kZWxOYW1lID0gaW5mZXJNb2RlbE5hbWU7XG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgZm9yIG1hbmFnaW5nIFZlcnRleCBBSSdzIENhY2hlZENvbnRlbnQgcmVzb3VyY2UuXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIENhY2hlZENvbnRlbnRzIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgQ2FjaGVkQ29udGVudHNDbGllbnQoY2xpZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjYWNoZWQgY29udGVudCwgdGhpcyBjYWxsIHdpbGwgaW5pdGlhbGl6ZSB0aGUgY2FjaGVkIGNvbnRlbnQgaW4gdGhlIGRhdGEgc3RvcmFnZSwgYW5kIHVzZXJzIG5lZWQgdG8gcGF5IGZvciB0aGUgY2FjaGUgZGF0YSBzdG9yYWdlLlxuICAgICAqIEBwYXJhbSBjYWNoZWRDb250ZW50XG4gICAgICogQHBhcmFtIHBhcmVudCAtIFJlcXVpcmVkLiBUaGUgcGFyZW50IHJlc291cmNlIHdoZXJlIHRoZSBjYWNoZWQgY29udGVudCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY3JlYXRlKGNhY2hlZENvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgY3VyYXRlZENhY2hlZENvbnRlbnQgPSB7XG4gICAgICAgICAgICAuLi5jYWNoZWRDb250ZW50LFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IGNhY2hlZENvbnRlbnQuc3lzdGVtSW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgICAgICA/ICgwLCB1dGlsXzEuZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvQ29udGVudCkoY2FjaGVkQ29udGVudC5zeXN0ZW1JbnN0cnVjdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1vZGVsOiBpbmZlck1vZGVsTmFtZSh0aGlzLmNsaWVudC5hcGlDbGllbnQucHJvamVjdCwgdGhpcy5jbGllbnQuYXBpQ2xpZW50LmxvY2F0aW9uLCBjYWNoZWRDb250ZW50Lm1vZGVsKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmNyZWF0ZShjdXJhdGVkQ2FjaGVkQ29udGVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgY2FjaGVkIGNvbnRlbnQgY29uZmlndXJhdGlvbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cGRhdGVNYXNrIC0gUmVxdWlyZWQuIFRoZSBsaXN0IG9mIGZpZWxkcyB0byB1cGRhdGUuIEZvcm1hdDogZ29vZ2xlLWZpZWxkbWFzay4gU2VlIHtAbGluayBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vZG9jcy9kaXNjb3ZlcnkvdHlwZS1mb3JtYXR9XG4gICAgICogQHBhcmFtIG5hbWUgLSBJbW11dGFibGUuIElkZW50aWZpZXIuIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50IEZvcm1hdDogcHJvamVjdHMve3Byb2plY3R9L2xvY2F0aW9ucy97bG9jYXRpb259L2NhY2hlZENvbnRlbnRzL3tjYWNoZWRfY29udGVudH0uXG4gICAgICovXG4gICAgdXBkYXRlKGNhY2hlZENvbnRlbnQsIHVwZGF0ZU1hc2spIHtcbiAgICAgICAgaWYgKCFjYWNoZWRDb250ZW50Lm5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB0eXBlc18xLkNsaWVudEVycm9yKCdDYWNoZWQgY29udGVudCBuYW1lIGlzIHJlcXVpcmVkIGZvciB1cGRhdGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1cGRhdGVNYXNrIHx8IHVwZGF0ZU1hc2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgdHlwZXNfMS5DbGllbnRFcnJvcignVXBkYXRlIG1hc2sgaXMgcmVxdWlyZWQgZm9yIHVwZGF0ZS4gRmllbGRzIHNldCBpbiBjYWNoZWRDb250ZW50IGJ1dCBub3QgaW4gdXBkYXRlTWFzayB3aWxsIGJlIGlnbm9yZWQuIEV4YW1wbGVzOiBbXCJ0dGxcIl0gb3IgW1wiZXhwaXJlVGltZVwiXS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJhdGVkQ2FjaGVkQ29udGVudCA9IHtcbiAgICAgICAgICAgIC4uLmNhY2hlZENvbnRlbnQsXG4gICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogY2FjaGVkQ29udGVudC5zeXN0ZW1JbnN0cnVjdGlvblxuICAgICAgICAgICAgICAgID8gKDAsIHV0aWxfMS5mb3JtdWxhdGVTeXN0ZW1JbnN0cnVjdGlvbkludG9Db250ZW50KShjYWNoZWRDb250ZW50LnN5c3RlbUluc3RydWN0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbmFtZTogaW5mZXJGdWxsUmVzb3VyY2VOYW1lKHRoaXMuY2xpZW50LmFwaUNsaWVudC5wcm9qZWN0LCB0aGlzLmNsaWVudC5hcGlDbGllbnQubG9jYXRpb24sIGNhY2hlZENvbnRlbnQubmFtZSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudC51cGRhdGUoY3VyYXRlZENhY2hlZENvbnRlbnQsIHVwZGF0ZU1hc2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGNhY2hlZCBjb250ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBSZXF1aXJlZC4gVGhlIHJlc291cmNlIG5hbWUgcmVmZXJyaW5nIHRvIHRoZSBjYWNoZWQgY29udGVudC5cbiAgICAgKi9cbiAgICBkZWxldGUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQuZGVsZXRlKGluZmVyRnVsbFJlc291cmNlTmFtZSh0aGlzLmNsaWVudC5hcGlDbGllbnQucHJvamVjdCwgdGhpcy5jbGllbnQuYXBpQ2xpZW50LmxvY2F0aW9uLCBuYW1lKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RzIGNhY2hlZCBjb250ZW50cyBpbiBhIHByb2plY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgLSBPcHRpb25hbC4gVGhlIG1heGltdW0gbnVtYmVyIG9mIGNhY2hlZCBjb250ZW50cyB0byByZXR1cm4uIFRoZSBzZXJ2aWNlIG1heSByZXR1cm4gZmV3ZXIgdGhhbiB0aGlzIHZhbHVlLiBJZiB1bnNwZWNpZmllZCwgc29tZSBkZWZhdWx0ICh1bmRlciBtYXhpbXVtKSBudW1iZXIgb2YgaXRlbXMgd2lsbCBiZSByZXR1cm5lZC4gVGhlIG1heGltdW0gdmFsdWUgaXMgMTAwMDsgdmFsdWVzIGFib3ZlIDEwMDAgd2lsbCBiZSBjb2VyY2VkIHRvIDEwMDAuXG4gICAgICogQHBhcmFtIHBhZ2VUb2tlbiAtIE9wdGlvbmFsLiBBIHBhZ2UgdG9rZW4sIHJlY2VpdmVkIGZyb20gYSBwcmV2aW91cyBgTGlzdENhY2hlZENvbnRlbnRzYCBjYWxsLiBQcm92aWRlIHRoaXMgdG8gcmV0cmlldmUgdGhlIHN1YnNlcXVlbnQgcGFnZS4gV2hlbiBwYWdpbmF0aW5nLCBhbGwgb3RoZXIgcGFyYW1ldGVycyBwcm92aWRlZCB0byBgTGlzdENhY2hlZENvbnRlbnRzYCBtdXN0IG1hdGNoIHRoZSBjYWxsIHRoYXQgcHJvdmlkZWQgdGhlIHBhZ2UgdG9rZW4uXG4gICAgICovXG4gICAgbGlzdChwYWdlU2l6ZSwgcGFnZVRva2VuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5saXN0KHBhZ2VTaXplLCBwYWdlVG9rZW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGNhY2hlZCBjb250ZW50IGNvbmZpZ3VyYXRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBSZXF1aXJlZC4gVGhlIHJlc291cmNlIG5hbWUgcmVmZXJyaW5nIHRvIHRoZSBjYWNoZWQgY29udGVudC5cbiAgICAgKi9cbiAgICBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGluZmVyRnVsbFJlc291cmNlTmFtZSh0aGlzLmNsaWVudC5hcGlDbGllbnQucHJvamVjdCwgdGhpcy5jbGllbnQuYXBpQ2xpZW50LmxvY2F0aW9uLCBuYW1lKSk7XG4gICAgfVxufVxuZXhwb3J0cy5DYWNoZWRDb250ZW50cyA9IENhY2hlZENvbnRlbnRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVkX2NvbnRlbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/cached_contents.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/resources/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ApiClient = exports.CachedContents = void 0;\nvar cached_contents_1 = __webpack_require__(/*! ./cached_contents */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/cached_contents.js\");\nObject.defineProperty(exports, \"CachedContents\", ({ enumerable: true, get: function () { return cached_contents_1.CachedContents; } }));\nvar api_client_1 = __webpack_require__(/*! ./shared/api_client */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/shared/api_client.js\");\nObject.defineProperty(exports, \"ApiClient\", ({ enumerable: true, get: function () { return api_client_1.ApiClient; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvcmVzb3VyY2VzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLEdBQUcsc0JBQXNCO0FBQzFDLHdCQUF3QixtQkFBTyxDQUFDLDZHQUFtQjtBQUNuRCxrREFBaUQsRUFBRSxxQ0FBcUMsNENBQTRDLEVBQUM7QUFDckksbUJBQW1CLG1CQUFPLENBQUMsaUhBQXFCO0FBQ2hELDZDQUE0QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUN0SCIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9yZXNvdXJjZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcGlDbGllbnQgPSBleHBvcnRzLkNhY2hlZENvbnRlbnRzID0gdm9pZCAwO1xudmFyIGNhY2hlZF9jb250ZW50c18xID0gcmVxdWlyZShcIi4vY2FjaGVkX2NvbnRlbnRzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2FjaGVkQ29udGVudHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhY2hlZF9jb250ZW50c18xLkNhY2hlZENvbnRlbnRzOyB9IH0pO1xudmFyIGFwaV9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL3NoYXJlZC9hcGlfY2xpZW50XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQXBpQ2xpZW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhcGlfY2xpZW50XzEuQXBpQ2xpZW50OyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/shared/api_client.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/resources/shared/api_client.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ApiClient = void 0;\nconst util_1 = __webpack_require__(/*! ../../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\nconst types_1 = __webpack_require__(/*! ../../types */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js\");\nconst AUTHORIZATION_HEADER = 'Authorization';\nconst CONTENT_TYPE_HEADER = 'Content-Type';\nconst USER_AGENT_HEADER = 'User-Agent';\nclass ApiClient {\n    constructor(project, location, apiVersion, googleAuth) {\n        this.project = project;\n        this.location = location;\n        this.apiVersion = apiVersion;\n        this.googleAuth = googleAuth;\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws {@link GoogleAuthError} when\n     * fails.\n     * @returns Promise of token string.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new types_1.GoogleAuthError(util_1.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    getBaseUrl() {\n        return `https://${this.location}-aiplatform.googleapis.com/${this.apiVersion}`;\n    }\n    getBaseResourePath() {\n        return `projects/${this.project}/locations/${this.location}`;\n    }\n    async unaryApiCall(url, requestInit, httpMethod) {\n        const token = await this.getHeaders();\n        return this.apiCall(url.toString(), {\n            ...requestInit,\n            method: httpMethod,\n            headers: token,\n        });\n    }\n    async apiCall(url, requestInit) {\n        const response = await fetch(url, requestInit).catch(e => {\n            throw new types_1.GoogleGenerativeAIError(`exception sending request to url: ${url} with requestInit: ${JSON.stringify(requestInit)}}`, e);\n        });\n        await throwErrorIfNotOK(response, url, requestInit).catch(e => {\n            throw e;\n        });\n        try {\n            return await response.json();\n        }\n        catch (e) {\n            throw new types_1.GoogleGenerativeAIError(JSON.stringify(response), e);\n        }\n    }\n    async getHeaders() {\n        const token = await this.fetchToken();\n        return new Headers({\n            [AUTHORIZATION_HEADER]: `Bearer ${token}`,\n            [CONTENT_TYPE_HEADER]: 'application/json',\n            [USER_AGENT_HEADER]: util_1.constants.USER_AGENT,\n        });\n    }\n}\nexports.ApiClient = ApiClient;\nasync function throwErrorIfNotOK(response, url, requestInit) {\n    var _a;\n    if (response === undefined) {\n        throw new types_1.GoogleGenerativeAIError('response is undefined');\n    }\n    if (!response.ok) {\n        const status = response.status;\n        const statusText = response.statusText;\n        let errorBody;\n        if ((_a = response.headers.get('content-type')) === null || _a === void 0 ? void 0 : _a.includes('application/json')) {\n            errorBody = await response.json();\n        }\n        else {\n            errorBody = {\n                error: {\n                    message: `exception sending request to url: ${url} with requestInit: ${JSON.stringify(requestInit)}}`,\n                    code: response.status,\n                    status: response.statusText,\n                },\n            };\n        }\n        const errorMessage = `got status: ${status} ${statusText}. ${JSON.stringify(errorBody)}`;\n        if (status >= 400 && status < 500) {\n            const error = new types_1.ClientError(errorMessage, new types_1.GoogleApiError(errorBody.error.message, errorBody.error.code, errorBody.error.status, errorBody.error.details));\n            throw error;\n        }\n        throw new types_1.GoogleGenerativeAIError(errorMessage);\n    }\n}\n//# sourceMappingURL=api_client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvcmVzb3VyY2VzL3NoYXJlZC9hcGlfY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLGVBQWUsbUJBQU8sQ0FBQyx1RkFBWTtBQUNuQyxnQkFBZ0IsbUJBQU8sQ0FBQyx5RkFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVCQUF1QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWMsNkJBQTZCLGdCQUFnQjtBQUNyRjtBQUNBO0FBQ0EsMkJBQTJCLGFBQWEsYUFBYSxjQUFjO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixLQUFLLG9CQUFvQiw2QkFBNkI7QUFDakosU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsTUFBTTtBQUNwRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLEtBQUssb0JBQW9CLDZCQUE2QjtBQUN4SDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUSxFQUFFLFdBQVcsSUFBSSwwQkFBMEI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9yZXNvdXJjZXMvc2hhcmVkL2FwaV9jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcGlDbGllbnQgPSB2b2lkIDA7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbFwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXNcIik7XG5jb25zdCBBVVRIT1JJWkFUSU9OX0hFQURFUiA9ICdBdXRob3JpemF0aW9uJztcbmNvbnN0IENPTlRFTlRfVFlQRV9IRUFERVIgPSAnQ29udGVudC1UeXBlJztcbmNvbnN0IFVTRVJfQUdFTlRfSEVBREVSID0gJ1VzZXItQWdlbnQnO1xuY2xhc3MgQXBpQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9qZWN0LCBsb2NhdGlvbiwgYXBpVmVyc2lvbiwgZ29vZ2xlQXV0aCkge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IGFwaVZlcnNpb247XG4gICAgICAgIHRoaXMuZ29vZ2xlQXV0aCA9IGdvb2dsZUF1dGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWNjZXNzIHRva2VuIGZyb20gR29vZ2xlQXV0aC4gVGhyb3dzIHtAbGluayBHb29nbGVBdXRoRXJyb3J9IHdoZW5cbiAgICAgKiBmYWlscy5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIG9mIHRva2VuIHN0cmluZy5cbiAgICAgKi9cbiAgICBmZXRjaFRva2VuKCkge1xuICAgICAgICBjb25zdCB0b2tlblByb21pc2UgPSB0aGlzLmdvb2dsZUF1dGguZ2V0QWNjZXNzVG9rZW4oKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyB0eXBlc18xLkdvb2dsZUF1dGhFcnJvcih1dGlsXzEuY29uc3RhbnRzLkNSRURFTlRJQUxfRVJST1JfTUVTU0FHRSwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdG9rZW5Qcm9taXNlO1xuICAgIH1cbiAgICBnZXRCYXNlVXJsKCkge1xuICAgICAgICByZXR1cm4gYGh0dHBzOi8vJHt0aGlzLmxvY2F0aW9ufS1haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tLyR7dGhpcy5hcGlWZXJzaW9ufWA7XG4gICAgfVxuICAgIGdldEJhc2VSZXNvdXJlUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIGBwcm9qZWN0cy8ke3RoaXMucHJvamVjdH0vbG9jYXRpb25zLyR7dGhpcy5sb2NhdGlvbn1gO1xuICAgIH1cbiAgICBhc3luYyB1bmFyeUFwaUNhbGwodXJsLCByZXF1ZXN0SW5pdCwgaHR0cE1ldGhvZCkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZ2V0SGVhZGVycygpO1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlDYWxsKHVybC50b1N0cmluZygpLCB7XG4gICAgICAgICAgICAuLi5yZXF1ZXN0SW5pdCxcbiAgICAgICAgICAgIG1ldGhvZDogaHR0cE1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRva2VuLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgYXBpQ2FsbCh1cmwsIHJlcXVlc3RJbml0KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCByZXF1ZXN0SW5pdCkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgdHlwZXNfMS5Hb29nbGVHZW5lcmF0aXZlQUlFcnJvcihgZXhjZXB0aW9uIHNlbmRpbmcgcmVxdWVzdCB0byB1cmw6ICR7dXJsfSB3aXRoIHJlcXVlc3RJbml0OiAke0pTT04uc3RyaW5naWZ5KHJlcXVlc3RJbml0KX19YCwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aHJvd0Vycm9ySWZOb3RPSyhyZXNwb25zZSwgdXJsLCByZXF1ZXN0SW5pdCkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB0eXBlc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2V0SGVhZGVycygpIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmZldGNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXJzKHtcbiAgICAgICAgICAgIFtBVVRIT1JJWkFUSU9OX0hFQURFUl06IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgW0NPTlRFTlRfVFlQRV9IRUFERVJdOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBbVVNFUl9BR0VOVF9IRUFERVJdOiB1dGlsXzEuY29uc3RhbnRzLlVTRVJfQUdFTlQsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQXBpQ2xpZW50ID0gQXBpQ2xpZW50O1xuYXN5bmMgZnVuY3Rpb24gdGhyb3dFcnJvcklmTm90T0socmVzcG9uc2UsIHVybCwgcmVxdWVzdEluaXQpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHJlc3BvbnNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IHR5cGVzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ3Jlc3BvbnNlIGlzIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7XG4gICAgICAgIGxldCBlcnJvckJvZHk7XG4gICAgICAgIGlmICgoX2EgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgICAgICBlcnJvckJvZHkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlcnJvckJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYGV4Y2VwdGlvbiBzZW5kaW5nIHJlcXVlc3QgdG8gdXJsOiAke3VybH0gd2l0aCByZXF1ZXN0SW5pdDogJHtKU09OLnN0cmluZ2lmeShyZXF1ZXN0SW5pdCl9fWAsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBnb3Qgc3RhdHVzOiAke3N0YXR1c30gJHtzdGF0dXNUZXh0fS4gJHtKU09OLnN0cmluZ2lmeShlcnJvckJvZHkpfWA7XG4gICAgICAgIGlmIChzdGF0dXMgPj0gNDAwICYmIHN0YXR1cyA8IDUwMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgdHlwZXNfMS5DbGllbnRFcnJvcihlcnJvck1lc3NhZ2UsIG5ldyB0eXBlc18xLkdvb2dsZUFwaUVycm9yKGVycm9yQm9keS5lcnJvci5tZXNzYWdlLCBlcnJvckJvZHkuZXJyb3IuY29kZSwgZXJyb3JCb2R5LmVycm9yLnN0YXR1cywgZXJyb3JCb2R5LmVycm9yLmRldGFpbHMpKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyB0eXBlc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBpX2NsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/shared/api_client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/common.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/common.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SchemaType = void 0;\n/** This file contains interfaces that are usable in the types folder. */\n/**\n * The list of OpenAPI data types\n * as defined by https://swagger.io/docs/specification/data-models/data-types/\n */\nvar SchemaType;\n(function (SchemaType) {\n    /** String type. */\n    SchemaType[\"STRING\"] = \"STRING\";\n    /** Number type. */\n    SchemaType[\"NUMBER\"] = \"NUMBER\";\n    /** Integer type. */\n    SchemaType[\"INTEGER\"] = \"INTEGER\";\n    /** Boolean type. */\n    SchemaType[\"BOOLEAN\"] = \"BOOLEAN\";\n    /** Array type. */\n    SchemaType[\"ARRAY\"] = \"ARRAY\";\n    /** Object type. */\n    SchemaType[\"OBJECT\"] = \"OBJECT\";\n})(SchemaType || (exports.SchemaType = SchemaType = {}));\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvY29tbW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpQkFBaUIsa0JBQWtCLGtCQUFrQjtBQUN0RCIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy90eXBlcy9jb21tb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TY2hlbWFUeXBlID0gdm9pZCAwO1xuLyoqIFRoaXMgZmlsZSBjb250YWlucyBpbnRlcmZhY2VzIHRoYXQgYXJlIHVzYWJsZSBpbiB0aGUgdHlwZXMgZm9sZGVyLiAqL1xuLyoqXG4gKiBUaGUgbGlzdCBvZiBPcGVuQVBJIGRhdGEgdHlwZXNcbiAqIGFzIGRlZmluZWQgYnkgaHR0cHM6Ly9zd2FnZ2VyLmlvL2RvY3Mvc3BlY2lmaWNhdGlvbi9kYXRhLW1vZGVscy9kYXRhLXR5cGVzL1xuICovXG52YXIgU2NoZW1hVHlwZTtcbihmdW5jdGlvbiAoU2NoZW1hVHlwZSkge1xuICAgIC8qKiBTdHJpbmcgdHlwZS4gKi9cbiAgICBTY2hlbWFUeXBlW1wiU1RSSU5HXCJdID0gXCJTVFJJTkdcIjtcbiAgICAvKiogTnVtYmVyIHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIk5VTUJFUlwiXSA9IFwiTlVNQkVSXCI7XG4gICAgLyoqIEludGVnZXIgdHlwZS4gKi9cbiAgICBTY2hlbWFUeXBlW1wiSU5URUdFUlwiXSA9IFwiSU5URUdFUlwiO1xuICAgIC8qKiBCb29sZWFuIHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIkJPT0xFQU5cIl0gPSBcIkJPT0xFQU5cIjtcbiAgICAvKiogQXJyYXkgdHlwZS4gKi9cbiAgICBTY2hlbWFUeXBlW1wiQVJSQVlcIl0gPSBcIkFSUkFZXCI7XG4gICAgLyoqIE9iamVjdCB0eXBlLiAqL1xuICAgIFNjaGVtYVR5cGVbXCJPQkpFQ1RcIl0gPSBcIk9CSkVDVFwiO1xufSkoU2NoZW1hVHlwZSB8fCAoZXhwb3J0cy5TY2hlbWFUeXBlID0gU2NoZW1hVHlwZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/common.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/content.js":
/*!************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/content.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FunctionDeclarationSchemaType = exports.Mode = exports.FinishReason = exports.BlockedReason = exports.HarmSeverity = exports.HarmProbability = exports.HarmBlockThreshold = exports.HarmCategory = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/common.js\");\n/**\n * Harm categories that will block the content.\n */\nvar HarmCategory;\n(function (HarmCategory) {\n    /** The harm category is unspecified. */\n    HarmCategory[\"HARM_CATEGORY_UNSPECIFIED\"] = \"HARM_CATEGORY_UNSPECIFIED\";\n    /** The harm category is hate speech. */\n    HarmCategory[\"HARM_CATEGORY_HATE_SPEECH\"] = \"HARM_CATEGORY_HATE_SPEECH\";\n    /** The harm category is dangerous content. */\n    HarmCategory[\"HARM_CATEGORY_DANGEROUS_CONTENT\"] = \"HARM_CATEGORY_DANGEROUS_CONTENT\";\n    /** The harm category is harassment. */\n    HarmCategory[\"HARM_CATEGORY_HARASSMENT\"] = \"HARM_CATEGORY_HARASSMENT\";\n    /** The harm category is sexually explicit content. */\n    HarmCategory[\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"] = \"HARM_CATEGORY_SEXUALLY_EXPLICIT\";\n})(HarmCategory || (exports.HarmCategory = HarmCategory = {}));\n/**\n * Probability based thresholds levels for blocking.\n */\nvar HarmBlockThreshold;\n(function (HarmBlockThreshold) {\n    /** Unspecified harm block threshold. */\n    HarmBlockThreshold[\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"] = \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\";\n    /** Block low threshold and above (i.e. block more). */\n    HarmBlockThreshold[\"BLOCK_LOW_AND_ABOVE\"] = \"BLOCK_LOW_AND_ABOVE\";\n    /** Block medium threshold and above. */\n    HarmBlockThreshold[\"BLOCK_MEDIUM_AND_ABOVE\"] = \"BLOCK_MEDIUM_AND_ABOVE\";\n    /** Block only high threshold (i.e. block less). */\n    HarmBlockThreshold[\"BLOCK_ONLY_HIGH\"] = \"BLOCK_ONLY_HIGH\";\n    /** Block none. */\n    HarmBlockThreshold[\"BLOCK_NONE\"] = \"BLOCK_NONE\";\n    /** Turn off the safety filter. */\n    HarmBlockThreshold[\"OFF\"] = \"OFF\";\n})(HarmBlockThreshold || (exports.HarmBlockThreshold = HarmBlockThreshold = {}));\n/**\n * Harm probability levels in the content.\n */\nvar HarmProbability;\n(function (HarmProbability) {\n    /** Harm probability unspecified. */\n    HarmProbability[\"HARM_PROBABILITY_UNSPECIFIED\"] = \"HARM_PROBABILITY_UNSPECIFIED\";\n    HarmProbability[\"NEGLIGIBLE\"] = \"NEGLIGIBLE\";\n    /** Low level of harm. */\n    HarmProbability[\"LOW\"] = \"LOW\";\n    /** Medium level of harm. */\n    HarmProbability[\"MEDIUM\"] = \"MEDIUM\";\n    /** High level of harm. */\n    HarmProbability[\"HIGH\"] = \"HIGH\";\n})(HarmProbability || (exports.HarmProbability = HarmProbability = {}));\n/**\n * Harm severity levels\n */\nvar HarmSeverity;\n(function (HarmSeverity) {\n    /** Harm severity unspecified. */\n    HarmSeverity[\"HARM_SEVERITY_UNSPECIFIED\"] = \"HARM_SEVERITY_UNSPECIFIED\";\n    /** Negligible level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_NEGLIGIBLE\"] = \"HARM_SEVERITY_NEGLIGIBLE\";\n    /** Low level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_LOW\"] = \"HARM_SEVERITY_LOW\";\n    /** Medium level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_MEDIUM\"] = \"HARM_SEVERITY_MEDIUM\";\n    /** High level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_HIGH\"] = \"HARM_SEVERITY_HIGH\";\n})(HarmSeverity || (exports.HarmSeverity = HarmSeverity = {}));\n/**\n * The reason why the reponse is blocked.\n */\nvar BlockedReason;\n(function (BlockedReason) {\n    /** Unspecified blocked reason. */\n    BlockedReason[\"BLOCKED_REASON_UNSPECIFIED\"] = \"BLOCK_REASON_UNSPECIFIED\";\n    /** Candidates blocked due to safety. */\n    BlockedReason[\"SAFETY\"] = \"SAFETY\";\n    /** Candidates blocked due to other reason. */\n    BlockedReason[\"OTHER\"] = \"OTHER\";\n    /** terminology blocklist. */\n    BlockedReason[\"BLOCKLIST\"] = \"BLOCKLIST\";\n    /** Candidates blocked due to prohibited content. */\n    BlockedReason[\"PROHIBITED_CONTENT\"] = \"PROHIBITED_CONTENT\";\n})(BlockedReason || (exports.BlockedReason = BlockedReason = {}));\n/**\n * The reason why the model stopped generating tokens.\n * If empty, the model has not stopped generating the tokens.\n */\nvar FinishReason;\n(function (FinishReason) {\n    /** The finish reason is unspecified. */\n    FinishReason[\"FINISH_REASON_UNSPECIFIED\"] = \"FINISH_REASON_UNSPECIFIED\";\n    /** Natural stop point of the model or provided stop sequence. */\n    FinishReason[\"STOP\"] = \"STOP\";\n    /** The maximum number of tokens as specified in the request was reached. */\n    FinishReason[\"MAX_TOKENS\"] = \"MAX_TOKENS\";\n    /**\n     * The token generation was stopped as the response was flagged for safety\n     * reasons.\n     */\n    FinishReason[\"SAFETY\"] = \"SAFETY\";\n    /**\n     * The token generation was stopped as the response was flagged for\n     * unauthorized citations.\n     */\n    FinishReason[\"RECITATION\"] = \"RECITATION\";\n    /** All other reasons that stopped the token generation. */\n    FinishReason[\"OTHER\"] = \"OTHER\";\n    /**\n     * The token generation was stopped as the response was flagged for the\n     * terms which are included from the terminology blocklist.\n     */\n    FinishReason[\"BLOCKLIST\"] = \"BLOCKLIST\";\n    /**\n     * The token generation was stopped as the response was flagged for\n     * the prohibited contents.\n     */\n    FinishReason[\"PROHIBITED_CONTENT\"] = \"PROHIBITED_CONTENT\";\n    /**\n     * The token generation was stopped as the response was flagged for\n     * Sensitive Personally Identifiable Information (SPII) contents.\n     */\n    FinishReason[\"SPII\"] = \"SPII\";\n})(FinishReason || (exports.FinishReason = FinishReason = {}));\nvar Mode;\n(function (Mode) {\n    Mode[\"MODE_UNSPECIFIED\"] = \"MODE_UNSPECIFIED\";\n    Mode[\"MODE_DYNAMIC\"] = \"MODE_DYNAMIC\";\n})(Mode || (exports.Mode = Mode = {}));\nexports.FunctionDeclarationSchemaType = { ...common_1.SchemaType };\n//# sourceMappingURL=content.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvY29udGVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFDQUFxQyxHQUFHLFlBQVksR0FBRyxvQkFBb0IsR0FBRyxxQkFBcUIsR0FBRyxvQkFBb0IsR0FBRyx1QkFBdUIsR0FBRywwQkFBMEIsR0FBRyxvQkFBb0I7QUFDeE0saUJBQWlCLG1CQUFPLENBQUMsdUZBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQkFBbUIsb0JBQW9CLG9CQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5QkFBeUIsMEJBQTBCLDBCQUEwQjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0IsdUJBQXVCLHVCQUF1QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1CQUFtQixvQkFBb0Isb0JBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0JBQW9CLHFCQUFxQixxQkFBcUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQkFBbUIsb0JBQW9CLG9CQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsV0FBVyxZQUFZLFlBQVk7QUFDcEMscUNBQXFDLEtBQUs7QUFDMUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvY29udGVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZ1bmN0aW9uRGVjbGFyYXRpb25TY2hlbWFUeXBlID0gZXhwb3J0cy5Nb2RlID0gZXhwb3J0cy5GaW5pc2hSZWFzb24gPSBleHBvcnRzLkJsb2NrZWRSZWFzb24gPSBleHBvcnRzLkhhcm1TZXZlcml0eSA9IGV4cG9ydHMuSGFybVByb2JhYmlsaXR5ID0gZXhwb3J0cy5IYXJtQmxvY2tUaHJlc2hvbGQgPSBleHBvcnRzLkhhcm1DYXRlZ29yeSA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4vY29tbW9uXCIpO1xuLyoqXG4gKiBIYXJtIGNhdGVnb3JpZXMgdGhhdCB3aWxsIGJsb2NrIHRoZSBjb250ZW50LlxuICovXG52YXIgSGFybUNhdGVnb3J5O1xuKGZ1bmN0aW9uIChIYXJtQ2F0ZWdvcnkpIHtcbiAgICAvKiogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgdW5zcGVjaWZpZWQuICovXG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9DQVRFR09SWV9VTlNQRUNJRklFRFwiO1xuICAgIC8qKiBUaGUgaGFybSBjYXRlZ29yeSBpcyBoYXRlIHNwZWVjaC4gKi9cbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX0hBVEVfU1BFRUNIXCJdID0gXCJIQVJNX0NBVEVHT1JZX0hBVEVfU1BFRUNIXCI7XG4gICAgLyoqIFRoZSBoYXJtIGNhdGVnb3J5IGlzIGRhbmdlcm91cyBjb250ZW50LiAqL1xuICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlRcIl0gPSBcIkhBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlRcIjtcbiAgICAvKiogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgaGFyYXNzbWVudC4gKi9cbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlRcIl0gPSBcIkhBUk1fQ0FURUdPUllfSEFSQVNTTUVOVFwiO1xuICAgIC8qKiBUaGUgaGFybSBjYXRlZ29yeSBpcyBzZXh1YWxseSBleHBsaWNpdCBjb250ZW50LiAqL1xuICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVRcIl0gPSBcIkhBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVRcIjtcbn0pKEhhcm1DYXRlZ29yeSB8fCAoZXhwb3J0cy5IYXJtQ2F0ZWdvcnkgPSBIYXJtQ2F0ZWdvcnkgPSB7fSkpO1xuLyoqXG4gKiBQcm9iYWJpbGl0eSBiYXNlZCB0aHJlc2hvbGRzIGxldmVscyBmb3IgYmxvY2tpbmcuXG4gKi9cbnZhciBIYXJtQmxvY2tUaHJlc2hvbGQ7XG4oZnVuY3Rpb24gKEhhcm1CbG9ja1RocmVzaG9sZCkge1xuICAgIC8qKiBVbnNwZWNpZmllZCBoYXJtIGJsb2NrIHRocmVzaG9sZC4gKi9cbiAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJIQVJNX0JMT0NLX1RIUkVTSE9MRF9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRURcIjtcbiAgICAvKiogQmxvY2sgbG93IHRocmVzaG9sZCBhbmQgYWJvdmUgKGkuZS4gYmxvY2sgbW9yZSkuICovXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfTE9XX0FORF9BQk9WRVwiXSA9IFwiQkxPQ0tfTE9XX0FORF9BQk9WRVwiO1xuICAgIC8qKiBCbG9jayBtZWRpdW0gdGhyZXNob2xkIGFuZCBhYm92ZS4gKi9cbiAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCJdID0gXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCI7XG4gICAgLyoqIEJsb2NrIG9ubHkgaGlnaCB0aHJlc2hvbGQgKGkuZS4gYmxvY2sgbGVzcykuICovXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfT05MWV9ISUdIXCJdID0gXCJCTE9DS19PTkxZX0hJR0hcIjtcbiAgICAvKiogQmxvY2sgbm9uZS4gKi9cbiAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19OT05FXCJdID0gXCJCTE9DS19OT05FXCI7XG4gICAgLyoqIFR1cm4gb2ZmIHRoZSBzYWZldHkgZmlsdGVyLiAqL1xuICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIk9GRlwiXSA9IFwiT0ZGXCI7XG59KShIYXJtQmxvY2tUaHJlc2hvbGQgfHwgKGV4cG9ydHMuSGFybUJsb2NrVGhyZXNob2xkID0gSGFybUJsb2NrVGhyZXNob2xkID0ge30pKTtcbi8qKlxuICogSGFybSBwcm9iYWJpbGl0eSBsZXZlbHMgaW4gdGhlIGNvbnRlbnQuXG4gKi9cbnZhciBIYXJtUHJvYmFiaWxpdHk7XG4oZnVuY3Rpb24gKEhhcm1Qcm9iYWJpbGl0eSkge1xuICAgIC8qKiBIYXJtIHByb2JhYmlsaXR5IHVuc3BlY2lmaWVkLiAqL1xuICAgIEhhcm1Qcm9iYWJpbGl0eVtcIkhBUk1fUFJPQkFCSUxJVFlfVU5TUEVDSUZJRURcIl0gPSBcIkhBUk1fUFJPQkFCSUxJVFlfVU5TUEVDSUZJRURcIjtcbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJORUdMSUdJQkxFXCJdID0gXCJORUdMSUdJQkxFXCI7XG4gICAgLyoqIExvdyBsZXZlbCBvZiBoYXJtLiAqL1xuICAgIEhhcm1Qcm9iYWJpbGl0eVtcIkxPV1wiXSA9IFwiTE9XXCI7XG4gICAgLyoqIE1lZGl1bSBsZXZlbCBvZiBoYXJtLiAqL1xuICAgIEhhcm1Qcm9iYWJpbGl0eVtcIk1FRElVTVwiXSA9IFwiTUVESVVNXCI7XG4gICAgLyoqIEhpZ2ggbGV2ZWwgb2YgaGFybS4gKi9cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJISUdIXCJdID0gXCJISUdIXCI7XG59KShIYXJtUHJvYmFiaWxpdHkgfHwgKGV4cG9ydHMuSGFybVByb2JhYmlsaXR5ID0gSGFybVByb2JhYmlsaXR5ID0ge30pKTtcbi8qKlxuICogSGFybSBzZXZlcml0eSBsZXZlbHNcbiAqL1xudmFyIEhhcm1TZXZlcml0eTtcbihmdW5jdGlvbiAoSGFybVNldmVyaXR5KSB7XG4gICAgLyoqIEhhcm0gc2V2ZXJpdHkgdW5zcGVjaWZpZWQuICovXG4gICAgSGFybVNldmVyaXR5W1wiSEFSTV9TRVZFUklUWV9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9TRVZFUklUWV9VTlNQRUNJRklFRFwiO1xuICAgIC8qKiBOZWdsaWdpYmxlIGxldmVsIG9mIGhhcm0gc2V2ZXJpdHkuICovXG4gICAgSGFybVNldmVyaXR5W1wiSEFSTV9TRVZFUklUWV9ORUdMSUdJQkxFXCJdID0gXCJIQVJNX1NFVkVSSVRZX05FR0xJR0lCTEVcIjtcbiAgICAvKiogTG93IGxldmVsIG9mIGhhcm0gc2V2ZXJpdHkuICovXG4gICAgSGFybVNldmVyaXR5W1wiSEFSTV9TRVZFUklUWV9MT1dcIl0gPSBcIkhBUk1fU0VWRVJJVFlfTE9XXCI7XG4gICAgLyoqIE1lZGl1bSBsZXZlbCBvZiBoYXJtIHNldmVyaXR5LiAqL1xuICAgIEhhcm1TZXZlcml0eVtcIkhBUk1fU0VWRVJJVFlfTUVESVVNXCJdID0gXCJIQVJNX1NFVkVSSVRZX01FRElVTVwiO1xuICAgIC8qKiBIaWdoIGxldmVsIG9mIGhhcm0gc2V2ZXJpdHkuICovXG4gICAgSGFybVNldmVyaXR5W1wiSEFSTV9TRVZFUklUWV9ISUdIXCJdID0gXCJIQVJNX1NFVkVSSVRZX0hJR0hcIjtcbn0pKEhhcm1TZXZlcml0eSB8fCAoZXhwb3J0cy5IYXJtU2V2ZXJpdHkgPSBIYXJtU2V2ZXJpdHkgPSB7fSkpO1xuLyoqXG4gKiBUaGUgcmVhc29uIHdoeSB0aGUgcmVwb25zZSBpcyBibG9ja2VkLlxuICovXG52YXIgQmxvY2tlZFJlYXNvbjtcbihmdW5jdGlvbiAoQmxvY2tlZFJlYXNvbikge1xuICAgIC8qKiBVbnNwZWNpZmllZCBibG9ja2VkIHJlYXNvbi4gKi9cbiAgICBCbG9ja2VkUmVhc29uW1wiQkxPQ0tFRF9SRUFTT05fVU5TUEVDSUZJRURcIl0gPSBcIkJMT0NLX1JFQVNPTl9VTlNQRUNJRklFRFwiO1xuICAgIC8qKiBDYW5kaWRhdGVzIGJsb2NrZWQgZHVlIHRvIHNhZmV0eS4gKi9cbiAgICBCbG9ja2VkUmVhc29uW1wiU0FGRVRZXCJdID0gXCJTQUZFVFlcIjtcbiAgICAvKiogQ2FuZGlkYXRlcyBibG9ja2VkIGR1ZSB0byBvdGhlciByZWFzb24uICovXG4gICAgQmxvY2tlZFJlYXNvbltcIk9USEVSXCJdID0gXCJPVEhFUlwiO1xuICAgIC8qKiB0ZXJtaW5vbG9neSBibG9ja2xpc3QuICovXG4gICAgQmxvY2tlZFJlYXNvbltcIkJMT0NLTElTVFwiXSA9IFwiQkxPQ0tMSVNUXCI7XG4gICAgLyoqIENhbmRpZGF0ZXMgYmxvY2tlZCBkdWUgdG8gcHJvaGliaXRlZCBjb250ZW50LiAqL1xuICAgIEJsb2NrZWRSZWFzb25bXCJQUk9ISUJJVEVEX0NPTlRFTlRcIl0gPSBcIlBST0hJQklURURfQ09OVEVOVFwiO1xufSkoQmxvY2tlZFJlYXNvbiB8fCAoZXhwb3J0cy5CbG9ja2VkUmVhc29uID0gQmxvY2tlZFJlYXNvbiA9IHt9KSk7XG4vKipcbiAqIFRoZSByZWFzb24gd2h5IHRoZSBtb2RlbCBzdG9wcGVkIGdlbmVyYXRpbmcgdG9rZW5zLlxuICogSWYgZW1wdHksIHRoZSBtb2RlbCBoYXMgbm90IHN0b3BwZWQgZ2VuZXJhdGluZyB0aGUgdG9rZW5zLlxuICovXG52YXIgRmluaXNoUmVhc29uO1xuKGZ1bmN0aW9uIChGaW5pc2hSZWFzb24pIHtcbiAgICAvKiogVGhlIGZpbmlzaCByZWFzb24gaXMgdW5zcGVjaWZpZWQuICovXG4gICAgRmluaXNoUmVhc29uW1wiRklOSVNIX1JFQVNPTl9VTlNQRUNJRklFRFwiXSA9IFwiRklOSVNIX1JFQVNPTl9VTlNQRUNJRklFRFwiO1xuICAgIC8qKiBOYXR1cmFsIHN0b3AgcG9pbnQgb2YgdGhlIG1vZGVsIG9yIHByb3ZpZGVkIHN0b3Agc2VxdWVuY2UuICovXG4gICAgRmluaXNoUmVhc29uW1wiU1RPUFwiXSA9IFwiU1RPUFwiO1xuICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIGFzIHNwZWNpZmllZCBpbiB0aGUgcmVxdWVzdCB3YXMgcmVhY2hlZC4gKi9cbiAgICBGaW5pc2hSZWFzb25bXCJNQVhfVE9LRU5TXCJdID0gXCJNQVhfVE9LRU5TXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHRva2VuIGdlbmVyYXRpb24gd2FzIHN0b3BwZWQgYXMgdGhlIHJlc3BvbnNlIHdhcyBmbGFnZ2VkIGZvciBzYWZldHlcbiAgICAgKiByZWFzb25zLlxuICAgICAqL1xuICAgIEZpbmlzaFJlYXNvbltcIlNBRkVUWVwiXSA9IFwiU0FGRVRZXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHRva2VuIGdlbmVyYXRpb24gd2FzIHN0b3BwZWQgYXMgdGhlIHJlc3BvbnNlIHdhcyBmbGFnZ2VkIGZvclxuICAgICAqIHVuYXV0aG9yaXplZCBjaXRhdGlvbnMuXG4gICAgICovXG4gICAgRmluaXNoUmVhc29uW1wiUkVDSVRBVElPTlwiXSA9IFwiUkVDSVRBVElPTlwiO1xuICAgIC8qKiBBbGwgb3RoZXIgcmVhc29ucyB0aGF0IHN0b3BwZWQgdGhlIHRva2VuIGdlbmVyYXRpb24uICovXG4gICAgRmluaXNoUmVhc29uW1wiT1RIRVJcIl0gPSBcIk9USEVSXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHRva2VuIGdlbmVyYXRpb24gd2FzIHN0b3BwZWQgYXMgdGhlIHJlc3BvbnNlIHdhcyBmbGFnZ2VkIGZvciB0aGVcbiAgICAgKiB0ZXJtcyB3aGljaCBhcmUgaW5jbHVkZWQgZnJvbSB0aGUgdGVybWlub2xvZ3kgYmxvY2tsaXN0LlxuICAgICAqL1xuICAgIEZpbmlzaFJlYXNvbltcIkJMT0NLTElTVFwiXSA9IFwiQkxPQ0tMSVNUXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHRva2VuIGdlbmVyYXRpb24gd2FzIHN0b3BwZWQgYXMgdGhlIHJlc3BvbnNlIHdhcyBmbGFnZ2VkIGZvclxuICAgICAqIHRoZSBwcm9oaWJpdGVkIGNvbnRlbnRzLlxuICAgICAqL1xuICAgIEZpbmlzaFJlYXNvbltcIlBST0hJQklURURfQ09OVEVOVFwiXSA9IFwiUFJPSElCSVRFRF9DT05URU5UXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHRva2VuIGdlbmVyYXRpb24gd2FzIHN0b3BwZWQgYXMgdGhlIHJlc3BvbnNlIHdhcyBmbGFnZ2VkIGZvclxuICAgICAqIFNlbnNpdGl2ZSBQZXJzb25hbGx5IElkZW50aWZpYWJsZSBJbmZvcm1hdGlvbiAoU1BJSSkgY29udGVudHMuXG4gICAgICovXG4gICAgRmluaXNoUmVhc29uW1wiU1BJSVwiXSA9IFwiU1BJSVwiO1xufSkoRmluaXNoUmVhc29uIHx8IChleHBvcnRzLkZpbmlzaFJlYXNvbiA9IEZpbmlzaFJlYXNvbiA9IHt9KSk7XG52YXIgTW9kZTtcbihmdW5jdGlvbiAoTW9kZSkge1xuICAgIE1vZGVbXCJNT0RFX1VOU1BFQ0lGSUVEXCJdID0gXCJNT0RFX1VOU1BFQ0lGSUVEXCI7XG4gICAgTW9kZVtcIk1PREVfRFlOQU1JQ1wiXSA9IFwiTU9ERV9EWU5BTUlDXCI7XG59KShNb2RlIHx8IChleHBvcnRzLk1vZGUgPSBNb2RlID0ge30pKTtcbmV4cG9ydHMuRnVuY3Rpb25EZWNsYXJhdGlvblNjaGVtYVR5cGUgPSB7IC4uLmNvbW1vbl8xLlNjaGVtYVR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRlbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/content.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/errors.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IllegalArgumentError = exports.GoogleGenerativeAIError = exports.GoogleAuthError = exports.GoogleApiError = exports.ClientError = void 0;\n/**\n * GoogleAuthError is thrown when there is authentication issue with the request\n */\nclass GoogleAuthError extends Error {\n    constructor(message, stackTrace) {\n        super(message, { cause: stackTrace });\n        this.message = constructErrorMessage('GoogleAuthError', message);\n        this.name = 'GoogleAuthError';\n        this.stackTrace = stackTrace;\n    }\n}\nexports.GoogleAuthError = GoogleAuthError;\n/**\n * ClientError is thrown when http 4XX status is received.\n * For details please refer to https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses\n */\nclass ClientError extends Error {\n    constructor(message, stackTrace) {\n        super(message, { cause: stackTrace });\n        this.message = constructErrorMessage('ClientError', message);\n        this.name = 'ClientError';\n        this.stackTrace = stackTrace;\n    }\n}\nexports.ClientError = ClientError;\n/**\n * GoogleApiError is thrown when http 4XX status is received.\n * See https://cloud.google.com/apis/design/errors\n */\nclass GoogleApiError extends Error {\n    constructor(message, code, status, errorDetails) {\n        super(message);\n        this.code = code;\n        this.status = status;\n        this.errorDetails = errorDetails;\n    }\n}\nexports.GoogleApiError = GoogleApiError;\n/**\n * GoogleGenerativeAIError is thrown when http response is not ok and status code is not 4XX\n * For details please refer to https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\n */\nclass GoogleGenerativeAIError extends Error {\n    constructor(message, stackTrace) {\n        super(message, { cause: stackTrace });\n        this.message = constructErrorMessage('GoogleGenerativeAIError', message);\n        this.name = 'GoogleGenerativeAIError';\n        this.stackTrace = stackTrace;\n    }\n}\nexports.GoogleGenerativeAIError = GoogleGenerativeAIError;\n/**\n * IllegalArgumentError is thrown when the request or operation is invalid\n */\nclass IllegalArgumentError extends Error {\n    constructor(message, stackTrace) {\n        super(message, { cause: stackTrace });\n        this.message = constructErrorMessage('IllegalArgumentError', message);\n        this.name = 'IllegalArgumentError';\n        this.stackTrace = stackTrace;\n    }\n}\nexports.IllegalArgumentError = IllegalArgumentError;\nfunction constructErrorMessage(exceptionClass, message) {\n    return `[VertexAI.${exceptionClass}]: ${message}`;\n}\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNEJBQTRCLEdBQUcsK0JBQStCLEdBQUcsdUJBQXVCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUJBQW1CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFtQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUJBQW1CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtQkFBbUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBLHdCQUF3QixlQUFlLEtBQUssUUFBUTtBQUNwRDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL3R5cGVzL2Vycm9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklsbGVnYWxBcmd1bWVudEVycm9yID0gZXhwb3J0cy5Hb29nbGVHZW5lcmF0aXZlQUlFcnJvciA9IGV4cG9ydHMuR29vZ2xlQXV0aEVycm9yID0gZXhwb3J0cy5Hb29nbGVBcGlFcnJvciA9IGV4cG9ydHMuQ2xpZW50RXJyb3IgPSB2b2lkIDA7XG4vKipcbiAqIEdvb2dsZUF1dGhFcnJvciBpcyB0aHJvd24gd2hlbiB0aGVyZSBpcyBhdXRoZW50aWNhdGlvbiBpc3N1ZSB3aXRoIHRoZSByZXF1ZXN0XG4gKi9cbmNsYXNzIEdvb2dsZUF1dGhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGFja1RyYWNlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHsgY2F1c2U6IHN0YWNrVHJhY2UgfSk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGNvbnN0cnVjdEVycm9yTWVzc2FnZSgnR29vZ2xlQXV0aEVycm9yJywgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdHb29nbGVBdXRoRXJyb3InO1xuICAgICAgICB0aGlzLnN0YWNrVHJhY2UgPSBzdGFja1RyYWNlO1xuICAgIH1cbn1cbmV4cG9ydHMuR29vZ2xlQXV0aEVycm9yID0gR29vZ2xlQXV0aEVycm9yO1xuLyoqXG4gKiBDbGllbnRFcnJvciBpcyB0aHJvd24gd2hlbiBodHRwIDRYWCBzdGF0dXMgaXMgcmVjZWl2ZWQuXG4gKiBGb3IgZGV0YWlscyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9TdGF0dXMjY2xpZW50X2Vycm9yX3Jlc3BvbnNlc1xuICovXG5jbGFzcyBDbGllbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGFja1RyYWNlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHsgY2F1c2U6IHN0YWNrVHJhY2UgfSk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGNvbnN0cnVjdEVycm9yTWVzc2FnZSgnQ2xpZW50RXJyb3InLCBtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0NsaWVudEVycm9yJztcbiAgICAgICAgdGhpcy5zdGFja1RyYWNlID0gc3RhY2tUcmFjZTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudEVycm9yID0gQ2xpZW50RXJyb3I7XG4vKipcbiAqIEdvb2dsZUFwaUVycm9yIGlzIHRocm93biB3aGVuIGh0dHAgNFhYIHN0YXR1cyBpcyByZWNlaXZlZC5cbiAqIFNlZSBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vYXBpcy9kZXNpZ24vZXJyb3JzXG4gKi9cbmNsYXNzIEdvb2dsZUFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNvZGUsIHN0YXR1cywgZXJyb3JEZXRhaWxzKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5lcnJvckRldGFpbHMgPSBlcnJvckRldGFpbHM7XG4gICAgfVxufVxuZXhwb3J0cy5Hb29nbGVBcGlFcnJvciA9IEdvb2dsZUFwaUVycm9yO1xuLyoqXG4gKiBHb29nbGVHZW5lcmF0aXZlQUlFcnJvciBpcyB0aHJvd24gd2hlbiBodHRwIHJlc3BvbnNlIGlzIG5vdCBvayBhbmQgc3RhdHVzIGNvZGUgaXMgbm90IDRYWFxuICogRm9yIGRldGFpbHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvU3RhdHVzXG4gKi9cbmNsYXNzIEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YWNrVHJhY2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgeyBjYXVzZTogc3RhY2tUcmFjZSB9KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gY29uc3RydWN0RXJyb3JNZXNzYWdlKCdHb29nbGVHZW5lcmF0aXZlQUlFcnJvcicsIG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3InO1xuICAgICAgICB0aGlzLnN0YWNrVHJhY2UgPSBzdGFja1RyYWNlO1xuICAgIH1cbn1cbmV4cG9ydHMuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IgPSBHb29nbGVHZW5lcmF0aXZlQUlFcnJvcjtcbi8qKlxuICogSWxsZWdhbEFyZ3VtZW50RXJyb3IgaXMgdGhyb3duIHdoZW4gdGhlIHJlcXVlc3Qgb3Igb3BlcmF0aW9uIGlzIGludmFsaWRcbiAqL1xuY2xhc3MgSWxsZWdhbEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhY2tUcmFjZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB7IGNhdXNlOiBzdGFja1RyYWNlIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBjb25zdHJ1Y3RFcnJvck1lc3NhZ2UoJ0lsbGVnYWxBcmd1bWVudEVycm9yJywgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdJbGxlZ2FsQXJndW1lbnRFcnJvcic7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZSA9IHN0YWNrVHJhY2U7XG4gICAgfVxufVxuZXhwb3J0cy5JbGxlZ2FsQXJndW1lbnRFcnJvciA9IElsbGVnYWxBcmd1bWVudEVycm9yO1xuZnVuY3Rpb24gY29uc3RydWN0RXJyb3JNZXNzYWdlKGV4Y2VwdGlvbkNsYXNzLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGBbVmVydGV4QUkuJHtleGNlcHRpb25DbGFzc31dOiAke21lc3NhZ2V9YDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerateContentResponseHandler = void 0;\n/** Helper class to render any extra properties out of\n * {@link GenerateContentResponse} or properties of {@link GenerateContentResponse}\n */\nclass GenerateContentResponseHandler {\n    /**\n     * Extracts function calls from a {@link GenerateContentCandidate}.\n     *\n     * @param candidate - The candidate to extract function calls from.\n     * @returns the array of function calls in a {@link GenerateContentCandidate}.\n     */\n    static getFunctionCallsFromCandidate(candidate) {\n        if (!candidate)\n            return [];\n        return candidate.content.parts\n            .filter((part) => !!part && !!part.functionCall)\n            .map((part) => part.functionCall);\n    }\n}\nexports.GenerateContentResponseHandler = GenerateContentResponseHandler;\n//# sourceMappingURL=generate_content_response_handler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvZ2VuZXJhdGVfY29udGVudF9yZXNwb25zZV9oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0NBQXNDO0FBQ3RDO0FBQ0EsSUFBSSwrQkFBK0Isa0JBQWtCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywrQkFBK0I7QUFDdEU7QUFDQTtBQUNBLGtEQUFrRCwrQkFBK0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL3R5cGVzL2dlbmVyYXRlX2NvbnRlbnRfcmVzcG9uc2VfaGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlSGFuZGxlciA9IHZvaWQgMDtcbi8qKiBIZWxwZXIgY2xhc3MgdG8gcmVuZGVyIGFueSBleHRyYSBwcm9wZXJ0aWVzIG91dCBvZlxuICoge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlfSBvciBwcm9wZXJ0aWVzIG9mIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZX1cbiAqL1xuY2xhc3MgR2VuZXJhdGVDb250ZW50UmVzcG9uc2VIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBmdW5jdGlvbiBjYWxscyBmcm9tIGEge0BsaW5rIEdlbmVyYXRlQ29udGVudENhbmRpZGF0ZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FuZGlkYXRlIC0gVGhlIGNhbmRpZGF0ZSB0byBleHRyYWN0IGZ1bmN0aW9uIGNhbGxzIGZyb20uXG4gICAgICogQHJldHVybnMgdGhlIGFycmF5IG9mIGZ1bmN0aW9uIGNhbGxzIGluIGEge0BsaW5rIEdlbmVyYXRlQ29udGVudENhbmRpZGF0ZX0uXG4gICAgICovXG4gICAgc3RhdGljIGdldEZ1bmN0aW9uQ2FsbHNGcm9tQ2FuZGlkYXRlKGNhbmRpZGF0ZSkge1xuICAgICAgICBpZiAoIWNhbmRpZGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZS5jb250ZW50LnBhcnRzXG4gICAgICAgICAgICAuZmlsdGVyKChwYXJ0KSA9PiAhIXBhcnQgJiYgISFwYXJ0LmZ1bmN0aW9uQ2FsbClcbiAgICAgICAgICAgIC5tYXAoKHBhcnQpID0+IHBhcnQuZnVuY3Rpb25DYWxsKTtcbiAgICB9XG59XG5leHBvcnRzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlSGFuZGxlciA9IEdlbmVyYXRlQ29udGVudFJlc3BvbnNlSGFuZGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlX2NvbnRlbnRfcmVzcG9uc2VfaGFuZGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerateContentResponseHandler = void 0;\n__exportStar(__webpack_require__(/*! ./content */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/content.js\"), exports);\n__exportStar(__webpack_require__(/*! ./errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\"), exports);\n__exportStar(__webpack_require__(/*! ./tool */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/tool.js\"), exports);\n__exportStar(__webpack_require__(/*! ./common */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/common.js\"), exports);\nvar generate_content_response_handler_1 = __webpack_require__(/*! ./generate_content_response_handler */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js\");\nObject.defineProperty(exports, \"GenerateContentResponseHandler\", ({ enumerable: true, get: function () { return generate_content_response_handler_1.GenerateContentResponseHandler; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQ0FBc0M7QUFDdEMsYUFBYSxtQkFBTyxDQUFDLHlGQUFXO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQyx1RkFBVTtBQUMvQixhQUFhLG1CQUFPLENBQUMsbUZBQVE7QUFDN0IsYUFBYSxtQkFBTyxDQUFDLHVGQUFVO0FBQy9CLDBDQUEwQyxtQkFBTyxDQUFDLDZJQUFxQztBQUN2RixrRUFBaUUsRUFBRSxxQ0FBcUMsOEVBQThFLEVBQUM7QUFDdkwiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlSGFuZGxlciA9IHZvaWQgMDtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb250ZW50XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9lcnJvcnNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3Rvb2xcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbW1vblwiKSwgZXhwb3J0cyk7XG52YXIgZ2VuZXJhdGVfY29udGVudF9yZXNwb25zZV9oYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9nZW5lcmF0ZV9jb250ZW50X3Jlc3BvbnNlX2hhbmRsZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUhhbmRsZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRlX2NvbnRlbnRfcmVzcG9uc2VfaGFuZGxlcl8xLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlSGFuZGxlcjsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/tool.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/tool.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FunctionCallingMode = void 0;\n/** Function calling mode. */\nvar FunctionCallingMode;\n(function (FunctionCallingMode) {\n    /** Unspecified function calling mode. This value should not be used. */\n    FunctionCallingMode[\"MODE_UNSPECIFIED\"] = \"MODE_UNSPECIFIED\";\n    /**\n     * Default model behavior, model decides to predict either function calls\n     * or natural language response.\n     */\n    FunctionCallingMode[\"AUTO\"] = \"AUTO\";\n    /**\n     * Model is constrained to always predicting function calls only.\n     * If \"allowedFunctionNames\" are set, the predicted function calls will be\n     * limited to any one of \"allowedFunctionNames\", else the predicted\n     * function calls will be any one of the provided \"function_declarations\".\n     */\n    FunctionCallingMode[\"ANY\"] = \"ANY\";\n    /**\n     * Model will not predict any function calls. Model behavior is same as when\n     * not passing any function declarations.\n     */\n    FunctionCallingMode[\"NONE\"] = \"NONE\";\n})(FunctionCallingMode || (exports.FunctionCallingMode = FunctionCallingMode = {}));\n//# sourceMappingURL=tool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvdG9vbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCLDJCQUEyQiwyQkFBMkI7QUFDakYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvdG9vbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZ1bmN0aW9uQ2FsbGluZ01vZGUgPSB2b2lkIDA7XG4vKiogRnVuY3Rpb24gY2FsbGluZyBtb2RlLiAqL1xudmFyIEZ1bmN0aW9uQ2FsbGluZ01vZGU7XG4oZnVuY3Rpb24gKEZ1bmN0aW9uQ2FsbGluZ01vZGUpIHtcbiAgICAvKiogVW5zcGVjaWZpZWQgZnVuY3Rpb24gY2FsbGluZyBtb2RlLiBUaGlzIHZhbHVlIHNob3VsZCBub3QgYmUgdXNlZC4gKi9cbiAgICBGdW5jdGlvbkNhbGxpbmdNb2RlW1wiTU9ERV9VTlNQRUNJRklFRFwiXSA9IFwiTU9ERV9VTlNQRUNJRklFRFwiO1xuICAgIC8qKlxuICAgICAqIERlZmF1bHQgbW9kZWwgYmVoYXZpb3IsIG1vZGVsIGRlY2lkZXMgdG8gcHJlZGljdCBlaXRoZXIgZnVuY3Rpb24gY2FsbHNcbiAgICAgKiBvciBuYXR1cmFsIGxhbmd1YWdlIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEZ1bmN0aW9uQ2FsbGluZ01vZGVbXCJBVVRPXCJdID0gXCJBVVRPXCI7XG4gICAgLyoqXG4gICAgICogTW9kZWwgaXMgY29uc3RyYWluZWQgdG8gYWx3YXlzIHByZWRpY3RpbmcgZnVuY3Rpb24gY2FsbHMgb25seS5cbiAgICAgKiBJZiBcImFsbG93ZWRGdW5jdGlvbk5hbWVzXCIgYXJlIHNldCwgdGhlIHByZWRpY3RlZCBmdW5jdGlvbiBjYWxscyB3aWxsIGJlXG4gICAgICogbGltaXRlZCB0byBhbnkgb25lIG9mIFwiYWxsb3dlZEZ1bmN0aW9uTmFtZXNcIiwgZWxzZSB0aGUgcHJlZGljdGVkXG4gICAgICogZnVuY3Rpb24gY2FsbHMgd2lsbCBiZSBhbnkgb25lIG9mIHRoZSBwcm92aWRlZCBcImZ1bmN0aW9uX2RlY2xhcmF0aW9uc1wiLlxuICAgICAqL1xuICAgIEZ1bmN0aW9uQ2FsbGluZ01vZGVbXCJBTllcIl0gPSBcIkFOWVwiO1xuICAgIC8qKlxuICAgICAqIE1vZGVsIHdpbGwgbm90IHByZWRpY3QgYW55IGZ1bmN0aW9uIGNhbGxzLiBNb2RlbCBiZWhhdmlvciBpcyBzYW1lIGFzIHdoZW5cbiAgICAgKiBub3QgcGFzc2luZyBhbnkgZnVuY3Rpb24gZGVjbGFyYXRpb25zLlxuICAgICAqL1xuICAgIEZ1bmN0aW9uQ2FsbGluZ01vZGVbXCJOT05FXCJdID0gXCJOT05FXCI7XG59KShGdW5jdGlvbkNhbGxpbmdNb2RlIHx8IChleHBvcnRzLkZ1bmN0aW9uQ2FsbGluZ01vZGUgPSBGdW5jdGlvbkNhbGxpbmdNb2RlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2wuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/tool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/util/constants.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CREDENTIAL_ERROR_MESSAGE = exports.USER_AGENT = exports.SYSTEM_ROLE = exports.MODEL_ROLE = exports.USER_ROLE = exports.COUNT_TOKENS_METHOD = exports.STREAMING_GENERATE_CONTENT_METHOD = exports.GENERATE_CONTENT_METHOD = void 0;\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexports.GENERATE_CONTENT_METHOD = 'generateContent';\nexports.STREAMING_GENERATE_CONTENT_METHOD = 'streamGenerateContent';\nexports.COUNT_TOKENS_METHOD = 'countTokens';\nexports.USER_ROLE = 'user';\nexports.MODEL_ROLE = 'model';\nexports.SYSTEM_ROLE = 'system';\nconst USER_AGENT_PRODUCT = 'model-builder';\nconst CLIENT_LIBRARY_VERSION = '1.10.0'; // x-release-please-version\nconst CLIENT_LIBRARY_LANGUAGE = `grpc-node/${CLIENT_LIBRARY_VERSION}`;\nexports.USER_AGENT = `${USER_AGENT_PRODUCT}/${CLIENT_LIBRARY_VERSION} ${CLIENT_LIBRARY_LANGUAGE}`;\nexports.CREDENTIAL_ERROR_MESSAGE = '\\nUnable to authenticate your request\\\n        \\nDepending on your run time environment, you can get authentication by\\\n        \\n- if in local instance or cloud shell: `!gcloud auth login`\\\n        \\n- if in Colab:\\\n        \\n    -`from google.colab import auth`\\\n        \\n    -`auth.authenticate_user()`\\\n        \\n- if in service account or other: please follow guidance in https://cloud.google.com/docs/authentication';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdXRpbC9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLEdBQUcsa0JBQWtCLEdBQUcsbUJBQW1CLEdBQUcsa0JBQWtCLEdBQUcsaUJBQWlCLEdBQUcsMkJBQTJCLEdBQUcseUNBQXlDLEdBQUcsK0JBQStCO0FBQ2hPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLHlDQUF5QztBQUN6QywyQkFBMkI7QUFDM0IsaUJBQWlCO0FBQ2pCLGtCQUFrQjtBQUNsQixtQkFBbUI7QUFDbkI7QUFDQSx5Q0FBeUM7QUFDekMsNkNBQTZDLHVCQUF1QjtBQUNwRSxrQkFBa0IsTUFBTSxtQkFBbUIsR0FBRyx3QkFBd0IsRUFBRSx3QkFBd0I7QUFDaEcsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL3V0aWwvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DUkVERU5USUFMX0VSUk9SX01FU1NBR0UgPSBleHBvcnRzLlVTRVJfQUdFTlQgPSBleHBvcnRzLlNZU1RFTV9ST0xFID0gZXhwb3J0cy5NT0RFTF9ST0xFID0gZXhwb3J0cy5VU0VSX1JPTEUgPSBleHBvcnRzLkNPVU5UX1RPS0VOU19NRVRIT0QgPSBleHBvcnRzLlNUUkVBTUlOR19HRU5FUkFURV9DT05URU5UX01FVEhPRCA9IGV4cG9ydHMuR0VORVJBVEVfQ09OVEVOVF9NRVRIT0QgPSB2b2lkIDA7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0cy5HRU5FUkFURV9DT05URU5UX01FVEhPRCA9ICdnZW5lcmF0ZUNvbnRlbnQnO1xuZXhwb3J0cy5TVFJFQU1JTkdfR0VORVJBVEVfQ09OVEVOVF9NRVRIT0QgPSAnc3RyZWFtR2VuZXJhdGVDb250ZW50JztcbmV4cG9ydHMuQ09VTlRfVE9LRU5TX01FVEhPRCA9ICdjb3VudFRva2Vucyc7XG5leHBvcnRzLlVTRVJfUk9MRSA9ICd1c2VyJztcbmV4cG9ydHMuTU9ERUxfUk9MRSA9ICdtb2RlbCc7XG5leHBvcnRzLlNZU1RFTV9ST0xFID0gJ3N5c3RlbSc7XG5jb25zdCBVU0VSX0FHRU5UX1BST0RVQ1QgPSAnbW9kZWwtYnVpbGRlcic7XG5jb25zdCBDTElFTlRfTElCUkFSWV9WRVJTSU9OID0gJzEuMTAuMCc7IC8vIHgtcmVsZWFzZS1wbGVhc2UtdmVyc2lvblxuY29uc3QgQ0xJRU5UX0xJQlJBUllfTEFOR1VBR0UgPSBgZ3JwYy1ub2RlLyR7Q0xJRU5UX0xJQlJBUllfVkVSU0lPTn1gO1xuZXhwb3J0cy5VU0VSX0FHRU5UID0gYCR7VVNFUl9BR0VOVF9QUk9EVUNUfS8ke0NMSUVOVF9MSUJSQVJZX1ZFUlNJT059ICR7Q0xJRU5UX0xJQlJBUllfTEFOR1VBR0V9YDtcbmV4cG9ydHMuQ1JFREVOVElBTF9FUlJPUl9NRVNTQUdFID0gJ1xcblVuYWJsZSB0byBhdXRoZW50aWNhdGUgeW91ciByZXF1ZXN0XFxcbiAgICAgICAgXFxuRGVwZW5kaW5nIG9uIHlvdXIgcnVuIHRpbWUgZW52aXJvbm1lbnQsIHlvdSBjYW4gZ2V0IGF1dGhlbnRpY2F0aW9uIGJ5XFxcbiAgICAgICAgXFxuLSBpZiBpbiBsb2NhbCBpbnN0YW5jZSBvciBjbG91ZCBzaGVsbDogYCFnY2xvdWQgYXV0aCBsb2dpbmBcXFxuICAgICAgICBcXG4tIGlmIGluIENvbGFiOlxcXG4gICAgICAgIFxcbiAgICAtYGZyb20gZ29vZ2xlLmNvbGFiIGltcG9ydCBhdXRoYFxcXG4gICAgICAgIFxcbiAgICAtYGF1dGguYXV0aGVudGljYXRlX3VzZXIoKWBcXFxuICAgICAgICBcXG4tIGlmIGluIHNlcnZpY2UgYWNjb3VudCBvciBvdGhlcjogcGxlYXNlIGZvbGxvdyBndWlkYW5jZSBpbiBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vZG9jcy9hdXRoZW50aWNhdGlvbic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/util/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.constants = void 0;\nexports.constants = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdXRpbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixxSUFBMEM7QUFDMUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdXRpbC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbnN0YW50cyA9IHZvaWQgMDtcbmV4cG9ydHMuY29uc3RhbnRzID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VertexAI = void 0;\n/* tslint:disable */\nconst google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(rsc)/./node_modules/google-auth-library/build/src/index.js\");\nconst models_1 = __webpack_require__(/*! ./models */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js\");\nconst errors_1 = __webpack_require__(/*! ./types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst Resources = __webpack_require__(/*! ./resources */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/index.js\");\nconst cached_contents_1 = __webpack_require__(/*! ./resources/cached_contents */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/resources/cached_contents.js\");\n/**\n * The `VertexAI` class is the base class for authenticating to Vertex AI.\n * To use Vertex AI's generative AI models, use the `getGenerativeModel` method.\n * To use generative AI features that are in Preview, use the `preview`\n * namespace.\n */\nclass VertexAI {\n    /**\n     * @constructor\n     * @param init - assign authentication related information,\n     *     including the project and location strings, to instantiate a Vertex AI\n     * client.\n     * @throws {IllegalArgumentError}\n  \n     */\n    constructor(init) {\n        const opts = validateGoogleAuthOptions(init.project, init.googleAuthOptions);\n        this.location = resolveLocation(init.location);\n        this.project = resolveProject(init.project);\n        this.googleAuth = new google_auth_library_1.GoogleAuth(opts);\n        this.apiEndpoint = init.apiEndpoint;\n        this.preview = new VertexAIPreview(this.project, this.location, this.googleAuth, this.apiEndpoint);\n    }\n    /**\n     * Gets the GenerativeModel class instance.\n     *\n     * This method creates a new instance of the `GenerativeModel` class with the\n     * platform initialization parameters provided in {@link VertexInit} and model\n     * initialization parameters provided in {@link ModelParams}. You can\n     * optionally provide {@link RequestOptions} to override the default request\n     * options.\n     *\n     * @example\n     * ```\n     * const project = 'your-cloud-project';\n     * const location = 'us-central1';\n     * const textModel =  'gemini-1.0-pro';\n     * const visionModel = 'gemini-1.0-pro-vision';\n     *\n     * const vertexAI = new VertexAI({project: project, location: location});\n     *\n     * // Instantiate models\n     * const generativeModel = vertexAI.getGenerativeModel({\n     *   model: textModel,\n     *   // The following parameters are optional\n     *   // They can also be passed to individual content generation requests\n     *   safetySettings: [{\n     *                      category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n     *                      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n     *                     }],\n     *   generationConfig: {maxOutputTokens: 256},\n     * });\n     *\n     * const generativeVisionModel = vertexAI.getGenerativeModel({\n     *   model: visionModel,\n     * });\n     *\n     * const generativeModelPreview = vertexAI.preview.getGenerativeModel({\n     *   model: textModel,\n     * });\n     * ```\n     *\n     * @param modelParams - {@link ModelParams} Parameters to\n     *     specify the generative model.\n     * @param requestOptions - {@link RequestOptions} Parameters to specify\n     *     request options\n     * @returns Instance of the GenerativeModel class.\n     */\n    getGenerativeModel(modelParams, requestOptions) {\n        const getGenerativeModelParams = {\n            model: modelParams.model,\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            apiEndpoint: this.apiEndpoint,\n            safetySettings: modelParams.safetySettings,\n            generationConfig: modelParams.generationConfig,\n            tools: modelParams.tools,\n            toolConfig: modelParams.toolConfig,\n            requestOptions: requestOptions,\n            systemInstruction: modelParams.systemInstruction,\n        };\n        return new models_1.GenerativeModel(getGenerativeModelParams);\n    }\n    getProject() {\n        return this.project;\n    }\n    getLocation() {\n        return this.location;\n    }\n}\nexports.VertexAI = VertexAI;\n/**\n * The preview namespace for VertexAI. Users invoke the `getGenerativeModel`\n * method to start using generative AI features that are in preview.\n */\nclass VertexAIPreview {\n    /**\n     * @constructor\n     * @param project - The Google Cloud project to use for the request\n     * @param location - location The Google Cloud project location to use for the\n     *     request\n     * @param googleAuth - The GoogleAuthen class instance from\n     *     google-auth-library.\n     *        Complete list of authentication options is documented in the\n     * GoogleAuthOptions interface:\n     *        https://github.com/googleapis/google-auth-library-nodejs/blob/main/src/auth/googleauth.ts\n     * @param apiEndpoint - [apiEndpoint] The base Vertex AI endpoint to use for\n     *     the request. If\n     *        not provided, the default regionalized endpoint\n     *        (i.e. us-central1-aiplatform.googleapis.com) will be used.\n     */\n    constructor(project, location, googleAuth, apiEndpoint) {\n        this.project = project;\n        this.location = location;\n        this.googleAuth = googleAuth;\n        this.apiEndpoint = apiEndpoint;\n        this.apiClient = new Resources.ApiClient(this.project, this.location, 'v1beta1', this.googleAuth);\n        this.cachedContents = new Resources.CachedContents(this.apiClient);\n    }\n    /**\n     * @param modelParams - {@link ModelParams} Parameters to\n     *     specify the generative model.\n     * @returns Instance of the GenerativeModelPreview class.\n     */\n    getGenerativeModel(modelParams, requestOptions) {\n        const getGenerativeModelParams = {\n            model: modelParams.model,\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            apiEndpoint: this.apiEndpoint,\n            safetySettings: modelParams.safetySettings,\n            generationConfig: modelParams.generationConfig,\n            tools: modelParams.tools,\n            toolConfig: modelParams.toolConfig,\n            requestOptions: requestOptions,\n            systemInstruction: modelParams.systemInstruction,\n        };\n        return new models_1.GenerativeModelPreview(getGenerativeModelParams);\n    }\n    getGenerativeModelFromCachedContent(cachedContent, modelParams, requestOptions) {\n        if (!cachedContent.name) {\n            throw new errors_1.ClientError('Cached content must contain a `name` field.');\n        }\n        if (!cachedContent.model) {\n            throw new errors_1.ClientError('Cached content must contain a `model` field.');\n        }\n        validateCachedContentModel(cachedContent.model);\n        /**\n         * Not checking tools and toolConfig for now as it would require a deep\n         * equality comparison and isn't likely to be a common case.\n         */\n        const disallowedDuplicates = ['model', 'systemInstruction'];\n        for (const key of disallowedDuplicates) {\n            if ((modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) &&\n                cachedContent[key] &&\n                (modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) !== cachedContent[key]) {\n                if (key === 'model') {\n                    const modelParamsComp = parseModelName(modelParams[key]);\n                    const cachedContentComp = parseModelName(cachedContent[key]);\n                    if (modelParamsComp === cachedContentComp) {\n                        continue;\n                    }\n                }\n                throw new errors_1.ClientError(`Different value for \"${key}\" specified in modelParams` +\n                    ` (${modelParams[key]}) and cachedContent (${cachedContent[key]})`);\n            }\n        }\n        cachedContent.name = (0, cached_contents_1.inferFullResourceName)(this.project, this.location, cachedContent.name);\n        const modelParamsFromCache = {\n            model: cachedContent.model,\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            apiEndpoint: this.apiEndpoint,\n            safetySettings: modelParams === null || modelParams === void 0 ? void 0 : modelParams.safetySettings,\n            generationConfig: modelParams === null || modelParams === void 0 ? void 0 : modelParams.generationConfig,\n            tools: cachedContent.tools,\n            toolConfig: cachedContent.toolConfig,\n            requestOptions: requestOptions,\n            systemInstruction: cachedContent.systemInstruction,\n            cachedContent,\n        };\n        return new models_1.GenerativeModelPreview(modelParamsFromCache);\n    }\n}\nfunction validateCachedContentModel(modelName) {\n    if (modelName.startsWith('models/') ||\n        (modelName.startsWith('projects/') &&\n            modelName.includes('/publishers/google/models/')) ||\n        !modelName.includes('/')) {\n        return;\n    }\n    throw new errors_1.ClientError(`Cached content model name must start with \"models/\" or match \"projects/.*/publishers/google/models/.*\" or is a model name listed at https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions. Received: ${modelName}`);\n}\nfunction parseModelName(modelName) {\n    if (!modelName.includes('/')) {\n        return modelName;\n    }\n    return modelName.split('/').pop();\n}\nfunction validateGoogleAuthOptions(project, googleAuthOptions) {\n    let opts;\n    const requiredScope = 'https://www.googleapis.com/auth/cloud-platform';\n    if (!googleAuthOptions) {\n        opts = {\n            scopes: requiredScope,\n        };\n        return opts;\n    }\n    if (googleAuthOptions.projectId && googleAuthOptions.projectId !== project) {\n        throw new Error(`inconsistent project ID values. argument project got value ${project} but googleAuthOptions.projectId got value ${googleAuthOptions.projectId}`);\n    }\n    opts = googleAuthOptions;\n    if (!opts.scopes) {\n        opts.scopes = requiredScope;\n        return opts;\n    }\n    if ((typeof opts.scopes === 'string' && opts.scopes !== requiredScope) ||\n        (Array.isArray(opts.scopes) && opts.scopes.indexOf(requiredScope) < 0)) {\n        throw new errors_1.GoogleAuthError(`input GoogleAuthOptions.scopes ${opts.scopes} doesn't contain required scope ${requiredScope}, please include ${requiredScope} into GoogleAuthOptions.scopes or leave GoogleAuthOptions.scopes undefined`);\n    }\n    return opts;\n}\nfunction resolveProject(projectFromInput) {\n    const projectNotFoundErrorMessage = 'Unable to infer your project.' +\n        'Please provide a project Id by one of the following:' +\n        '\\n- Passing a constructor argument by using new VertexAI({project: my-project})' +\n        '\\n- Setting project using `gcloud config set project my-project`';\n    if (projectFromInput) {\n        return projectFromInput;\n    }\n    const inferredProjectFromEnv = process.env['GOOGLE_CLOUD_PROJECT'];\n    if (inferredProjectFromEnv) {\n        return inferredProjectFromEnv;\n    }\n    throw new errors_1.IllegalArgumentError(projectNotFoundErrorMessage);\n}\nfunction resolveLocation(locationFromInput) {\n    if (locationFromInput) {\n        return locationFromInput;\n    }\n    const inferredLocation = process.env['GOOGLE_CLOUD_REGION'] || process.env['CLOUD_ML_REGION'];\n    if (inferredLocation) {\n        return inferredLocation;\n    }\n    return 'us-central1';\n}\n//# sourceMappingURL=vertex_ai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdmVydGV4X2FpLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCO0FBQ0EsOEJBQThCLG1CQUFPLENBQUMsd0ZBQXFCO0FBQzNELGlCQUFpQixtQkFBTyxDQUFDLHVGQUFVO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLDZGQUFnQjtBQUN6QyxrQkFBa0IsbUJBQU8sQ0FBQyw2RkFBYTtBQUN2QywwQkFBMEIsbUJBQU8sQ0FBQyx1SEFBNkI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsa0JBQWtCO0FBQ3pFLDhDQUE4QyxrQkFBa0I7QUFDaEUsMkJBQTJCLHNCQUFzQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUNBQXFDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1Qiw0QkFBNEIscUJBQXFCO0FBQ2pELFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ0EsZ0NBQWdDLHNCQUFzQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLElBQUk7QUFDM0UseUJBQXlCLGlCQUFpQix1QkFBdUIsbUJBQW1CO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdRQUFnUSxVQUFVO0FBQzFRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsU0FBUyw0Q0FBNEMsNEJBQTRCO0FBQ3ZLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsYUFBYSxpQ0FBaUMsY0FBYyxtQkFBbUIsZUFBZTtBQUMzSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsb0JBQW9CO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy92ZXJ0ZXhfYWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WZXJ0ZXhBSSA9IHZvaWQgMDtcbi8qIHRzbGludDpkaXNhYmxlICovXG5jb25zdCBnb29nbGVfYXV0aF9saWJyYXJ5XzEgPSByZXF1aXJlKFwiZ29vZ2xlLWF1dGgtbGlicmFyeVwiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4vbW9kZWxzXCIpO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi90eXBlcy9lcnJvcnNcIik7XG5jb25zdCBSZXNvdXJjZXMgPSByZXF1aXJlKFwiLi9yZXNvdXJjZXNcIik7XG5jb25zdCBjYWNoZWRfY29udGVudHNfMSA9IHJlcXVpcmUoXCIuL3Jlc291cmNlcy9jYWNoZWRfY29udGVudHNcIik7XG4vKipcbiAqIFRoZSBgVmVydGV4QUlgIGNsYXNzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBhdXRoZW50aWNhdGluZyB0byBWZXJ0ZXggQUkuXG4gKiBUbyB1c2UgVmVydGV4IEFJJ3MgZ2VuZXJhdGl2ZSBBSSBtb2RlbHMsIHVzZSB0aGUgYGdldEdlbmVyYXRpdmVNb2RlbGAgbWV0aG9kLlxuICogVG8gdXNlIGdlbmVyYXRpdmUgQUkgZmVhdHVyZXMgdGhhdCBhcmUgaW4gUHJldmlldywgdXNlIHRoZSBgcHJldmlld2BcbiAqIG5hbWVzcGFjZS5cbiAqL1xuY2xhc3MgVmVydGV4QUkge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBpbml0IC0gYXNzaWduIGF1dGhlbnRpY2F0aW9uIHJlbGF0ZWQgaW5mb3JtYXRpb24sXG4gICAgICogICAgIGluY2x1ZGluZyB0aGUgcHJvamVjdCBhbmQgbG9jYXRpb24gc3RyaW5ncywgdG8gaW5zdGFudGlhdGUgYSBWZXJ0ZXggQUlcbiAgICAgKiBjbGllbnQuXG4gICAgICogQHRocm93cyB7SWxsZWdhbEFyZ3VtZW50RXJyb3J9XG4gIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGluaXQpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHZhbGlkYXRlR29vZ2xlQXV0aE9wdGlvbnMoaW5pdC5wcm9qZWN0LCBpbml0Lmdvb2dsZUF1dGhPcHRpb25zKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHJlc29sdmVMb2NhdGlvbihpbml0LmxvY2F0aW9uKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcmVzb2x2ZVByb2plY3QoaW5pdC5wcm9qZWN0KTtcbiAgICAgICAgdGhpcy5nb29nbGVBdXRoID0gbmV3IGdvb2dsZV9hdXRoX2xpYnJhcnlfMS5Hb29nbGVBdXRoKG9wdHMpO1xuICAgICAgICB0aGlzLmFwaUVuZHBvaW50ID0gaW5pdC5hcGlFbmRwb2ludDtcbiAgICAgICAgdGhpcy5wcmV2aWV3ID0gbmV3IFZlcnRleEFJUHJldmlldyh0aGlzLnByb2plY3QsIHRoaXMubG9jYXRpb24sIHRoaXMuZ29vZ2xlQXV0aCwgdGhpcy5hcGlFbmRwb2ludCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEdlbmVyYXRpdmVNb2RlbCBjbGFzcyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGBHZW5lcmF0aXZlTW9kZWxgIGNsYXNzIHdpdGggdGhlXG4gICAgICogcGxhdGZvcm0gaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBwcm92aWRlZCBpbiB7QGxpbmsgVmVydGV4SW5pdH0gYW5kIG1vZGVsXG4gICAgICogaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBwcm92aWRlZCBpbiB7QGxpbmsgTW9kZWxQYXJhbXN9LiBZb3UgY2FuXG4gICAgICogb3B0aW9uYWxseSBwcm92aWRlIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgcmVxdWVzdFxuICAgICAqIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHByb2plY3QgPSAneW91ci1jbG91ZC1wcm9qZWN0JztcbiAgICAgKiBjb25zdCBsb2NhdGlvbiA9ICd1cy1jZW50cmFsMSc7XG4gICAgICogY29uc3QgdGV4dE1vZGVsID0gICdnZW1pbmktMS4wLXBybyc7XG4gICAgICogY29uc3QgdmlzaW9uTW9kZWwgPSAnZ2VtaW5pLTEuMC1wcm8tdmlzaW9uJztcbiAgICAgKlxuICAgICAqIGNvbnN0IHZlcnRleEFJID0gbmV3IFZlcnRleEFJKHtwcm9qZWN0OiBwcm9qZWN0LCBsb2NhdGlvbjogbG9jYXRpb259KTtcbiAgICAgKlxuICAgICAqIC8vIEluc3RhbnRpYXRlIG1vZGVsc1xuICAgICAqIGNvbnN0IGdlbmVyYXRpdmVNb2RlbCA9IHZlcnRleEFJLmdldEdlbmVyYXRpdmVNb2RlbCh7XG4gICAgICogICBtb2RlbDogdGV4dE1vZGVsLFxuICAgICAqICAgLy8gVGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzIGFyZSBvcHRpb25hbFxuICAgICAqICAgLy8gVGhleSBjYW4gYWxzbyBiZSBwYXNzZWQgdG8gaW5kaXZpZHVhbCBjb250ZW50IGdlbmVyYXRpb24gcmVxdWVzdHNcbiAgICAgKiAgIHNhZmV0eVNldHRpbmdzOiBbe1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBIYXJtQ2F0ZWdvcnkuSEFSTV9DQVRFR09SWV9EQU5HRVJPVVNfQ09OVEVOVCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IEhhcm1CbG9ja1RocmVzaG9sZC5CTE9DS19NRURJVU1fQU5EX0FCT1ZFXG4gICAgICogICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgKiAgIGdlbmVyYXRpb25Db25maWc6IHttYXhPdXRwdXRUb2tlbnM6IDI1Nn0sXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCBnZW5lcmF0aXZlVmlzaW9uTW9kZWwgPSB2ZXJ0ZXhBSS5nZXRHZW5lcmF0aXZlTW9kZWwoe1xuICAgICAqICAgbW9kZWw6IHZpc2lvbk1vZGVsLFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc3QgZ2VuZXJhdGl2ZU1vZGVsUHJldmlldyA9IHZlcnRleEFJLnByZXZpZXcuZ2V0R2VuZXJhdGl2ZU1vZGVsKHtcbiAgICAgKiAgIG1vZGVsOiB0ZXh0TW9kZWwsXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbW9kZWxQYXJhbXMgLSB7QGxpbmsgTW9kZWxQYXJhbXN9IFBhcmFtZXRlcnMgdG9cbiAgICAgKiAgICAgc3BlY2lmeSB0aGUgZ2VuZXJhdGl2ZSBtb2RlbC5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdE9wdGlvbnMgLSB7QGxpbmsgUmVxdWVzdE9wdGlvbnN9IFBhcmFtZXRlcnMgdG8gc3BlY2lmeVxuICAgICAqICAgICByZXF1ZXN0IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBJbnN0YW5jZSBvZiB0aGUgR2VuZXJhdGl2ZU1vZGVsIGNsYXNzLlxuICAgICAqL1xuICAgIGdldEdlbmVyYXRpdmVNb2RlbChtb2RlbFBhcmFtcywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zID0ge1xuICAgICAgICAgICAgbW9kZWw6IG1vZGVsUGFyYW1zLm1vZGVsLFxuICAgICAgICAgICAgcHJvamVjdDogdGhpcy5wcm9qZWN0LFxuICAgICAgICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICBnb29nbGVBdXRoOiB0aGlzLmdvb2dsZUF1dGgsXG4gICAgICAgICAgICBhcGlFbmRwb2ludDogdGhpcy5hcGlFbmRwb2ludCxcbiAgICAgICAgICAgIHNhZmV0eVNldHRpbmdzOiBtb2RlbFBhcmFtcy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IG1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogbW9kZWxQYXJhbXMudG9vbHMsXG4gICAgICAgICAgICB0b29sQ29uZmlnOiBtb2RlbFBhcmFtcy50b29sQ29uZmlnLFxuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnM6IHJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IG1vZGVsUGFyYW1zLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IG1vZGVsc18xLkdlbmVyYXRpdmVNb2RlbChnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMpO1xuICAgIH1cbiAgICBnZXRQcm9qZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0O1xuICAgIH1cbiAgICBnZXRMb2NhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb247XG4gICAgfVxufVxuZXhwb3J0cy5WZXJ0ZXhBSSA9IFZlcnRleEFJO1xuLyoqXG4gKiBUaGUgcHJldmlldyBuYW1lc3BhY2UgZm9yIFZlcnRleEFJLiBVc2VycyBpbnZva2UgdGhlIGBnZXRHZW5lcmF0aXZlTW9kZWxgXG4gKiBtZXRob2QgdG8gc3RhcnQgdXNpbmcgZ2VuZXJhdGl2ZSBBSSBmZWF0dXJlcyB0aGF0IGFyZSBpbiBwcmV2aWV3LlxuICovXG5jbGFzcyBWZXJ0ZXhBSVByZXZpZXcge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBwcm9qZWN0IC0gVGhlIEdvb2dsZSBDbG91ZCBwcm9qZWN0IHRvIHVzZSBmb3IgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gbG9jYXRpb24gLSBsb2NhdGlvbiBUaGUgR29vZ2xlIENsb3VkIHByb2plY3QgbG9jYXRpb24gdG8gdXNlIGZvciB0aGVcbiAgICAgKiAgICAgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBnb29nbGVBdXRoIC0gVGhlIEdvb2dsZUF1dGhlbiBjbGFzcyBpbnN0YW5jZSBmcm9tXG4gICAgICogICAgIGdvb2dsZS1hdXRoLWxpYnJhcnkuXG4gICAgICogICAgICAgIENvbXBsZXRlIGxpc3Qgb2YgYXV0aGVudGljYXRpb24gb3B0aW9ucyBpcyBkb2N1bWVudGVkIGluIHRoZVxuICAgICAqIEdvb2dsZUF1dGhPcHRpb25zIGludGVyZmFjZTpcbiAgICAgKiAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ29vZ2xlLWF1dGgtbGlicmFyeS1ub2RlanMvYmxvYi9tYWluL3NyYy9hdXRoL2dvb2dsZWF1dGgudHNcbiAgICAgKiBAcGFyYW0gYXBpRW5kcG9pbnQgLSBbYXBpRW5kcG9pbnRdIFRoZSBiYXNlIFZlcnRleCBBSSBlbmRwb2ludCB0byB1c2UgZm9yXG4gICAgICogICAgIHRoZSByZXF1ZXN0LiBJZlxuICAgICAqICAgICAgICBub3QgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IHJlZ2lvbmFsaXplZCBlbmRwb2ludFxuICAgICAqICAgICAgICAoaS5lLiB1cy1jZW50cmFsMS1haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tKSB3aWxsIGJlIHVzZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvamVjdCwgbG9jYXRpb24sIGdvb2dsZUF1dGgsIGFwaUVuZHBvaW50KSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5nb29nbGVBdXRoID0gZ29vZ2xlQXV0aDtcbiAgICAgICAgdGhpcy5hcGlFbmRwb2ludCA9IGFwaUVuZHBvaW50O1xuICAgICAgICB0aGlzLmFwaUNsaWVudCA9IG5ldyBSZXNvdXJjZXMuQXBpQ2xpZW50KHRoaXMucHJvamVjdCwgdGhpcy5sb2NhdGlvbiwgJ3YxYmV0YTEnLCB0aGlzLmdvb2dsZUF1dGgpO1xuICAgICAgICB0aGlzLmNhY2hlZENvbnRlbnRzID0gbmV3IFJlc291cmNlcy5DYWNoZWRDb250ZW50cyh0aGlzLmFwaUNsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtb2RlbFBhcmFtcyAtIHtAbGluayBNb2RlbFBhcmFtc30gUGFyYW1ldGVycyB0b1xuICAgICAqICAgICBzcGVjaWZ5IHRoZSBnZW5lcmF0aXZlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEluc3RhbmNlIG9mIHRoZSBHZW5lcmF0aXZlTW9kZWxQcmV2aWV3IGNsYXNzLlxuICAgICAqL1xuICAgIGdldEdlbmVyYXRpdmVNb2RlbChtb2RlbFBhcmFtcywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zID0ge1xuICAgICAgICAgICAgbW9kZWw6IG1vZGVsUGFyYW1zLm1vZGVsLFxuICAgICAgICAgICAgcHJvamVjdDogdGhpcy5wcm9qZWN0LFxuICAgICAgICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICBnb29nbGVBdXRoOiB0aGlzLmdvb2dsZUF1dGgsXG4gICAgICAgICAgICBhcGlFbmRwb2ludDogdGhpcy5hcGlFbmRwb2ludCxcbiAgICAgICAgICAgIHNhZmV0eVNldHRpbmdzOiBtb2RlbFBhcmFtcy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IG1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogbW9kZWxQYXJhbXMudG9vbHMsXG4gICAgICAgICAgICB0b29sQ29uZmlnOiBtb2RlbFBhcmFtcy50b29sQ29uZmlnLFxuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnM6IHJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IG1vZGVsUGFyYW1zLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IG1vZGVsc18xLkdlbmVyYXRpdmVNb2RlbFByZXZpZXcoZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zKTtcbiAgICB9XG4gICAgZ2V0R2VuZXJhdGl2ZU1vZGVsRnJvbUNhY2hlZENvbnRlbnQoY2FjaGVkQ29udGVudCwgbW9kZWxQYXJhbXMsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIGlmICghY2FjaGVkQ29udGVudC5uYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuQ2xpZW50RXJyb3IoJ0NhY2hlZCBjb250ZW50IG11c3QgY29udGFpbiBhIGBuYW1lYCBmaWVsZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhY2hlZENvbnRlbnQubW9kZWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5DbGllbnRFcnJvcignQ2FjaGVkIGNvbnRlbnQgbXVzdCBjb250YWluIGEgYG1vZGVsYCBmaWVsZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZUNhY2hlZENvbnRlbnRNb2RlbChjYWNoZWRDb250ZW50Lm1vZGVsKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdCBjaGVja2luZyB0b29scyBhbmQgdG9vbENvbmZpZyBmb3Igbm93IGFzIGl0IHdvdWxkIHJlcXVpcmUgYSBkZWVwXG4gICAgICAgICAqIGVxdWFsaXR5IGNvbXBhcmlzb24gYW5kIGlzbid0IGxpa2VseSB0byBiZSBhIGNvbW1vbiBjYXNlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZGlzYWxsb3dlZER1cGxpY2F0ZXMgPSBbJ21vZGVsJywgJ3N5c3RlbUluc3RydWN0aW9uJ107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGRpc2FsbG93ZWREdXBsaWNhdGVzKSB7XG4gICAgICAgICAgICBpZiAoKG1vZGVsUGFyYW1zID09PSBudWxsIHx8IG1vZGVsUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RlbFBhcmFtc1trZXldKSAmJlxuICAgICAgICAgICAgICAgIGNhY2hlZENvbnRlbnRba2V5XSAmJlxuICAgICAgICAgICAgICAgIChtb2RlbFBhcmFtcyA9PT0gbnVsbCB8fCBtb2RlbFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kZWxQYXJhbXNba2V5XSkgIT09IGNhY2hlZENvbnRlbnRba2V5XSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdtb2RlbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxQYXJhbXNDb21wID0gcGFyc2VNb2RlbE5hbWUobW9kZWxQYXJhbXNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZENvbnRlbnRDb21wID0gcGFyc2VNb2RlbE5hbWUoY2FjaGVkQ29udGVudFtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsUGFyYW1zQ29tcCA9PT0gY2FjaGVkQ29udGVudENvbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5DbGllbnRFcnJvcihgRGlmZmVyZW50IHZhbHVlIGZvciBcIiR7a2V5fVwiIHNwZWNpZmllZCBpbiBtb2RlbFBhcmFtc2AgK1xuICAgICAgICAgICAgICAgICAgICBgICgke21vZGVsUGFyYW1zW2tleV19KSBhbmQgY2FjaGVkQ29udGVudCAoJHtjYWNoZWRDb250ZW50W2tleV19KWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhY2hlZENvbnRlbnQubmFtZSA9ICgwLCBjYWNoZWRfY29udGVudHNfMS5pbmZlckZ1bGxSZXNvdXJjZU5hbWUpKHRoaXMucHJvamVjdCwgdGhpcy5sb2NhdGlvbiwgY2FjaGVkQ29udGVudC5uYW1lKTtcbiAgICAgICAgY29uc3QgbW9kZWxQYXJhbXNGcm9tQ2FjaGUgPSB7XG4gICAgICAgICAgICBtb2RlbDogY2FjaGVkQ29udGVudC5tb2RlbCxcbiAgICAgICAgICAgIHByb2plY3Q6IHRoaXMucHJvamVjdCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLmxvY2F0aW9uLFxuICAgICAgICAgICAgZ29vZ2xlQXV0aDogdGhpcy5nb29nbGVBdXRoLFxuICAgICAgICAgICAgYXBpRW5kcG9pbnQ6IHRoaXMuYXBpRW5kcG9pbnQsXG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogbW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zLnNhZmV0eVNldHRpbmdzLFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogbW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogY2FjaGVkQ29udGVudC50b29scyxcbiAgICAgICAgICAgIHRvb2xDb25maWc6IGNhY2hlZENvbnRlbnQudG9vbENvbmZpZyxcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zOiByZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiBjYWNoZWRDb250ZW50LnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICAgICAgY2FjaGVkQ29udGVudCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBtb2RlbHNfMS5HZW5lcmF0aXZlTW9kZWxQcmV2aWV3KG1vZGVsUGFyYW1zRnJvbUNhY2hlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUNhY2hlZENvbnRlbnRNb2RlbChtb2RlbE5hbWUpIHtcbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoJ21vZGVscy8nKSB8fFxuICAgICAgICAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoJ3Byb2plY3RzLycpICYmXG4gICAgICAgICAgICBtb2RlbE5hbWUuaW5jbHVkZXMoJy9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvJykpIHx8XG4gICAgICAgICFtb2RlbE5hbWUuaW5jbHVkZXMoJy8nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93IG5ldyBlcnJvcnNfMS5DbGllbnRFcnJvcihgQ2FjaGVkIGNvbnRlbnQgbW9kZWwgbmFtZSBtdXN0IHN0YXJ0IHdpdGggXCJtb2RlbHMvXCIgb3IgbWF0Y2ggXCJwcm9qZWN0cy8uKi9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvLipcIiBvciBpcyBhIG1vZGVsIG5hbWUgbGlzdGVkIGF0IGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVsLXZlcnNpb25zLiBSZWNlaXZlZDogJHttb2RlbE5hbWV9YCk7XG59XG5mdW5jdGlvbiBwYXJzZU1vZGVsTmFtZShtb2RlbE5hbWUpIHtcbiAgICBpZiAoIW1vZGVsTmFtZS5pbmNsdWRlcygnLycpKSB7XG4gICAgICAgIHJldHVybiBtb2RlbE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbE5hbWUuc3BsaXQoJy8nKS5wb3AoKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlR29vZ2xlQXV0aE9wdGlvbnMocHJvamVjdCwgZ29vZ2xlQXV0aE9wdGlvbnMpIHtcbiAgICBsZXQgb3B0cztcbiAgICBjb25zdCByZXF1aXJlZFNjb3BlID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvY2xvdWQtcGxhdGZvcm0nO1xuICAgIGlmICghZ29vZ2xlQXV0aE9wdGlvbnMpIHtcbiAgICAgICAgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjb3BlczogcmVxdWlyZWRTY29wZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfVxuICAgIGlmIChnb29nbGVBdXRoT3B0aW9ucy5wcm9qZWN0SWQgJiYgZ29vZ2xlQXV0aE9wdGlvbnMucHJvamVjdElkICE9PSBwcm9qZWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaW5jb25zaXN0ZW50IHByb2plY3QgSUQgdmFsdWVzLiBhcmd1bWVudCBwcm9qZWN0IGdvdCB2YWx1ZSAke3Byb2plY3R9IGJ1dCBnb29nbGVBdXRoT3B0aW9ucy5wcm9qZWN0SWQgZ290IHZhbHVlICR7Z29vZ2xlQXV0aE9wdGlvbnMucHJvamVjdElkfWApO1xuICAgIH1cbiAgICBvcHRzID0gZ29vZ2xlQXV0aE9wdGlvbnM7XG4gICAgaWYgKCFvcHRzLnNjb3Blcykge1xuICAgICAgICBvcHRzLnNjb3BlcyA9IHJlcXVpcmVkU2NvcGU7XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIH1cbiAgICBpZiAoKHR5cGVvZiBvcHRzLnNjb3BlcyA9PT0gJ3N0cmluZycgJiYgb3B0cy5zY29wZXMgIT09IHJlcXVpcmVkU2NvcGUpIHx8XG4gICAgICAgIChBcnJheS5pc0FycmF5KG9wdHMuc2NvcGVzKSAmJiBvcHRzLnNjb3Blcy5pbmRleE9mKHJlcXVpcmVkU2NvcGUpIDwgMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUF1dGhFcnJvcihgaW5wdXQgR29vZ2xlQXV0aE9wdGlvbnMuc2NvcGVzICR7b3B0cy5zY29wZXN9IGRvZXNuJ3QgY29udGFpbiByZXF1aXJlZCBzY29wZSAke3JlcXVpcmVkU2NvcGV9LCBwbGVhc2UgaW5jbHVkZSAke3JlcXVpcmVkU2NvcGV9IGludG8gR29vZ2xlQXV0aE9wdGlvbnMuc2NvcGVzIG9yIGxlYXZlIEdvb2dsZUF1dGhPcHRpb25zLnNjb3BlcyB1bmRlZmluZWRgKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdHM7XG59XG5mdW5jdGlvbiByZXNvbHZlUHJvamVjdChwcm9qZWN0RnJvbUlucHV0KSB7XG4gICAgY29uc3QgcHJvamVjdE5vdEZvdW5kRXJyb3JNZXNzYWdlID0gJ1VuYWJsZSB0byBpbmZlciB5b3VyIHByb2plY3QuJyArXG4gICAgICAgICdQbGVhc2UgcHJvdmlkZSBhIHByb2plY3QgSWQgYnkgb25lIG9mIHRoZSBmb2xsb3dpbmc6JyArXG4gICAgICAgICdcXG4tIFBhc3NpbmcgYSBjb25zdHJ1Y3RvciBhcmd1bWVudCBieSB1c2luZyBuZXcgVmVydGV4QUkoe3Byb2plY3Q6IG15LXByb2plY3R9KScgK1xuICAgICAgICAnXFxuLSBTZXR0aW5nIHByb2plY3QgdXNpbmcgYGdjbG91ZCBjb25maWcgc2V0IHByb2plY3QgbXktcHJvamVjdGAnO1xuICAgIGlmIChwcm9qZWN0RnJvbUlucHV0KSB7XG4gICAgICAgIHJldHVybiBwcm9qZWN0RnJvbUlucHV0O1xuICAgIH1cbiAgICBjb25zdCBpbmZlcnJlZFByb2plY3RGcm9tRW52ID0gcHJvY2Vzcy5lbnZbJ0dPT0dMRV9DTE9VRF9QUk9KRUNUJ107XG4gICAgaWYgKGluZmVycmVkUHJvamVjdEZyb21FbnYpIHtcbiAgICAgICAgcmV0dXJuIGluZmVycmVkUHJvamVjdEZyb21FbnY7XG4gICAgfVxuICAgIHRocm93IG5ldyBlcnJvcnNfMS5JbGxlZ2FsQXJndW1lbnRFcnJvcihwcm9qZWN0Tm90Rm91bmRFcnJvck1lc3NhZ2UpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUxvY2F0aW9uKGxvY2F0aW9uRnJvbUlucHV0KSB7XG4gICAgaWYgKGxvY2F0aW9uRnJvbUlucHV0KSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbkZyb21JbnB1dDtcbiAgICB9XG4gICAgY29uc3QgaW5mZXJyZWRMb2NhdGlvbiA9IHByb2Nlc3MuZW52WydHT09HTEVfQ0xPVURfUkVHSU9OJ10gfHwgcHJvY2Vzcy5lbnZbJ0NMT1VEX01MX1JFR0lPTiddO1xuICAgIGlmIChpbmZlcnJlZExvY2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBpbmZlcnJlZExvY2F0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gJ3VzLWNlbnRyYWwxJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnRleF9haS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js\n");

/***/ })

};
;