/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/query/route";
exports.ids = ["app/api/query/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_rahul0_Workspace_Maersk_src_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/query/route.ts */ \"(rsc)/./src/app/api/query/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/query/route\",\n        pathname: \"/api/query\",\n        filename: \"route\",\n        bundlePath: \"app/api/query/route\"\n    },\n    resolvedPagePath: \"/Users/rahul0/Workspace/Maersk/src/app/api/query/route.ts\",\n    nextConfigOutput,\n    userland: _Users_rahul0_Workspace_Maersk_src_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZxdWVyeSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcXVlcnklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZxdWVyeSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnJhaHVsMCUyRldvcmtzcGFjZSUyRk1hZXJzayUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZyYWh1bDAlMkZXb3Jrc3BhY2UlMkZNYWVyc2smaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ1M7QUFDdEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9zcmMvYXBwL2FwaS9xdWVyeS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcXVlcnkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9xdWVyeVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcXVlcnkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svc3JjL2FwcC9hcGkvcXVlcnkvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/query/route.ts":
/*!************************************!*\
  !*** ./src/app/api/query/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_sql_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/sql-generator */ \"(rsc)/./src/lib/sql-generator.ts\");\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/redis */ \"(rsc)/./src/lib/redis.ts\");\n/* harmony import */ var _lib_query_executor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/query-executor */ \"(rsc)/./src/lib/query-executor.ts\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n// Generate cache key from question\nfunction generateCacheKey(question) {\n    const hash = crypto__WEBPACK_IMPORTED_MODULE_4___default().createHash('sha256').update(question.toLowerCase().trim()).digest('hex');\n    return `query:${hash}`;\n}\nasync function POST(request) {\n    let question = '';\n    try {\n        const body = await request.json();\n        question = body.question;\n        if (!question || typeof question !== 'string') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Question is required and must be a string'\n            }, {\n                status: 400\n            });\n        }\n        // Check if this is a greeting - skip cache for greetings to avoid stale responses\n        const isGreeting = /^(hi|hello|hey|greetings|good morning|good afternoon|good evening|howdy)$/i.test(question.trim());\n        // Check cache first (skip for greetings)\n        const cacheKey = generateCacheKey(question);\n        if (!isGreeting) {\n            const cachedResponse = await (0,_lib_redis__WEBPACK_IMPORTED_MODULE_2__.getCachedData)(cacheKey);\n            if (cachedResponse) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ...cachedResponse,\n                    cached: true\n                });\n            }\n        }\n        const startTime = Date.now();\n        // Generate SQL from question using Gemini\n        const sqlResult = await (0,_lib_sql_generator__WEBPACK_IMPORTED_MODULE_1__.generateSQLFromQuestion)(question);\n        // If no SQL was generated (conversational response), return it directly\n        if (!sqlResult.sql || sqlResult.sql.trim() === '') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                sql: '',\n                explanation: sqlResult.explanation,\n                data: [],\n                columns: [],\n                visualizationType: 'table',\n                cached: false,\n                executionTime: Date.now() - startTime,\n                isConversational: true\n            });\n        }\n        // Execute SQL query on Supabase\n        let queryData = [];\n        let columns = [];\n        try {\n            const result = await (0,_lib_query_executor__WEBPACK_IMPORTED_MODULE_3__.executeSQL)(sqlResult.sql);\n            queryData = result.data;\n            columns = result.columns;\n        } catch (error) {\n            console.error('Query execution error:', error);\n            console.error('Generated SQL:', sqlResult.sql);\n            console.error('Error stack:', error.stack);\n            // Return error with SQL for debugging\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to execute query',\n                message: error.message,\n                sql: sqlResult.sql,\n                explanation: sqlResult.explanation,\n                hint: 'Make sure the execute_sql RPC function is set up in Supabase. See db/rpc-function.sql'\n            }, {\n                status: 500\n            });\n        }\n        const executionTime = Date.now() - startTime;\n        const response = {\n            sql: sqlResult.sql,\n            explanation: sqlResult.explanation,\n            data: queryData,\n            columns,\n            visualizationType: sqlResult.visualizationType || 'table',\n            cached: false,\n            executionTime\n        };\n        // Cache the response for 1 hour\n        await (0,_lib_redis__WEBPACK_IMPORTED_MODULE_2__.setCachedData)(cacheKey, response, {\n            ttl: 3600\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n    } catch (error) {\n        console.error('Query API error:', error);\n        console.error('Error details:', {\n            message: error?.message,\n            stack: error?.stack,\n            question: question?.substring(0, 100)\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to process your query',\n            message: error.message,\n            hint: 'Check the server logs for more details'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNoQyxNQUFNL0IseURBQWFBLENBQUNtQixVQUFVb0IsVUFBVTtZQUFFQyxLQUFLO1FBQUs7UUFFcEQsT0FBTzNDLHFEQUFZQSxDQUFDaUIsSUFBSSxDQUFDeUI7SUFFM0IsRUFBRSxPQUFPeEIsT0FBWTtRQUNuQm9CLFFBQVFwQixLQUFLLENBQUMsb0JBQW9CQTtRQUNsQ29CLFFBQVFwQixLQUFLLENBQUMsa0JBQWtCO1lBQzlCc0IsU0FBU3RCLE9BQU9zQjtZQUNoQkQsT0FBT3JCLE9BQU9xQjtZQUNkaEMsVUFBVUEsVUFBVXFDLFVBQVUsR0FBRztRQUNuQztRQUVBLE9BQU81QyxxREFBWUEsQ0FBQ2lCLElBQUksQ0FDdEI7WUFDRUMsT0FBTztZQUNQc0IsU0FBU3RCLE1BQU1zQixPQUFPO1lBQ3RCQyxNQUFNO1FBQ1IsR0FDQTtZQUFFdEIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9zcmMvYXBwL2FwaS9xdWVyeS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBnZW5lcmF0ZVNRTEZyb21RdWVzdGlvbiB9IGZyb20gJ0AvbGliL3NxbC1nZW5lcmF0b3InXG5pbXBvcnQgeyBnZXRDYWNoZWREYXRhLCBzZXRDYWNoZWREYXRhIH0gZnJvbSAnQC9saWIvcmVkaXMnXG5pbXBvcnQgeyBleGVjdXRlU1FMIH0gZnJvbSAnQC9saWIvcXVlcnktZXhlY3V0b3InXG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeVJlc3BvbnNlIHtcbiAgc3FsOiBzdHJpbmdcbiAgZXhwbGFuYXRpb246IHN0cmluZ1xuICBkYXRhOiBhbnlbXVxuICBjb2x1bW5zOiBzdHJpbmdbXVxuICB2aXN1YWxpemF0aW9uVHlwZTogJ3RhYmxlJyB8ICdiYXInIHwgJ2xpbmUnIHwgJ3BpZScgfCAnbWFwJyB8ICdtZXRyaWMnXG4gIGNhY2hlZDogYm9vbGVhblxuICBleGVjdXRpb25UaW1lPzogbnVtYmVyXG4gIGlzQ29udmVyc2F0aW9uYWw/OiBib29sZWFuXG59XG5cbi8vIEdlbmVyYXRlIGNhY2hlIGtleSBmcm9tIHF1ZXN0aW9uXG5mdW5jdGlvbiBnZW5lcmF0ZUNhY2hlS2V5KHF1ZXN0aW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShxdWVzdGlvbi50b0xvd2VyQ2FzZSgpLnRyaW0oKSkuZGlnZXN0KCdoZXgnKVxuICByZXR1cm4gYHF1ZXJ5OiR7aGFzaH1gXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGxldCBxdWVzdGlvbjogc3RyaW5nID0gJydcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgcXVlc3Rpb24gPSBib2R5LnF1ZXN0aW9uXG5cbiAgICBpZiAoIXF1ZXN0aW9uIHx8IHR5cGVvZiBxdWVzdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1F1ZXN0aW9uIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgc3RyaW5nJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgZ3JlZXRpbmcgLSBza2lwIGNhY2hlIGZvciBncmVldGluZ3MgdG8gYXZvaWQgc3RhbGUgcmVzcG9uc2VzXG4gICAgY29uc3QgaXNHcmVldGluZyA9IC9eKGhpfGhlbGxvfGhleXxncmVldGluZ3N8Z29vZCBtb3JuaW5nfGdvb2QgYWZ0ZXJub29ufGdvb2QgZXZlbmluZ3xob3dkeSkkL2kudGVzdChxdWVzdGlvbi50cmltKCkpXG4gICAgXG4gICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3QgKHNraXAgZm9yIGdyZWV0aW5ncylcbiAgICBjb25zdCBjYWNoZUtleSA9IGdlbmVyYXRlQ2FjaGVLZXkocXVlc3Rpb24pXG4gICAgaWYgKCFpc0dyZWV0aW5nKSB7XG4gICAgICBjb25zdCBjYWNoZWRSZXNwb25zZSA9IGF3YWl0IGdldENhY2hlZERhdGE8UXVlcnlSZXNwb25zZT4oY2FjaGVLZXkpXG4gICAgICBcbiAgICAgIGlmIChjYWNoZWRSZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIC4uLmNhY2hlZFJlc3BvbnNlLFxuICAgICAgICAgIGNhY2hlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcblxuICAgIC8vIEdlbmVyYXRlIFNRTCBmcm9tIHF1ZXN0aW9uIHVzaW5nIEdlbWluaVxuICAgIGNvbnN0IHNxbFJlc3VsdCA9IGF3YWl0IGdlbmVyYXRlU1FMRnJvbVF1ZXN0aW9uKHF1ZXN0aW9uKVxuXG4gICAgLy8gSWYgbm8gU1FMIHdhcyBnZW5lcmF0ZWQgKGNvbnZlcnNhdGlvbmFsIHJlc3BvbnNlKSwgcmV0dXJuIGl0IGRpcmVjdGx5XG4gICAgaWYgKCFzcWxSZXN1bHQuc3FsIHx8IHNxbFJlc3VsdC5zcWwudHJpbSgpID09PSAnJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3FsOiAnJyxcbiAgICAgICAgZXhwbGFuYXRpb246IHNxbFJlc3VsdC5leHBsYW5hdGlvbixcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICB2aXN1YWxpemF0aW9uVHlwZTogJ3RhYmxlJyBhcyBjb25zdCxcbiAgICAgICAgY2FjaGVkOiBmYWxzZSxcbiAgICAgICAgZXhlY3V0aW9uVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcbiAgICAgICAgaXNDb252ZXJzYXRpb25hbDogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBFeGVjdXRlIFNRTCBxdWVyeSBvbiBTdXBhYmFzZVxuICAgIGxldCBxdWVyeURhdGE6IGFueVtdID0gW11cbiAgICBsZXQgY29sdW1uczogc3RyaW5nW10gPSBbXVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlU1FMKHNxbFJlc3VsdC5zcWwpXG4gICAgICBxdWVyeURhdGEgPSByZXN1bHQuZGF0YVxuICAgICAgY29sdW1ucyA9IHJlc3VsdC5jb2x1bW5zXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdRdWVyeSBleGVjdXRpb24gZXJyb3I6JywgZXJyb3IpXG4gICAgICBjb25zb2xlLmVycm9yKCdHZW5lcmF0ZWQgU1FMOicsIHNxbFJlc3VsdC5zcWwpXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFjazonLCBlcnJvci5zdGFjaylcbiAgICAgIFxuICAgICAgLy8gUmV0dXJuIGVycm9yIHdpdGggU1FMIGZvciBkZWJ1Z2dpbmdcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGV4ZWN1dGUgcXVlcnknLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgc3FsOiBzcWxSZXN1bHQuc3FsLFxuICAgICAgICAgIGV4cGxhbmF0aW9uOiBzcWxSZXN1bHQuZXhwbGFuYXRpb24sXG4gICAgICAgICAgaGludDogJ01ha2Ugc3VyZSB0aGUgZXhlY3V0ZV9zcWwgUlBDIGZ1bmN0aW9uIGlzIHNldCB1cCBpbiBTdXBhYmFzZS4gU2VlIGRiL3JwYy1mdW5jdGlvbi5zcWwnXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG5cbiAgICBjb25zdCByZXNwb25zZTogUXVlcnlSZXNwb25zZSA9IHtcbiAgICAgIHNxbDogc3FsUmVzdWx0LnNxbCxcbiAgICAgIGV4cGxhbmF0aW9uOiBzcWxSZXN1bHQuZXhwbGFuYXRpb24sXG4gICAgICBkYXRhOiBxdWVyeURhdGEsXG4gICAgICBjb2x1bW5zLFxuICAgICAgdmlzdWFsaXphdGlvblR5cGU6IHNxbFJlc3VsdC52aXN1YWxpemF0aW9uVHlwZSB8fCAndGFibGUnLFxuICAgICAgY2FjaGVkOiBmYWxzZSxcbiAgICAgIGV4ZWN1dGlvblRpbWVcbiAgICB9XG5cbiAgICAvLyBDYWNoZSB0aGUgcmVzcG9uc2UgZm9yIDEgaG91clxuICAgIGF3YWl0IHNldENhY2hlZERhdGEoY2FjaGVLZXksIHJlc3BvbnNlLCB7IHR0bDogMzYwMCB9KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3BvbnNlKVxuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdRdWVyeSBBUEkgZXJyb3I6JywgZXJyb3IpXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICBtZXNzYWdlOiBlcnJvcj8ubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvcj8uc3RhY2ssXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb24/LnN1YnN0cmluZygwLCAxMDApXG4gICAgfSlcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIHByb2Nlc3MgeW91ciBxdWVyeScsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGhpbnQ6ICdDaGVjayB0aGUgc2VydmVyIGxvZ3MgZm9yIG1vcmUgZGV0YWlscydcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdlbmVyYXRlU1FMRnJvbVF1ZXN0aW9uIiwiZ2V0Q2FjaGVkRGF0YSIsInNldENhY2hlZERhdGEiLCJleGVjdXRlU1FMIiwiY3J5cHRvIiwiZ2VuZXJhdGVDYWNoZUtleSIsInF1ZXN0aW9uIiwiaGFzaCIsImNyZWF0ZUhhc2giLCJ1cGRhdGUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJkaWdlc3QiLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJpc0dyZWV0aW5nIiwidGVzdCIsImNhY2hlS2V5IiwiY2FjaGVkUmVzcG9uc2UiLCJjYWNoZWQiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93Iiwic3FsUmVzdWx0Iiwic3FsIiwiZXhwbGFuYXRpb24iLCJkYXRhIiwiY29sdW1ucyIsInZpc3VhbGl6YXRpb25UeXBlIiwiZXhlY3V0aW9uVGltZSIsImlzQ29udmVyc2F0aW9uYWwiLCJxdWVyeURhdGEiLCJyZXN1bHQiLCJjb25zb2xlIiwic3RhY2siLCJtZXNzYWdlIiwiaGludCIsInJlc3BvbnNlIiwidHRsIiwic3Vic3RyaW5nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/query/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/query-executor.ts":
/*!***********************************!*\
  !*** ./src/lib/query-executor.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   executeSQL: () => (/* binding */ executeSQL),\n/* harmony export */   executeSimpleQuery: () => (/* binding */ executeSimpleQuery)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(rsc)/./src/lib/supabase.ts\");\n\n// Execute SQL query using Supabase RPC function\nasync function executeSQL(sql) {\n    try {\n        // Clean the SQL - remove trailing semicolons and extra whitespace\n        let cleanedSQL = sql.trim();\n        // Remove trailing semicolon if present (RPC function handles single queries)\n        if (cleanedSQL.endsWith(';')) {\n            cleanedSQL = cleanedSQL.slice(0, -1).trim();\n        }\n        // Ensure it's a single statement (take first statement if multiple)\n        const statements = cleanedSQL.split(';').filter((s)=>s.trim().length > 0);\n        if (statements.length > 1) {\n            console.warn('Multiple SQL statements detected, using first one only');\n            cleanedSQL = statements[0].trim();\n        }\n        // Try to use RPC function first\n        // Note: The RPC function expects 'query_text' parameter (see db/rpc-function.sql)\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.rpc('execute_sql', {\n            query_text: cleanedSQL\n        });\n        if (error) {\n            throw new Error(`SQL execution failed: ${error.message}`);\n        }\n        // If data is an array, use it directly\n        if (Array.isArray(data)) {\n            const columns = data.length > 0 ? Object.keys(data[0]) : [];\n            return {\n                data,\n                columns\n            };\n        }\n        // If data is a JSON string, parse it\n        if (typeof data === 'string') {\n            const parsed = JSON.parse(data);\n            const columns = parsed.length > 0 ? Object.keys(parsed[0]) : [];\n            return {\n                data: parsed,\n                columns\n            };\n        }\n        return {\n            data: [],\n            columns: []\n        };\n    } catch (error) {\n        console.error('Query execution error:', error);\n        throw error;\n    }\n}\n// Execute a simplified query using Supabase query builder (fallback)\nasync function executeSimpleQuery(table, filters = {}) {\n    try {\n        let query = _supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(table).select('*');\n        // Apply filters\n        if (filters.limit) {\n            query = query.limit(filters.limit);\n        }\n        const { data, error } = await query;\n        if (error) {\n            throw error;\n        }\n        return data || [];\n    } catch (error) {\n        console.error('Simple query execution error:', error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3F1ZXJ5LWV4ZWN1dG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUUxQyxnREFBZ0Q7QUFDekMsZUFBZUMsV0FBV0MsR0FBVztJQUMxQyxJQUFJO1FBQ0Ysa0VBQWtFO1FBQ2xFLElBQUlDLGFBQWFELElBQUlFLElBQUk7UUFFekIsNkVBQTZFO1FBQzdFLElBQUlELFdBQVdFLFFBQVEsQ0FBQyxNQUFNO1lBQzVCRixhQUFhQSxXQUFXRyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUdGLElBQUk7UUFDM0M7UUFFQSxvRUFBb0U7UUFDcEUsTUFBTUcsYUFBYUosV0FBV0ssS0FBSyxDQUFDLEtBQUtDLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRU4sSUFBSSxHQUFHTyxNQUFNLEdBQUc7UUFDdkUsSUFBSUosV0FBV0ksTUFBTSxHQUFHLEdBQUc7WUFDekJDLFFBQVFDLElBQUksQ0FBQztZQUNiVixhQUFhSSxVQUFVLENBQUMsRUFBRSxDQUFDSCxJQUFJO1FBQ2pDO1FBRUEsZ0NBQWdDO1FBQ2hDLGtGQUFrRjtRQUNsRixNQUFNLEVBQUVVLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTWYsb0RBQWFBLENBQUNnQixHQUFHLENBQUMsZUFBZTtZQUM3REMsWUFBWWQ7UUFDZDtRQUVBLElBQUlZLE9BQU87WUFDVCxNQUFNLElBQUlHLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRUgsTUFBTUksT0FBTyxFQUFFO1FBQzFEO1FBRUEsdUNBQXVDO1FBQ3ZDLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ1AsT0FBTztZQUN2QixNQUFNUSxVQUFVUixLQUFLSCxNQUFNLEdBQUcsSUFBSVksT0FBT0MsSUFBSSxDQUFDVixJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUU7WUFDM0QsT0FBTztnQkFBRUE7Z0JBQU1RO1lBQVE7UUFDekI7UUFFQSxxQ0FBcUM7UUFDckMsSUFBSSxPQUFPUixTQUFTLFVBQVU7WUFDNUIsTUFBTVcsU0FBU0MsS0FBS0MsS0FBSyxDQUFDYjtZQUMxQixNQUFNUSxVQUFVRyxPQUFPZCxNQUFNLEdBQUcsSUFBSVksT0FBT0MsSUFBSSxDQUFDQyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUU7WUFDL0QsT0FBTztnQkFBRVgsTUFBTVc7Z0JBQVFIO1lBQVE7UUFDakM7UUFFQSxPQUFPO1lBQUVSLE1BQU0sRUFBRTtZQUFFUSxTQUFTLEVBQUU7UUFBQztJQUNqQyxFQUFFLE9BQU9QLE9BQVk7UUFDbkJILFFBQVFHLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE1BQU1BO0lBQ1I7QUFDRjtBQUVBLHFFQUFxRTtBQUM5RCxlQUFlYSxtQkFBbUJDLEtBQWEsRUFBRUMsVUFBZSxDQUFDLENBQUM7SUFDdkUsSUFBSTtRQUNGLElBQUlDLFFBQVEvQixvREFBYUEsQ0FBQ2dDLElBQUksQ0FBQ0gsT0FBT0ksTUFBTSxDQUFDO1FBRTdDLGdCQUFnQjtRQUNoQixJQUFJSCxRQUFRSSxLQUFLLEVBQUU7WUFDakJILFFBQVFBLE1BQU1HLEtBQUssQ0FBQ0osUUFBUUksS0FBSztRQUNuQztRQUVBLE1BQU0sRUFBRXBCLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTWdCO1FBRTlCLElBQUloQixPQUFPO1lBQ1QsTUFBTUE7UUFDUjtRQUVBLE9BQU9ELFFBQVEsRUFBRTtJQUNuQixFQUFFLE9BQU9DLE9BQU87UUFDZEgsUUFBUUcsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvcmFodWwwL1dvcmtzcGFjZS9NYWVyc2svc3JjL2xpYi9xdWVyeS1leGVjdXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnLi9zdXBhYmFzZSdcblxuLy8gRXhlY3V0ZSBTUUwgcXVlcnkgdXNpbmcgU3VwYWJhc2UgUlBDIGZ1bmN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVNRTChzcWw6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBhbnlbXTsgY29sdW1uczogc3RyaW5nW10gfT4ge1xuICB0cnkge1xuICAgIC8vIENsZWFuIHRoZSBTUUwgLSByZW1vdmUgdHJhaWxpbmcgc2VtaWNvbG9ucyBhbmQgZXh0cmEgd2hpdGVzcGFjZVxuICAgIGxldCBjbGVhbmVkU1FMID0gc3FsLnRyaW0oKVxuICAgIFxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyBzZW1pY29sb24gaWYgcHJlc2VudCAoUlBDIGZ1bmN0aW9uIGhhbmRsZXMgc2luZ2xlIHF1ZXJpZXMpXG4gICAgaWYgKGNsZWFuZWRTUUwuZW5kc1dpdGgoJzsnKSkge1xuICAgICAgY2xlYW5lZFNRTCA9IGNsZWFuZWRTUUwuc2xpY2UoMCwgLTEpLnRyaW0oKVxuICAgIH1cbiAgICBcbiAgICAvLyBFbnN1cmUgaXQncyBhIHNpbmdsZSBzdGF0ZW1lbnQgKHRha2UgZmlyc3Qgc3RhdGVtZW50IGlmIG11bHRpcGxlKVxuICAgIGNvbnN0IHN0YXRlbWVudHMgPSBjbGVhbmVkU1FMLnNwbGl0KCc7JykuZmlsdGVyKHMgPT4gcy50cmltKCkubGVuZ3RoID4gMClcbiAgICBpZiAoc3RhdGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ011bHRpcGxlIFNRTCBzdGF0ZW1lbnRzIGRldGVjdGVkLCB1c2luZyBmaXJzdCBvbmUgb25seScpXG4gICAgICBjbGVhbmVkU1FMID0gc3RhdGVtZW50c1swXS50cmltKClcbiAgICB9XG4gICAgXG4gICAgLy8gVHJ5IHRvIHVzZSBSUEMgZnVuY3Rpb24gZmlyc3RcbiAgICAvLyBOb3RlOiBUaGUgUlBDIGZ1bmN0aW9uIGV4cGVjdHMgJ3F1ZXJ5X3RleHQnIHBhcmFtZXRlciAoc2VlIGRiL3JwYy1mdW5jdGlvbi5zcWwpXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbi5ycGMoJ2V4ZWN1dGVfc3FsJywge1xuICAgICAgcXVlcnlfdGV4dDogY2xlYW5lZFNRTFxuICAgIH0pXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU1FMIGV4ZWN1dGlvbiBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgIH1cblxuICAgIC8vIElmIGRhdGEgaXMgYW4gYXJyYXksIHVzZSBpdCBkaXJlY3RseVxuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gZGF0YS5sZW5ndGggPiAwID8gT2JqZWN0LmtleXMoZGF0YVswXSkgOiBbXVxuICAgICAgcmV0dXJuIHsgZGF0YSwgY29sdW1ucyB9XG4gICAgfVxuXG4gICAgLy8gSWYgZGF0YSBpcyBhIEpTT04gc3RyaW5nLCBwYXJzZSBpdFxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGF0YSlcbiAgICAgIGNvbnN0IGNvbHVtbnMgPSBwYXJzZWQubGVuZ3RoID4gMCA/IE9iamVjdC5rZXlzKHBhcnNlZFswXSkgOiBbXVxuICAgICAgcmV0dXJuIHsgZGF0YTogcGFyc2VkLCBjb2x1bW5zIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBkYXRhOiBbXSwgY29sdW1uczogW10gfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignUXVlcnkgZXhlY3V0aW9uIGVycm9yOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLy8gRXhlY3V0ZSBhIHNpbXBsaWZpZWQgcXVlcnkgdXNpbmcgU3VwYWJhc2UgcXVlcnkgYnVpbGRlciAoZmFsbGJhY2spXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVNpbXBsZVF1ZXJ5KHRhYmxlOiBzdHJpbmcsIGZpbHRlcnM6IGFueSA9IHt9KTogUHJvbWlzZTxhbnlbXT4ge1xuICB0cnkge1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlQWRtaW4uZnJvbSh0YWJsZSkuc2VsZWN0KCcqJylcblxuICAgIC8vIEFwcGx5IGZpbHRlcnNcbiAgICBpZiAoZmlsdGVycy5saW1pdCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5saW1pdChmaWx0ZXJzLmxpbWl0KVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTaW1wbGUgcXVlcnkgZXhlY3V0aW9uIGVycm9yOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbInN1cGFiYXNlQWRtaW4iLCJleGVjdXRlU1FMIiwic3FsIiwiY2xlYW5lZFNRTCIsInRyaW0iLCJlbmRzV2l0aCIsInNsaWNlIiwic3RhdGVtZW50cyIsInNwbGl0IiwiZmlsdGVyIiwicyIsImxlbmd0aCIsImNvbnNvbGUiLCJ3YXJuIiwiZGF0YSIsImVycm9yIiwicnBjIiwicXVlcnlfdGV4dCIsIkVycm9yIiwibWVzc2FnZSIsIkFycmF5IiwiaXNBcnJheSIsImNvbHVtbnMiLCJPYmplY3QiLCJrZXlzIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZXhlY3V0ZVNpbXBsZVF1ZXJ5IiwidGFibGUiLCJmaWx0ZXJzIiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwibGltaXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/query-executor.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/redis.ts":
/*!**************************!*\
  !*** ./src/lib/redis.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearCachePattern: () => (/* binding */ clearCachePattern),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   deleteCachedData: () => (/* binding */ deleteCachedData),\n/* harmony export */   getCachedData: () => (/* binding */ getCachedData),\n/* harmony export */   setCachedData: () => (/* binding */ setCachedData)\n/* harmony export */ });\n/* harmony import */ var _upstash_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @upstash/redis */ \"(rsc)/./node_modules/@upstash/redis/nodejs.mjs\");\n\nconst redis = new _upstash_redis__WEBPACK_IMPORTED_MODULE_0__.Redis({\n    url: process.env.UPSTASH_REDIS_REST_URL,\n    token: process.env.UPSTASH_REDIS_REST_TOKEN\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (redis);\nasync function getCachedData(key) {\n    try {\n        const data = await redis.get(key);\n        if (data) {\n            // Handle case where data might be a string (JSON)\n            if (typeof data === 'string') {\n                try {\n                    return JSON.parse(data);\n                } catch  {\n                    return data;\n                }\n            }\n            return data;\n        }\n        return null;\n    } catch (error) {\n        console.error('Redis get error:', error);\n        return null;\n    }\n}\nasync function setCachedData(key, data, options = {}) {\n    try {\n        const { ttl = 3600 } = options;\n        await redis.setex(key, ttl, JSON.stringify(data));\n    } catch (error) {\n        console.error('Redis set error:', error);\n    }\n}\nasync function deleteCachedData(key) {\n    try {\n        await redis.del(key);\n    } catch (error) {\n        console.error('Redis delete error:', error);\n    }\n}\n// Clear all cache keys matching a pattern (for clearing old mock responses)\nasync function clearCachePattern(pattern) {\n    try {\n        // Note: Upstash Redis REST API doesn't support KEYS command directly\n        // This is a simplified version - in production, you might want to track keys\n        // For now, we'll just return 0 and log a message\n        console.log(`Note: Pattern-based cache clearing not fully supported. Pattern: ${pattern}`);\n        return 0;\n    } catch (error) {\n        console.error('Redis pattern clear error:', error);\n        return 0;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JlZGlzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUV0QyxNQUFNQyxRQUFRLElBQUlELGlEQUFLQSxDQUFDO0lBQ3RCRSxLQUFLQyxRQUFRQyxHQUFHLENBQUNDLHNCQUFzQjtJQUN2Q0MsT0FBT0gsUUFBUUMsR0FBRyxDQUFDRyx3QkFBd0I7QUFDN0M7QUFFQSxpRUFBZU4sS0FBS0EsRUFBQTtBQU1iLGVBQWVPLGNBQWlCQyxHQUFXO0lBQ2hELElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ULE1BQU1VLEdBQUcsQ0FBQ0Y7UUFDN0IsSUFBSUMsTUFBTTtZQUNSLGtEQUFrRDtZQUNsRCxJQUFJLE9BQU9BLFNBQVMsVUFBVTtnQkFDNUIsSUFBSTtvQkFDRixPQUFPRSxLQUFLQyxLQUFLLENBQUNIO2dCQUNwQixFQUFFLE9BQU07b0JBQ04sT0FBT0E7Z0JBQ1Q7WUFDRjtZQUNBLE9BQU9BO1FBQ1Q7UUFDQSxPQUFPO0lBQ1QsRUFBRSxPQUFPSSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxvQkFBb0JBO1FBQ2xDLE9BQU87SUFDVDtBQUNGO0FBRU8sZUFBZUUsY0FBaUJQLEdBQVcsRUFBRUMsSUFBTyxFQUFFTyxVQUF3QixDQUFDLENBQUM7SUFDckYsSUFBSTtRQUNGLE1BQU0sRUFBRUMsTUFBTSxJQUFJLEVBQUUsR0FBR0Q7UUFDdkIsTUFBTWhCLE1BQU1rQixLQUFLLENBQUNWLEtBQUtTLEtBQUtOLEtBQUtRLFNBQVMsQ0FBQ1Y7SUFDN0MsRUFBRSxPQUFPSSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxvQkFBb0JBO0lBQ3BDO0FBQ0Y7QUFFTyxlQUFlTyxpQkFBaUJaLEdBQVc7SUFDaEQsSUFBSTtRQUNGLE1BQU1SLE1BQU1xQixHQUFHLENBQUNiO0lBQ2xCLEVBQUUsT0FBT0ssT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsdUJBQXVCQTtJQUN2QztBQUNGO0FBRUEsNEVBQTRFO0FBQ3JFLGVBQWVTLGtCQUFrQkMsT0FBZTtJQUNyRCxJQUFJO1FBQ0YscUVBQXFFO1FBQ3JFLDZFQUE2RTtRQUM3RSxpREFBaUQ7UUFDakRULFFBQVFVLEdBQUcsQ0FBQyxDQUFDLGlFQUFpRSxFQUFFRCxTQUFTO1FBQ3pGLE9BQU87SUFDVCxFQUFFLE9BQU9WLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDhCQUE4QkE7UUFDNUMsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9zcmMvbGliL3JlZGlzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZGlzIH0gZnJvbSAnQHVwc3Rhc2gvcmVkaXMnXG5cbmNvbnN0IHJlZGlzID0gbmV3IFJlZGlzKHtcbiAgdXJsOiBwcm9jZXNzLmVudi5VUFNUQVNIX1JFRElTX1JFU1RfVVJMISxcbiAgdG9rZW46IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9UT0tFTiEsXG59KVxuXG5leHBvcnQgZGVmYXVsdCByZWRpc1xuXG5leHBvcnQgaW50ZXJmYWNlIENhY2hlT3B0aW9ucyB7XG4gIHR0bD86IG51bWJlciAvLyBUaW1lIHRvIGxpdmUgaW4gc2Vjb25kcyAoZGVmYXVsdDogMzYwMCA9IDEgaG91cilcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhY2hlZERhdGE8VD4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlZGlzLmdldChrZXkpXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIGRhdGEgbWlnaHQgYmUgYSBzdHJpbmcgKEpTT04pXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSkgYXMgVFxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICByZXR1cm4gZGF0YSBhcyBUXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhIGFzIFRcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBnZXQgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0Q2FjaGVkRGF0YTxUPihrZXk6IHN0cmluZywgZGF0YTogVCwgb3B0aW9uczogQ2FjaGVPcHRpb25zID0ge30pOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHR0bCA9IDM2MDAgfSA9IG9wdGlvbnNcbiAgICBhd2FpdCByZWRpcy5zZXRleChrZXksIHR0bCwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmVkaXMgc2V0IGVycm9yOicsIGVycm9yKVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDYWNoZWREYXRhKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgcmVkaXMuZGVsKGtleSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBkZWxldGUgZXJyb3I6JywgZXJyb3IpXG4gIH1cbn1cblxuLy8gQ2xlYXIgYWxsIGNhY2hlIGtleXMgbWF0Y2hpbmcgYSBwYXR0ZXJuIChmb3IgY2xlYXJpbmcgb2xkIG1vY2sgcmVzcG9uc2VzKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyQ2FjaGVQYXR0ZXJuKHBhdHRlcm46IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG4gIHRyeSB7XG4gICAgLy8gTm90ZTogVXBzdGFzaCBSZWRpcyBSRVNUIEFQSSBkb2Vzbid0IHN1cHBvcnQgS0VZUyBjb21tYW5kIGRpcmVjdGx5XG4gICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgdmVyc2lvbiAtIGluIHByb2R1Y3Rpb24sIHlvdSBtaWdodCB3YW50IHRvIHRyYWNrIGtleXNcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IHJldHVybiAwIGFuZCBsb2cgYSBtZXNzYWdlXG4gICAgY29uc29sZS5sb2coYE5vdGU6IFBhdHRlcm4tYmFzZWQgY2FjaGUgY2xlYXJpbmcgbm90IGZ1bGx5IHN1cHBvcnRlZC4gUGF0dGVybjogJHtwYXR0ZXJufWApXG4gICAgcmV0dXJuIDBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBwYXR0ZXJuIGNsZWFyIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiAwXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJSZWRpcyIsInJlZGlzIiwidXJsIiwicHJvY2VzcyIsImVudiIsIlVQU1RBU0hfUkVESVNfUkVTVF9VUkwiLCJ0b2tlbiIsIlVQU1RBU0hfUkVESVNfUkVTVF9UT0tFTiIsImdldENhY2hlZERhdGEiLCJrZXkiLCJkYXRhIiwiZ2V0IiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2V0Q2FjaGVkRGF0YSIsIm9wdGlvbnMiLCJ0dGwiLCJzZXRleCIsInN0cmluZ2lmeSIsImRlbGV0ZUNhY2hlZERhdGEiLCJkZWwiLCJjbGVhckNhY2hlUGF0dGVybiIsInBhdHRlcm4iLCJsb2ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/redis.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/sql-generator.ts":
/*!**********************************!*\
  !*** ./src/lib/sql-generator.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectVisualizationType: () => (/* binding */ detectVisualizationType),\n/* harmony export */   generateSQLFromQuestion: () => (/* binding */ generateSQLFromQuestion)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\n// Initialize Google AI Studio (using API key)\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GOOGLE_AI_API_KEY);\n// Use gemini-pro for Google AI Studio (most stable)\n// If this doesn't work, check available models at /api/models\nconst modelName = process.env.GEMINI_MODEL_NAME || 'gemini-pro';\nconsole.log(`[SQL Generator] Using Gemini model: ${modelName}`);\nconst model = genAI.getGenerativeModel({\n    model: modelName\n});\n// Database schema context for SQL generation\nconst DATABASE_SCHEMA = `\n-- Brazilian E-Commerce Olist Dataset Schema\n\n-- Customers table\nCREATE TABLE olist_customers (\n    customer_id VARCHAR(255) PRIMARY KEY,\n    customer_unique_id VARCHAR(255) NOT NULL,\n    customer_zip_code_prefix VARCHAR(10),\n    customer_city VARCHAR(255),\n    customer_state VARCHAR(2)\n);\n\n-- Sellers table\nCREATE TABLE olist_sellers (\n    seller_id VARCHAR(255) PRIMARY KEY,\n    seller_zip_code_prefix VARCHAR(10),\n    seller_city VARCHAR(255),\n    seller_state VARCHAR(2)\n);\n\n-- Product category translations\nCREATE TABLE product_category_translation (\n    product_category_name VARCHAR(255) PRIMARY KEY,\n    product_category_name_english VARCHAR(255)\n);\n\n-- Products table\nCREATE TABLE olist_products (\n    product_id VARCHAR(255) PRIMARY KEY,\n    product_category_name VARCHAR(255),\n    product_name_lenght INTEGER,\n    product_description_lenght INTEGER,\n    product_photos_qty INTEGER,\n    product_weight_g INTEGER,\n    product_length_cm INTEGER,\n    product_height_cm INTEGER,\n    product_width_cm INTEGER,\n    FOREIGN KEY (product_category_name) REFERENCES product_category_translation(product_category_name)\n);\n\n-- Orders table\nCREATE TABLE olist_orders (\n    order_id VARCHAR(255) PRIMARY KEY,\n    customer_id VARCHAR(255) NOT NULL,\n    order_status VARCHAR(50),\n    order_purchase_timestamp TIMESTAMP,\n    order_approved_at TIMESTAMP,\n    order_delivered_carrier_date TIMESTAMP,\n    order_delivered_customer_date TIMESTAMP,\n    order_estimated_delivery_date TIMESTAMP,\n    FOREIGN KEY (customer_id) REFERENCES olist_customers(customer_id)\n);\n\n-- Order items table\nCREATE TABLE olist_order_items (\n    order_id VARCHAR(255) NOT NULL,\n    order_item_id INTEGER NOT NULL,\n    product_id VARCHAR(255),\n    seller_id VARCHAR(255),\n    shipping_limit_date TIMESTAMP,\n    price DECIMAL(10, 2),\n    freight_value DECIMAL(10, 2),\n    PRIMARY KEY (order_id, order_item_id),\n    FOREIGN KEY (order_id) REFERENCES olist_orders(order_id),\n    FOREIGN KEY (product_id) REFERENCES olist_products(product_id),\n    FOREIGN KEY (seller_id) REFERENCES olist_sellers(seller_id)\n);\n\n-- Order payments table\nCREATE TABLE olist_order_payments (\n    order_id VARCHAR(255) NOT NULL,\n    payment_sequential INTEGER NOT NULL,\n    payment_type VARCHAR(50),\n    payment_installments INTEGER,\n    payment_value DECIMAL(10, 2),\n    PRIMARY KEY (order_id, payment_sequential),\n    FOREIGN KEY (order_id) REFERENCES olist_orders(order_id)\n);\n\n-- Order reviews table\nCREATE TABLE olist_order_reviews (\n    review_id VARCHAR(255) PRIMARY KEY,\n    order_id VARCHAR(255) NOT NULL,\n    review_score INTEGER,\n    review_comment_title TEXT,\n    review_comment_message TEXT,\n    review_creation_date TIMESTAMP,\n    review_answer_timestamp TIMESTAMP,\n    FOREIGN KEY (order_id) REFERENCES olist_orders(order_id)\n);\n\n-- Geolocation table\nCREATE TABLE olist_geolocation (\n    geolocation_zip_code_prefix VARCHAR(10),\n    geolocation_lat DECIMAL(10, 8),\n    geolocation_lng DECIMAL(11, 8),\n    geolocation_city VARCHAR(255),\n    geolocation_state VARCHAR(2)\n);\n\n-- Materialized view for analytics\nCREATE MATERIALIZED VIEW order_summary AS\nSELECT \n    o.order_id,\n    o.order_status,\n    o.order_purchase_timestamp,\n    o.order_delivered_customer_date,\n    o.order_estimated_delivery_date,\n    c.customer_state,\n    c.customer_city,\n    SUM(oi.price) as total_price,\n    SUM(oi.freight_value) as total_freight,\n    SUM(oi.price + oi.freight_value) as total_value,\n    SUM(op.payment_value) as total_payment,\n    MAX(op.payment_type) as payment_type,\n    AVG(rev.review_score) as avg_review_score,\n    COUNT(DISTINCT oi.product_id) as product_count\nFROM olist_orders o\nLEFT JOIN olist_customers c ON o.customer_id = c.customer_id\nLEFT JOIN olist_order_items oi ON o.order_id = oi.order_id\nLEFT JOIN olist_order_payments op ON o.order_id = op.order_id\nLEFT JOIN olist_order_reviews rev ON o.order_id = rev.order_id\nGROUP BY o.order_id, o.order_status, o.order_purchase_timestamp, \n         o.order_delivered_customer_date, o.order_estimated_delivery_date,\n         c.customer_state, c.customer_city;\n`;\n// SQL safety checks - only allow SELECT statements\nfunction validateSQL(sql) {\n    const normalizedSQL = sql.trim().toLowerCase();\n    // Remove SQL comments for validation (they're safe, just remove them for pattern matching)\n    const sqlWithoutComments = normalizedSQL.replace(/--.*$/gm, '') // Remove single-line comments\n    .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '') // Remove multi-line comments\n    ;\n    // Block dangerous SQL operations\n    const dangerousPatterns = [\n        /;\\s*(drop|delete|update|insert|alter|create|truncate|grant|revoke)/i,\n        /union.*select/i,\n        /exec\\(/i,\n        /execute\\(/i\n    ];\n    for (const pattern of dangerousPatterns){\n        if (pattern.test(sqlWithoutComments)) {\n            return {\n                valid: false,\n                error: 'SQL contains potentially dangerous operations'\n            };\n        }\n    }\n    // Only allow SELECT statements\n    if (!sqlWithoutComments.trim().startsWith('select')) {\n        return {\n            valid: false,\n            error: 'Only SELECT queries are allowed'\n        };\n    }\n    return {\n        valid: true\n    };\n}\nasync function generateSQLFromQuestion(question) {\n    try {\n        // Check if this is a greeting or non-analytics question\n        const lowerQuestion = question.toLowerCase().trim();\n        const isGreeting = /^(hi|hello|hey|greetings|good morning|good afternoon|good evening|howdy)$/i.test(lowerQuestion);\n        const isGeneralQuestion = /^(what|who|when|where|why|how|explain|tell me|help|can you|what is|what are)/i.test(lowerQuestion) && !/(sales|revenue|orders|products|customers|sellers|payments|delivery|category|categories|state|month|year|quarter|average|total|count|sum|max|min)/i.test(question);\n        if (isGreeting || isGeneralQuestion) {\n            // Return a conversational response instead of SQL\n            return {\n                sql: '',\n                explanation: isGreeting ? `Hello! ðŸ‘‹ I'm your analytics assistant for the Brazilian E-Commerce Olist dataset. I can help you explore 100k+ orders from 2016-2018. Try asking me questions like:\\n\\nâ€¢ \"Which product category sold the most in Q4 2018?\"\\nâ€¢ \"Show average delivery time by state\"\\nâ€¢ \"What's the total revenue by payment method?\"\\nâ€¢ \"Which sellers have the highest review scores?\"\\n\\nWhat would you like to explore?` : `I'm here to help you analyze the Brazilian E-Commerce dataset! I can generate SQL queries and create visualizations from your questions. Try asking about:\\n\\nâ€¢ Sales and revenue trends\\nâ€¢ Product categories and performance\\nâ€¢ Customer and seller analytics\\nâ€¢ Payment methods and delivery times\\nâ€¢ Geographic distribution of orders\\n\\nWhat specific analysis would you like to see?`,\n                visualizationType: 'table'\n            };\n        }\n        const prompt = `You are a SQL expert assistant for a PostgreSQL database containing Brazilian e-commerce data.\n\nDatabase Schema:\n${DATABASE_SCHEMA}\n\nUser Question: \"${question}\"\n\nIMPORTANT INSTRUCTIONS:\n1. If the question is a greeting (hi, hello, etc.) or general question not about data analysis, respond conversationally\n2. If the question is about analyzing data, generate a valid PostgreSQL SELECT query\n3. Use proper JOINs when accessing multiple tables\n4. Use appropriate aggregate functions (COUNT, SUM, AVG, MAX, MIN) when needed\n5. Format dates properly using DATE_TRUNC(), EXTRACT(), or TO_CHAR() functions\n6. Limit results to a reasonable number (use LIMIT 100 for large result sets)\n7. Suggest the best visualization type: 'table', 'bar', 'line', 'pie', 'map', or 'metric'\n8. Provide a clear, helpful explanation of what the query does\n\nReturn your response in the following JSON format:\n{\n  \"sql\": \"SELECT ...\",\n  \"explanation\": \"This query...\",\n  \"visualizationType\": \"bar\"\n}\n\nIf the question is not about data analysis, return:\n{\n  \"sql\": \"\",\n  \"explanation\": \"A helpful conversational response\",\n  \"visualizationType\": \"table\"\n}\n\nOnly return the JSON object, no additional text.`;\n        const result = await model.generateContent(prompt);\n        const response = result.response;\n        const text = response.text();\n        // Extract JSON from response (handle markdown code blocks if present)\n        let jsonText = text.trim();\n        if (jsonText.startsWith('```')) {\n            jsonText = jsonText.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n        }\n        // Try to parse JSON, handle cases where response might not be valid JSON\n        let parsed;\n        try {\n            parsed = JSON.parse(jsonText);\n        } catch (parseError) {\n            console.error('JSON parse error:', parseError);\n            console.error('Response text:', text.substring(0, 500));\n            // If JSON parsing fails, try to extract JSON object from text\n            const jsonMatch = jsonText.match(/\\{[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                try {\n                    parsed = JSON.parse(jsonMatch[0]);\n                } catch  {\n                    throw new Error(`Failed to parse JSON response from Gemini. Response: ${text.substring(0, 200)}`);\n                }\n            } else {\n                throw new Error(`Invalid JSON response from Gemini. Response: ${text.substring(0, 200)}`);\n            }\n        }\n        // If it's a conversational response (no SQL), return it\n        if (!parsed.sql || parsed.sql.trim() === '') {\n            return {\n                sql: '',\n                explanation: parsed.explanation || 'I can help you analyze the Brazilian E-Commerce dataset. What would you like to explore?',\n                visualizationType: 'table'\n            };\n        }\n        // Clean SQL - remove trailing semicolon for consistency\n        let cleanedSQL = parsed.sql.trim();\n        if (cleanedSQL.endsWith(';')) {\n            cleanedSQL = cleanedSQL.slice(0, -1).trim();\n        }\n        // Validate SQL only if it exists\n        const validation = validateSQL(cleanedSQL);\n        if (!validation.valid) {\n            console.error('SQL validation failed:', validation.error);\n            console.error('Generated SQL:', cleanedSQL);\n            throw new Error(validation.error || 'Invalid SQL generated');\n        }\n        return {\n            sql: cleanedSQL,\n            explanation: parsed.explanation || 'Query executed successfully',\n            visualizationType: parsed.visualizationType || 'table'\n        };\n    } catch (error) {\n        console.error('SQL generation error:', error);\n        console.error('Error details:', {\n            message: error?.message,\n            stack: error?.stack,\n            question: question?.substring(0, 100)\n        });\n        // Don't use fallback - throw the error so user sees what went wrong\n        throw new Error(`Failed to generate SQL query: ${error?.message || 'Unknown error'}`);\n    }\n}\n// Helper function to detect visualization type from query result\nfunction detectVisualizationType(data, columns) {\n    if (!data || data.length === 0) {\n        return 'table';\n    }\n    // Single row with numeric values = metric\n    if (data.length === 1 && columns.some((col)=>typeof data[0][col] === 'number')) {\n        return 'metric';\n    }\n    // Has state or city column = map\n    if (columns.some((col)=>col.includes('state') || col.includes('city'))) {\n        return 'map';\n    }\n    // Has date/timestamp column = line chart\n    if (columns.some((col)=>col.includes('date') || col.includes('timestamp') || col.includes('month') || col.includes('year'))) {\n        return 'line';\n    }\n    // 2 columns with one numeric = bar chart\n    if (columns.length === 2 && typeof data[0][columns[1]] === 'number') {\n        return 'bar';\n    }\n    // Multiple rows with one numeric column = pie chart if small, bar if large\n    if (data.length <= 10 && columns.some((col)=>typeof data[0][col] === 'number')) {\n        return 'pie';\n    }\n    return 'table';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NxbC1nZW5lcmF0b3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBEO0FBRTFELDhDQUE4QztBQUM5QyxNQUFNQyxRQUFRLElBQUlELHFFQUFrQkEsQ0FBQ0UsUUFBUUMsR0FBRyxDQUFDQyxpQkFBaUI7QUFFbEUsb0RBQW9EO0FBQ3BELDhEQUE4RDtBQUM5RCxNQUFNQyxZQUFZSCxRQUFRQyxHQUFHLENBQUNHLGlCQUFpQixJQUFJO0FBRW5EQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRUgsV0FBVztBQUU5RCxNQUFNSSxRQUFRUixNQUFNUyxrQkFBa0IsQ0FBQztJQUNyQ0QsT0FBT0o7QUFDVDtBQUVBLDZDQUE2QztBQUM3QyxNQUFNTSxrQkFBa0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE2SHpCLENBQUM7QUFRRCxtREFBbUQ7QUFDbkQsU0FBU0MsWUFBWUMsR0FBVztJQUM5QixNQUFNQyxnQkFBZ0JELElBQUlFLElBQUksR0FBR0MsV0FBVztJQUU1QywyRkFBMkY7SUFDM0YsTUFBTUMscUJBQXFCSCxjQUN4QkksT0FBTyxDQUFDLFdBQVcsSUFBSSw4QkFBOEI7S0FDckRBLE9BQU8sQ0FBQyxxQkFBcUIsSUFBSSw2QkFBNkI7O0lBRWpFLGlDQUFpQztJQUNqQyxNQUFNQyxvQkFBb0I7UUFDeEI7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELEtBQUssTUFBTUMsV0FBV0Qsa0JBQW1CO1FBQ3ZDLElBQUlDLFFBQVFDLElBQUksQ0FBQ0oscUJBQXFCO1lBQ3BDLE9BQU87Z0JBQUVLLE9BQU87Z0JBQU9DLE9BQU87WUFBZ0Q7UUFDaEY7SUFDRjtJQUVBLCtCQUErQjtJQUMvQixJQUFJLENBQUNOLG1CQUFtQkYsSUFBSSxHQUFH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S0FBSyxVQUFVO1FBQ25FLE9BQU87SUFDVDtJQUVBLDJFQUEyRTtJQUMzRSxJQUFJRCxLQUFLRSxNQUFNLElBQUksTUFBTUQsUUFBUUUsSUFBSSxDQUFDQyxDQUFBQSxNQUFPLE9BQU9KLElBQUksQ0FBQyxFQUFFLENBQUNJLElBQUksS0FBSyxXQUFXO1FBQzlFLE9BQU87SUFDVDtJQUVBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL3JhaHVsMC9Xb3Jrc3BhY2UvTWFlcnNrL3NyYy9saWIvc3FsLWdlbmVyYXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tICdAZ29vZ2xlL2dlbmVyYXRpdmUtYWknXG5cbi8vIEluaXRpYWxpemUgR29vZ2xlIEFJIFN0dWRpbyAodXNpbmcgQVBJIGtleSlcbmNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShwcm9jZXNzLmVudi5HT09HTEVfQUlfQVBJX0tFWSEpXG5cbi8vIFVzZSBnZW1pbmktcHJvIGZvciBHb29nbGUgQUkgU3R1ZGlvIChtb3N0IHN0YWJsZSlcbi8vIElmIHRoaXMgZG9lc24ndCB3b3JrLCBjaGVjayBhdmFpbGFibGUgbW9kZWxzIGF0IC9hcGkvbW9kZWxzXG5jb25zdCBtb2RlbE5hbWUgPSBwcm9jZXNzLmVudi5HRU1JTklfTU9ERUxfTkFNRSB8fCAnZ2VtaW5pLXBybydcblxuY29uc29sZS5sb2coYFtTUUwgR2VuZXJhdG9yXSBVc2luZyBHZW1pbmkgbW9kZWw6ICR7bW9kZWxOYW1lfWApXG5cbmNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHtcbiAgbW9kZWw6IG1vZGVsTmFtZSxcbn0pO1xuXG4vLyBEYXRhYmFzZSBzY2hlbWEgY29udGV4dCBmb3IgU1FMIGdlbmVyYXRpb25cbmNvbnN0IERBVEFCQVNFX1NDSEVNQSA9IGBcbi0tIEJyYXppbGlhbiBFLUNvbW1lcmNlIE9saXN0IERhdGFzZXQgU2NoZW1hXG5cbi0tIEN1c3RvbWVycyB0YWJsZVxuQ1JFQVRFIFRBQkxFIG9saXN0X2N1c3RvbWVycyAoXG4gICAgY3VzdG9tZXJfaWQgVkFSQ0hBUigyNTUpIFBSSU1BUlkgS0VZLFxuICAgIGN1c3RvbWVyX3VuaXF1ZV9pZCBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgY3VzdG9tZXJfemlwX2NvZGVfcHJlZml4IFZBUkNIQVIoMTApLFxuICAgIGN1c3RvbWVyX2NpdHkgVkFSQ0hBUigyNTUpLFxuICAgIGN1c3RvbWVyX3N0YXRlIFZBUkNIQVIoMilcbik7XG5cbi0tIFNlbGxlcnMgdGFibGVcbkNSRUFURSBUQUJMRSBvbGlzdF9zZWxsZXJzIChcbiAgICBzZWxsZXJfaWQgVkFSQ0hBUigyNTUpIFBSSU1BUlkgS0VZLFxuICAgIHNlbGxlcl96aXBfY29kZV9wcmVmaXggVkFSQ0hBUigxMCksXG4gICAgc2VsbGVyX2NpdHkgVkFSQ0hBUigyNTUpLFxuICAgIHNlbGxlcl9zdGF0ZSBWQVJDSEFSKDIpXG4pO1xuXG4tLSBQcm9kdWN0IGNhdGVnb3J5IHRyYW5zbGF0aW9uc1xuQ1JFQVRFIFRBQkxFIHByb2R1Y3RfY2F0ZWdvcnlfdHJhbnNsYXRpb24gKFxuICAgIHByb2R1Y3RfY2F0ZWdvcnlfbmFtZSBWQVJDSEFSKDI1NSkgUFJJTUFSWSBLRVksXG4gICAgcHJvZHVjdF9jYXRlZ29yeV9uYW1lX2VuZ2xpc2ggVkFSQ0hBUigyNTUpXG4pO1xuXG4tLSBQcm9kdWN0cyB0YWJsZVxuQ1JFQVRFIFRBQkxFIG9saXN0X3Byb2R1Y3RzIChcbiAgICBwcm9kdWN0X2lkIFZBUkNIQVIoMjU1KSBQUklNQVJZIEtFWSxcbiAgICBwcm9kdWN0X2NhdGVnb3J5X25hbWUgVkFSQ0hBUigyNTUpLFxuICAgIHByb2R1Y3RfbmFtZV9sZW5naHQgSU5URUdFUixcbiAgICBwcm9kdWN0X2Rlc2NyaXB0aW9uX2xlbmdodCBJTlRFR0VSLFxuICAgIHByb2R1Y3RfcGhvdG9zX3F0eSBJTlRFR0VSLFxuICAgIHByb2R1Y3Rfd2VpZ2h0X2cgSU5URUdFUixcbiAgICBwcm9kdWN0X2xlbmd0aF9jbSBJTlRFR0VSLFxuICAgIHByb2R1Y3RfaGVpZ2h0X2NtIElOVEVHRVIsXG4gICAgcHJvZHVjdF93aWR0aF9jbSBJTlRFR0VSLFxuICAgIEZPUkVJR04gS0VZIChwcm9kdWN0X2NhdGVnb3J5X25hbWUpIFJFRkVSRU5DRVMgcHJvZHVjdF9jYXRlZ29yeV90cmFuc2xhdGlvbihwcm9kdWN0X2NhdGVnb3J5X25hbWUpXG4pO1xuXG4tLSBPcmRlcnMgdGFibGVcbkNSRUFURSBUQUJMRSBvbGlzdF9vcmRlcnMgKFxuICAgIG9yZGVyX2lkIFZBUkNIQVIoMjU1KSBQUklNQVJZIEtFWSxcbiAgICBjdXN0b21lcl9pZCBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgb3JkZXJfc3RhdHVzIFZBUkNIQVIoNTApLFxuICAgIG9yZGVyX3B1cmNoYXNlX3RpbWVzdGFtcCBUSU1FU1RBTVAsXG4gICAgb3JkZXJfYXBwcm92ZWRfYXQgVElNRVNUQU1QLFxuICAgIG9yZGVyX2RlbGl2ZXJlZF9jYXJyaWVyX2RhdGUgVElNRVNUQU1QLFxuICAgIG9yZGVyX2RlbGl2ZXJlZF9jdXN0b21lcl9kYXRlIFRJTUVTVEFNUCxcbiAgICBvcmRlcl9lc3RpbWF0ZWRfZGVsaXZlcnlfZGF0ZSBUSU1FU1RBTVAsXG4gICAgRk9SRUlHTiBLRVkgKGN1c3RvbWVyX2lkKSBSRUZFUkVOQ0VTIG9saXN0X2N1c3RvbWVycyhjdXN0b21lcl9pZClcbik7XG5cbi0tIE9yZGVyIGl0ZW1zIHRhYmxlXG5DUkVBVEUgVEFCTEUgb2xpc3Rfb3JkZXJfaXRlbXMgKFxuICAgIG9yZGVyX2lkIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICBvcmRlcl9pdGVtX2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgcHJvZHVjdF9pZCBWQVJDSEFSKDI1NSksXG4gICAgc2VsbGVyX2lkIFZBUkNIQVIoMjU1KSxcbiAgICBzaGlwcGluZ19saW1pdF9kYXRlIFRJTUVTVEFNUCxcbiAgICBwcmljZSBERUNJTUFMKDEwLCAyKSxcbiAgICBmcmVpZ2h0X3ZhbHVlIERFQ0lNQUwoMTAsIDIpLFxuICAgIFBSSU1BUlkgS0VZIChvcmRlcl9pZCwgb3JkZXJfaXRlbV9pZCksXG4gICAgRk9SRUlHTiBLRVkgKG9yZGVyX2lkKSBSRUZFUkVOQ0VTIG9saXN0X29yZGVycyhvcmRlcl9pZCksXG4gICAgRk9SRUlHTiBLRVkgKHByb2R1Y3RfaWQpIFJFRkVSRU5DRVMgb2xpc3RfcHJvZHVjdHMocHJvZHVjdF9pZCksXG4gICAgRk9SRUlHTiBLRVkgKHNlbGxlcl9pZCkgUkVGRVJFTkNFUyBvbGlzdF9zZWxsZXJzKHNlbGxlcl9pZClcbik7XG5cbi0tIE9yZGVyIHBheW1lbnRzIHRhYmxlXG5DUkVBVEUgVEFCTEUgb2xpc3Rfb3JkZXJfcGF5bWVudHMgKFxuICAgIG9yZGVyX2lkIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICBwYXltZW50X3NlcXVlbnRpYWwgSU5URUdFUiBOT1QgTlVMTCxcbiAgICBwYXltZW50X3R5cGUgVkFSQ0hBUig1MCksXG4gICAgcGF5bWVudF9pbnN0YWxsbWVudHMgSU5URUdFUixcbiAgICBwYXltZW50X3ZhbHVlIERFQ0lNQUwoMTAsIDIpLFxuICAgIFBSSU1BUlkgS0VZIChvcmRlcl9pZCwgcGF5bWVudF9zZXF1ZW50aWFsKSxcbiAgICBGT1JFSUdOIEtFWSAob3JkZXJfaWQpIFJFRkVSRU5DRVMgb2xpc3Rfb3JkZXJzKG9yZGVyX2lkKVxuKTtcblxuLS0gT3JkZXIgcmV2aWV3cyB0YWJsZVxuQ1JFQVRFIFRBQkxFIG9saXN0X29yZGVyX3Jldmlld3MgKFxuICAgIHJldmlld19pZCBWQVJDSEFSKDI1NSkgUFJJTUFSWSBLRVksXG4gICAgb3JkZXJfaWQgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgIHJldmlld19zY29yZSBJTlRFR0VSLFxuICAgIHJldmlld19jb21tZW50X3RpdGxlIFRFWFQsXG4gICAgcmV2aWV3X2NvbW1lbnRfbWVzc2FnZSBURVhULFxuICAgIHJldmlld19jcmVhdGlvbl9kYXRlIFRJTUVTVEFNUCxcbiAgICByZXZpZXdfYW5zd2VyX3RpbWVzdGFtcCBUSU1FU1RBTVAsXG4gICAgRk9SRUlHTiBLRVkgKG9yZGVyX2lkKSBSRUZFUkVOQ0VTIG9saXN0X29yZGVycyhvcmRlcl9pZClcbik7XG5cbi0tIEdlb2xvY2F0aW9uIHRhYmxlXG5DUkVBVEUgVEFCTEUgb2xpc3RfZ2VvbG9jYXRpb24gKFxuICAgIGdlb2xvY2F0aW9uX3ppcF9jb2RlX3ByZWZpeCBWQVJDSEFSKDEwKSxcbiAgICBnZW9sb2NhdGlvbl9sYXQgREVDSU1BTCgxMCwgOCksXG4gICAgZ2VvbG9jYXRpb25fbG5nIERFQ0lNQUwoMTEsIDgpLFxuICAgIGdlb2xvY2F0aW9uX2NpdHkgVkFSQ0hBUigyNTUpLFxuICAgIGdlb2xvY2F0aW9uX3N0YXRlIFZBUkNIQVIoMilcbik7XG5cbi0tIE1hdGVyaWFsaXplZCB2aWV3IGZvciBhbmFseXRpY3NcbkNSRUFURSBNQVRFUklBTElaRUQgVklFVyBvcmRlcl9zdW1tYXJ5IEFTXG5TRUxFQ1QgXG4gICAgby5vcmRlcl9pZCxcbiAgICBvLm9yZGVyX3N0YXR1cyxcbiAgICBvLm9yZGVyX3B1cmNoYXNlX3RpbWVzdGFtcCxcbiAgICBvLm9yZGVyX2RlbGl2ZXJlZF9jdXN0b21lcl9kYXRlLFxuICAgIG8ub3JkZXJfZXN0aW1hdGVkX2RlbGl2ZXJ5X2RhdGUsXG4gICAgYy5jdXN0b21lcl9zdGF0ZSxcbiAgICBjLmN1c3RvbWVyX2NpdHksXG4gICAgU1VNKG9pLnByaWNlKSBhcyB0b3RhbF9wcmljZSxcbiAgICBTVU0ob2kuZnJlaWdodF92YWx1ZSkgYXMgdG90YWxfZnJlaWdodCxcbiAgICBTVU0ob2kucHJpY2UgKyBvaS5mcmVpZ2h0X3ZhbHVlKSBhcyB0b3RhbF92YWx1ZSxcbiAgICBTVU0ob3AucGF5bWVudF92YWx1ZSkgYXMgdG90YWxfcGF5bWVudCxcbiAgICBNQVgob3AucGF5bWVudF90eXBlKSBhcyBwYXltZW50X3R5cGUsXG4gICAgQVZHKHJldi5yZXZpZXdfc2NvcmUpIGFzIGF2Z19yZXZpZXdfc2NvcmUsXG4gICAgQ09VTlQoRElTVElOQ1Qgb2kucHJvZHVjdF9pZCkgYXMgcHJvZHVjdF9jb3VudFxuRlJPTSBvbGlzdF9vcmRlcnMgb1xuTEVGVCBKT0lOIG9saXN0X2N1c3RvbWVycyBjIE9OIG8uY3VzdG9tZXJfaWQgPSBjLmN1c3RvbWVyX2lkXG5MRUZUIEpPSU4gb2xpc3Rfb3JkZXJfaXRlbXMgb2kgT04gby5vcmRlcl9pZCA9IG9pLm9yZGVyX2lkXG5MRUZUIEpPSU4gb2xpc3Rfb3JkZXJfcGF5bWVudHMgb3AgT04gby5vcmRlcl9pZCA9IG9wLm9yZGVyX2lkXG5MRUZUIEpPSU4gb2xpc3Rfb3JkZXJfcmV2aWV3cyByZXYgT04gby5vcmRlcl9pZCA9IHJldi5vcmRlcl9pZFxuR1JPVVAgQlkgby5vcmRlcl9pZCwgby5vcmRlcl9zdGF0dXMsIG8ub3JkZXJfcHVyY2hhc2VfdGltZXN0YW1wLCBcbiAgICAgICAgIG8ub3JkZXJfZGVsaXZlcmVkX2N1c3RvbWVyX2RhdGUsIG8ub3JkZXJfZXN0aW1hdGVkX2RlbGl2ZXJ5X2RhdGUsXG4gICAgICAgICBjLmN1c3RvbWVyX3N0YXRlLCBjLmN1c3RvbWVyX2NpdHk7XG5gXG5cbmV4cG9ydCBpbnRlcmZhY2UgU1FMR2VuZXJhdGlvblJlc3VsdCB7XG4gIHNxbDogc3RyaW5nXG4gIGV4cGxhbmF0aW9uOiBzdHJpbmdcbiAgdmlzdWFsaXphdGlvblR5cGU/OiAndGFibGUnIHwgJ2JhcicgfCAnbGluZScgfCAncGllJyB8ICdtYXAnIHwgJ21ldHJpYydcbn1cblxuLy8gU1FMIHNhZmV0eSBjaGVja3MgLSBvbmx5IGFsbG93IFNFTEVDVCBzdGF0ZW1lbnRzXG5mdW5jdGlvbiB2YWxpZGF0ZVNRTChzcWw6IHN0cmluZyk6IHsgdmFsaWQ6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0ge1xuICBjb25zdCBub3JtYWxpemVkU1FMID0gc3FsLnRyaW0oKS50b0xvd2VyQ2FzZSgpXG4gIFxuICAvLyBSZW1vdmUgU1FMIGNvbW1lbnRzIGZvciB2YWxpZGF0aW9uICh0aGV5J3JlIHNhZmUsIGp1c3QgcmVtb3ZlIHRoZW0gZm9yIHBhdHRlcm4gbWF0Y2hpbmcpXG4gIGNvbnN0IHNxbFdpdGhvdXRDb21tZW50cyA9IG5vcm1hbGl6ZWRTUUxcbiAgICAucmVwbGFjZSgvLS0uKiQvZ20sICcnKSAvLyBSZW1vdmUgc2luZ2xlLWxpbmUgY29tbWVudHNcbiAgICAucmVwbGFjZSgvXFwvXFwqW1xcc1xcU10qP1xcKlxcLy9nLCAnJykgLy8gUmVtb3ZlIG11bHRpLWxpbmUgY29tbWVudHNcbiAgXG4gIC8vIEJsb2NrIGRhbmdlcm91cyBTUUwgb3BlcmF0aW9uc1xuICBjb25zdCBkYW5nZXJvdXNQYXR0ZXJucyA9IFtcbiAgICAvO1xccyooZHJvcHxkZWxldGV8dXBkYXRlfGluc2VydHxhbHRlcnxjcmVhdGV8dHJ1bmNhdGV8Z3JhbnR8cmV2b2tlKS9pLFxuICAgIC91bmlvbi4qc2VsZWN0L2ksXG4gICAgL2V4ZWNcXCgvaSxcbiAgICAvZXhlY3V0ZVxcKC9pLFxuICBdXG4gIFxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgZGFuZ2Vyb3VzUGF0dGVybnMpIHtcbiAgICBpZiAocGF0dGVybi50ZXN0KHNxbFdpdGhvdXRDb21tZW50cykpIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdTUUwgY29udGFpbnMgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIG9wZXJhdGlvbnMnIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIE9ubHkgYWxsb3cgU0VMRUNUIHN0YXRlbWVudHNcbiAgaWYgKCFzcWxXaXRob3V0Q29tbWVudHMudHJpbSgpLnN0YXJ0c1dpdGgoJ3NlbGVjdCcpKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ09ubHkgU0VMRUNUIHF1ZXJpZXMgYXJlIGFsbG93ZWQnIH1cbiAgfVxuICBcbiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVTUUxGcm9tUXVlc3Rpb24oXG4gIHF1ZXN0aW9uOiBzdHJpbmdcbik6IFByb21pc2U8U1FMR2VuZXJhdGlvblJlc3VsdD4ge1xuICB0cnkge1xuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBncmVldGluZyBvciBub24tYW5hbHl0aWNzIHF1ZXN0aW9uXG4gICAgY29uc3QgbG93ZXJRdWVzdGlvbiA9IHF1ZXN0aW9uLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgY29uc3QgaXNHcmVldGluZyA9IC9eKGhpfGhlbGxvfGhleXxncmVldGluZ3N8Z29vZCBtb3JuaW5nfGdvb2QgYWZ0ZXJub29ufGdvb2QgZXZlbmluZ3xob3dkeSkkL2kudGVzdChsb3dlclF1ZXN0aW9uKVxuICAgIGNvbnN0IGlzR2VuZXJhbFF1ZXN0aW9uID0gL14od2hhdHx3aG98d2hlbnx3aGVyZXx3aHl8aG93fGV4cGxhaW58dGVsbCBtZXxoZWxwfGNhbiB5b3V8d2hhdCBpc3x3aGF0IGFyZSkvaS50ZXN0KGxvd2VyUXVlc3Rpb24pICYmIFxuICAgICAgIS8oc2FsZXN8cmV2ZW51ZXxvcmRlcnN8cHJvZHVjdHN8Y3VzdG9tZXJzfHNlbGxlcnN8cGF5bWVudHN8ZGVsaXZlcnl8Y2F0ZWdvcnl8Y2F0ZWdvcmllc3xzdGF0ZXxtb250aHx5ZWFyfHF1YXJ0ZXJ8YXZlcmFnZXx0b3RhbHxjb3VudHxzdW18bWF4fG1pbikvaS50ZXN0KHF1ZXN0aW9uKVxuICAgIFxuICAgIGlmIChpc0dyZWV0aW5nIHx8IGlzR2VuZXJhbFF1ZXN0aW9uKSB7XG4gICAgICAvLyBSZXR1cm4gYSBjb252ZXJzYXRpb25hbCByZXNwb25zZSBpbnN0ZWFkIG9mIFNRTFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3FsOiAnJyxcbiAgICAgICAgZXhwbGFuYXRpb246IGlzR3JlZXRpbmcgXG4gICAgICAgICAgPyBgSGVsbG8hIPCfkYsgSSdtIHlvdXIgYW5hbHl0aWNzIGFzc2lzdGFudCBmb3IgdGhlIEJyYXppbGlhbiBFLUNvbW1lcmNlIE9saXN0IGRhdGFzZXQuIEkgY2FuIGhlbHAgeW91IGV4cGxvcmUgMTAwaysgb3JkZXJzIGZyb20gMjAxNi0yMDE4LiBUcnkgYXNraW5nIG1lIHF1ZXN0aW9ucyBsaWtlOlxcblxcbuKAoiBcIldoaWNoIHByb2R1Y3QgY2F0ZWdvcnkgc29sZCB0aGUgbW9zdCBpbiBRNCAyMDE4P1wiXFxu4oCiIFwiU2hvdyBhdmVyYWdlIGRlbGl2ZXJ5IHRpbWUgYnkgc3RhdGVcIlxcbuKAoiBcIldoYXQncyB0aGUgdG90YWwgcmV2ZW51ZSBieSBwYXltZW50IG1ldGhvZD9cIlxcbuKAoiBcIldoaWNoIHNlbGxlcnMgaGF2ZSB0aGUgaGlnaGVzdCByZXZpZXcgc2NvcmVzP1wiXFxuXFxuV2hhdCB3b3VsZCB5b3UgbGlrZSB0byBleHBsb3JlP2BcbiAgICAgICAgICA6IGBJJ20gaGVyZSB0byBoZWxwIHlvdSBhbmFseXplIHRoZSBCcmF6aWxpYW4gRS1Db21tZXJjZSBkYXRhc2V0ISBJIGNhbiBnZW5lcmF0ZSBTUUwgcXVlcmllcyBhbmQgY3JlYXRlIHZpc3VhbGl6YXRpb25zIGZyb20geW91ciBxdWVzdGlvbnMuIFRyeSBhc2tpbmcgYWJvdXQ6XFxuXFxu4oCiIFNhbGVzIGFuZCByZXZlbnVlIHRyZW5kc1xcbuKAoiBQcm9kdWN0IGNhdGVnb3JpZXMgYW5kIHBlcmZvcm1hbmNlXFxu4oCiIEN1c3RvbWVyIGFuZCBzZWxsZXIgYW5hbHl0aWNzXFxu4oCiIFBheW1lbnQgbWV0aG9kcyBhbmQgZGVsaXZlcnkgdGltZXNcXG7igKIgR2VvZ3JhcGhpYyBkaXN0cmlidXRpb24gb2Ygb3JkZXJzXFxuXFxuV2hhdCBzcGVjaWZpYyBhbmFseXNpcyB3b3VsZCB5b3UgbGlrZSB0byBzZWU/YCxcbiAgICAgICAgdmlzdWFsaXphdGlvblR5cGU6ICd0YWJsZSdcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm9tcHQgPSBgWW91IGFyZSBhIFNRTCBleHBlcnQgYXNzaXN0YW50IGZvciBhIFBvc3RncmVTUUwgZGF0YWJhc2UgY29udGFpbmluZyBCcmF6aWxpYW4gZS1jb21tZXJjZSBkYXRhLlxuXG5EYXRhYmFzZSBTY2hlbWE6XG4ke0RBVEFCQVNFX1NDSEVNQX1cblxuVXNlciBRdWVzdGlvbjogXCIke3F1ZXN0aW9ufVwiXG5cbklNUE9SVEFOVCBJTlNUUlVDVElPTlM6XG4xLiBJZiB0aGUgcXVlc3Rpb24gaXMgYSBncmVldGluZyAoaGksIGhlbGxvLCBldGMuKSBvciBnZW5lcmFsIHF1ZXN0aW9uIG5vdCBhYm91dCBkYXRhIGFuYWx5c2lzLCByZXNwb25kIGNvbnZlcnNhdGlvbmFsbHlcbjIuIElmIHRoZSBxdWVzdGlvbiBpcyBhYm91dCBhbmFseXppbmcgZGF0YSwgZ2VuZXJhdGUgYSB2YWxpZCBQb3N0Z3JlU1FMIFNFTEVDVCBxdWVyeVxuMy4gVXNlIHByb3BlciBKT0lOcyB3aGVuIGFjY2Vzc2luZyBtdWx0aXBsZSB0YWJsZXNcbjQuIFVzZSBhcHByb3ByaWF0ZSBhZ2dyZWdhdGUgZnVuY3Rpb25zIChDT1VOVCwgU1VNLCBBVkcsIE1BWCwgTUlOKSB3aGVuIG5lZWRlZFxuNS4gRm9ybWF0IGRhdGVzIHByb3Blcmx5IHVzaW5nIERBVEVfVFJVTkMoKSwgRVhUUkFDVCgpLCBvciBUT19DSEFSKCkgZnVuY3Rpb25zXG42LiBMaW1pdCByZXN1bHRzIHRvIGEgcmVhc29uYWJsZSBudW1iZXIgKHVzZSBMSU1JVCAxMDAgZm9yIGxhcmdlIHJlc3VsdCBzZXRzKVxuNy4gU3VnZ2VzdCB0aGUgYmVzdCB2aXN1YWxpemF0aW9uIHR5cGU6ICd0YWJsZScsICdiYXInLCAnbGluZScsICdwaWUnLCAnbWFwJywgb3IgJ21ldHJpYydcbjguIFByb3ZpZGUgYSBjbGVhciwgaGVscGZ1bCBleHBsYW5hdGlvbiBvZiB3aGF0IHRoZSBxdWVyeSBkb2VzXG5cblJldHVybiB5b3VyIHJlc3BvbnNlIGluIHRoZSBmb2xsb3dpbmcgSlNPTiBmb3JtYXQ6XG57XG4gIFwic3FsXCI6IFwiU0VMRUNUIC4uLlwiLFxuICBcImV4cGxhbmF0aW9uXCI6IFwiVGhpcyBxdWVyeS4uLlwiLFxuICBcInZpc3VhbGl6YXRpb25UeXBlXCI6IFwiYmFyXCJcbn1cblxuSWYgdGhlIHF1ZXN0aW9uIGlzIG5vdCBhYm91dCBkYXRhIGFuYWx5c2lzLCByZXR1cm46XG57XG4gIFwic3FsXCI6IFwiXCIsXG4gIFwiZXhwbGFuYXRpb25cIjogXCJBIGhlbHBmdWwgY29udmVyc2F0aW9uYWwgcmVzcG9uc2VcIixcbiAgXCJ2aXN1YWxpemF0aW9uVHlwZVwiOiBcInRhYmxlXCJcbn1cblxuT25seSByZXR1cm4gdGhlIEpTT04gb2JqZWN0LCBubyBhZGRpdGlvbmFsIHRleHQuYFxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KHByb21wdClcbiAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5yZXNwb25zZVxuICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS50ZXh0KClcbiAgICBcbiAgICAvLyBFeHRyYWN0IEpTT04gZnJvbSByZXNwb25zZSAoaGFuZGxlIG1hcmtkb3duIGNvZGUgYmxvY2tzIGlmIHByZXNlbnQpXG4gICAgbGV0IGpzb25UZXh0ID0gdGV4dC50cmltKClcbiAgICBpZiAoanNvblRleHQuc3RhcnRzV2l0aCgnYGBgJykpIHtcbiAgICAgIGpzb25UZXh0ID0ganNvblRleHQucmVwbGFjZSgvYGBganNvblxcbj8vZywgJycpLnJlcGxhY2UoL2BgYFxcbj8vZywgJycpLnRyaW0oKVxuICAgIH1cbiAgICBcbiAgICAvLyBUcnkgdG8gcGFyc2UgSlNPTiwgaGFuZGxlIGNhc2VzIHdoZXJlIHJlc3BvbnNlIG1pZ2h0IG5vdCBiZSB2YWxpZCBKU09OXG4gICAgbGV0IHBhcnNlZDogYW55XG4gICAgdHJ5IHtcbiAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UoanNvblRleHQpXG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdKU09OIHBhcnNlIGVycm9yOicsIHBhcnNlRXJyb3IpXG4gICAgICBjb25zb2xlLmVycm9yKCdSZXNwb25zZSB0ZXh0OicsIHRleHQuc3Vic3RyaW5nKDAsIDUwMCkpXG4gICAgICAvLyBJZiBKU09OIHBhcnNpbmcgZmFpbHMsIHRyeSB0byBleHRyYWN0IEpTT04gb2JqZWN0IGZyb20gdGV4dFxuICAgICAgY29uc3QganNvbk1hdGNoID0ganNvblRleHQubWF0Y2goL1xce1tcXHNcXFNdKlxcfS8pXG4gICAgICBpZiAoanNvbk1hdGNoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pXG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2UgZnJvbSBHZW1pbmkuIFJlc3BvbnNlOiAke3RleHQuc3Vic3RyaW5nKDAsIDIwMCl9YClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEpTT04gcmVzcG9uc2UgZnJvbSBHZW1pbmkuIFJlc3BvbnNlOiAke3RleHQuc3Vic3RyaW5nKDAsIDIwMCl9YClcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSWYgaXQncyBhIGNvbnZlcnNhdGlvbmFsIHJlc3BvbnNlIChubyBTUUwpLCByZXR1cm4gaXRcbiAgICBpZiAoIXBhcnNlZC5zcWwgfHwgcGFyc2VkLnNxbC50cmltKCkgPT09ICcnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzcWw6ICcnLFxuICAgICAgICBleHBsYW5hdGlvbjogcGFyc2VkLmV4cGxhbmF0aW9uIHx8ICdJIGNhbiBoZWxwIHlvdSBhbmFseXplIHRoZSBCcmF6aWxpYW4gRS1Db21tZXJjZSBkYXRhc2V0LiBXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGV4cGxvcmU/JyxcbiAgICAgICAgdmlzdWFsaXphdGlvblR5cGU6ICd0YWJsZSdcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYW4gU1FMIC0gcmVtb3ZlIHRyYWlsaW5nIHNlbWljb2xvbiBmb3IgY29uc2lzdGVuY3lcbiAgICBsZXQgY2xlYW5lZFNRTCA9IHBhcnNlZC5zcWwudHJpbSgpXG4gICAgaWYgKGNsZWFuZWRTUUwuZW5kc1dpdGgoJzsnKSkge1xuICAgICAgY2xlYW5lZFNRTCA9IGNsZWFuZWRTUUwuc2xpY2UoMCwgLTEpLnRyaW0oKVxuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBTUUwgb25seSBpZiBpdCBleGlzdHNcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVTUUwoY2xlYW5lZFNRTClcbiAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NRTCB2YWxpZGF0aW9uIGZhaWxlZDonLCB2YWxpZGF0aW9uLmVycm9yKVxuICAgICAgY29uc29sZS5lcnJvcignR2VuZXJhdGVkIFNRTDonLCBjbGVhbmVkU1FMKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKHZhbGlkYXRpb24uZXJyb3IgfHwgJ0ludmFsaWQgU1FMIGdlbmVyYXRlZCcpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBzcWw6IGNsZWFuZWRTUUwsXG4gICAgICBleHBsYW5hdGlvbjogcGFyc2VkLmV4cGxhbmF0aW9uIHx8ICdRdWVyeSBleGVjdXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgdmlzdWFsaXphdGlvblR5cGU6IHBhcnNlZC52aXN1YWxpemF0aW9uVHlwZSB8fCAndGFibGUnXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignU1FMIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICBtZXNzYWdlOiBlcnJvcj8ubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvcj8uc3RhY2ssXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb24/LnN1YnN0cmluZygwLCAxMDApXG4gICAgfSlcbiAgICBcbiAgICAvLyBEb24ndCB1c2UgZmFsbGJhY2sgLSB0aHJvdyB0aGUgZXJyb3Igc28gdXNlciBzZWVzIHdoYXQgd2VudCB3cm9uZ1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIFNRTCBxdWVyeTogJHtlcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YClcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZWN0IHZpc3VhbGl6YXRpb24gdHlwZSBmcm9tIHF1ZXJ5IHJlc3VsdFxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFZpc3VhbGl6YXRpb25UeXBlKFxuICBkYXRhOiBhbnlbXSxcbiAgY29sdW1uczogc3RyaW5nW11cbik6ICd0YWJsZScgfCAnYmFyJyB8ICdsaW5lJyB8ICdwaWUnIHwgJ21hcCcgfCAnbWV0cmljJyB7XG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAndGFibGUnXG4gIH1cbiAgXG4gIC8vIFNpbmdsZSByb3cgd2l0aCBudW1lcmljIHZhbHVlcyA9IG1ldHJpY1xuICBpZiAoZGF0YS5sZW5ndGggPT09IDEgJiYgY29sdW1ucy5zb21lKGNvbCA9PiB0eXBlb2YgZGF0YVswXVtjb2xdID09PSAnbnVtYmVyJykpIHtcbiAgICByZXR1cm4gJ21ldHJpYydcbiAgfVxuICBcbiAgLy8gSGFzIHN0YXRlIG9yIGNpdHkgY29sdW1uID0gbWFwXG4gIGlmIChjb2x1bW5zLnNvbWUoY29sID0+IGNvbC5pbmNsdWRlcygnc3RhdGUnKSB8fCBjb2wuaW5jbHVkZXMoJ2NpdHknKSkpIHtcbiAgICByZXR1cm4gJ21hcCdcbiAgfVxuICBcbiAgLy8gSGFzIGRhdGUvdGltZXN0YW1wIGNvbHVtbiA9IGxpbmUgY2hhcnRcbiAgaWYgKGNvbHVtbnMuc29tZShjb2wgPT4gY29sLmluY2x1ZGVzKCdkYXRlJykgfHwgY29sLmluY2x1ZGVzKCd0aW1lc3RhbXAnKSB8fCBjb2wuaW5jbHVkZXMoJ21vbnRoJykgfHwgY29sLmluY2x1ZGVzKCd5ZWFyJykpKSB7XG4gICAgcmV0dXJuICdsaW5lJ1xuICB9XG4gIFxuICAvLyAyIGNvbHVtbnMgd2l0aCBvbmUgbnVtZXJpYyA9IGJhciBjaGFydFxuICBpZiAoY29sdW1ucy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGRhdGFbMF1bY29sdW1uc1sxXV0gPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuICdiYXInXG4gIH1cbiAgXG4gIC8vIE11bHRpcGxlIHJvd3Mgd2l0aCBvbmUgbnVtZXJpYyBjb2x1bW4gPSBwaWUgY2hhcnQgaWYgc21hbGwsIGJhciBpZiBsYXJnZVxuICBpZiAoZGF0YS5sZW5ndGggPD0gMTAgJiYgY29sdW1ucy5zb21lKGNvbCA9PiB0eXBlb2YgZGF0YVswXVtjb2xdID09PSAnbnVtYmVyJykpIHtcbiAgICByZXR1cm4gJ3BpZSdcbiAgfVxuICBcbiAgcmV0dXJuICd0YWJsZSdcbn1cblxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsImdlbkFJIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9BSV9BUElfS0VZIiwibW9kZWxOYW1lIiwiR0VNSU5JX01PREVMX05BTUUiLCJjb25zb2xlIiwibG9nIiwibW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJEQVRBQkFTRV9TQ0hFTUEiLCJ2YWxpZGF0ZVNRTCIsInNxbCIsIm5vcm1hbGl6ZWRTUUwiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJzcWxXaXRob3V0Q29tbWVudHMiLCJyZXBsYWNlIiwiZGFuZ2Vyb3VzUGF0dGVybnMiLCJwYXR0ZXJuIiwidGVzdCIsInZhbGlkIiwiZXJyb3IiLCJzdGFydHNXaXRoIiwiZ2VuZXJhdGVTUUxGcm9tUXVlc3Rpb24iLCJxdWVzdGlvbiIsImxvd2VyUXVlc3Rpb24iLCJpc0dyZWV0aW5nIiwiaXNHZW5lcmFsUXVlc3Rpb24iLCJleHBsYW5hdGlvbiIsInZpc3VhbGl6YXRpb25UeXBlIiwicHJvbXB0IiwicmVzdWx0IiwiZ2VuZXJhdGVDb250ZW50IiwicmVzcG9uc2UiLCJ0ZXh0IiwianNvblRleHQiLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJwYXJzZUVycm9yIiwic3Vic3RyaW5nIiwianNvbk1hdGNoIiwibWF0Y2giLCJFcnJvciIsImNsZWFuZWRTUUwiLCJlbmRzV2l0aCIsInNsaWNlIiwidmFsaWRhdGlvbiIsIm1lc3NhZ2UiLCJzdGFjayIsImRldGVjdFZpc3VhbGl6YXRpb25UeXBlIiwiZGF0YSIsImNvbHVtbnMiLCJsZW5ndGgiLCJzb21lIiwiY29sIiwiaW5jbHVkZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/sql-generator.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://hcalcytpknxiipreufrn.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjYWxjeXRwa254aWlwcmV1ZnJuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2MTk2ODYsImV4cCI6MjA3ODE5NTY4Nn0.PiUQs1mq1a3DwPb001mqdR6wrYB5Xr-x2BeNeP95Wxg\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvRDtBQUVwRCxNQUFNQyxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7QUFDakUsTUFBTUsscUJBQXFCTCxRQUFRQyxHQUFHLENBQUNLLHlCQUF5QjtBQUV6RCxNQUFNQyxXQUFXVCxtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWdCO0FBRTNELE1BQU1LLGdCQUFnQlYsbUVBQVlBLENBQUNDLGFBQWFNLG9CQUFvQjtJQUN6RUksTUFBTTtRQUNKQyxrQkFBa0I7UUFDbEJDLGdCQUFnQjtJQUNsQjtBQUNGLEdBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWh1bDAvV29ya3NwYWNlL01hZXJzay9zcmMvbGliL3N1cGFiYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSFcbmNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhXG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XG4gIGF1dGg6IHtcbiAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcbiAgfVxufSlcblxuZXhwb3J0IHR5cGUgRGF0YWJhc2UgPSB7XG4gIHB1YmxpYzoge1xuICAgIFRhYmxlczoge1xuICAgICAgLy8gQWRkIHlvdXIgdGFibGUgdHlwZXMgaGVyZSBiYXNlZCBvbiB5b3VyIHNjaGVtYVxuICAgICAgb3JkZXJzOiB7XG4gICAgICAgIFJvdzoge1xuICAgICAgICAgIGlkOiBzdHJpbmdcbiAgICAgICAgICBvcmRlcl9pZDogc3RyaW5nXG4gICAgICAgICAgY3VzdG9tZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIG9yZGVyX3N0YXR1czogc3RyaW5nXG4gICAgICAgICAgb3JkZXJfcHVyY2hhc2VfdGltZXN0YW1wOiBzdHJpbmdcbiAgICAgICAgICBvcmRlcl9hcHByb3ZlZF9hdDogc3RyaW5nXG4gICAgICAgICAgb3JkZXJfZGVsaXZlcmVkX2NhcnJpZXJfZGF0ZTogc3RyaW5nXG4gICAgICAgICAgb3JkZXJfZGVsaXZlcmVkX2N1c3RvbWVyX2RhdGU6IHN0cmluZ1xuICAgICAgICAgIG9yZGVyX2VzdGltYXRlZF9kZWxpdmVyeV9kYXRlOiBzdHJpbmdcbiAgICAgICAgICBwcmljZTogbnVtYmVyXG4gICAgICAgICAgZnJlaWdodF92YWx1ZTogbnVtYmVyXG4gICAgICAgICAgcGF5bWVudF90eXBlOiBzdHJpbmdcbiAgICAgICAgICBwYXltZW50X2luc3RhbGxtZW50czogbnVtYmVyXG4gICAgICAgICAgcGF5bWVudF92YWx1ZTogbnVtYmVyXG4gICAgICAgICAgcmV2aWV3X3Njb3JlOiBudW1iZXJcbiAgICAgICAgICBwcm9kdWN0X2NhdGVnb3J5X25hbWU6IHN0cmluZ1xuICAgICAgICAgIGN1c3RvbWVyX2NpdHk6IHN0cmluZ1xuICAgICAgICAgIGN1c3RvbWVyX3N0YXRlOiBzdHJpbmdcbiAgICAgICAgICBzZWxsZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDogT21pdDxEYXRhYmFzZVsncHVibGljJ11bJ1RhYmxlcyddWydvcmRlcnMnXVsnUm93J10sICdpZCcgfCAnY3JlYXRlZF9hdCc+XG4gICAgICAgIFVwZGF0ZTogUGFydGlhbDxEYXRhYmFzZVsncHVibGljJ11bJ1RhYmxlcyddWydvcmRlcnMnXVsnUm93J10+XG4gICAgICB9XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2VTZXJ2aWNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsInN1cGFiYXNlIiwic3VwYWJhc2VBZG1pbiIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/@upstash","vendor-chunks/uncrypto","vendor-chunks/tslib","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frahul0%2FWorkspace%2FMaersk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();