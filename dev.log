[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): server.ts src/**/*[39m
[33m[nodemon] watching extensions: ts,tsx,js,jsx[39m
[32m[nodemon] starting `npx tsx server.ts`[39m
> Ready on http://0.0.0.0:3000
> Socket.IO server running at ws://0.0.0.0:3000/api/socketio
 â—‹ Compiling /api/query ...
 âœ“ Compiled /api/query in 760ms (445 modules)
[SQL Generator] Using Gemini model: gemini-2.5-pro
Query execution error: Error: SQL execution failed: Query execution failed: syntax error at or near ";"
    at executeSQL (src/lib/query-executor.ts:13:12)
    at async POST (src/app/api/query/route.ts:78:21)
  11 |
  12 |     if (error) {
> 13 |       throw new Error(`SQL execution failed: ${error.message}`)
     |            ^
  14 |     }
  15 |
  16 |     // If data is an array, use it directly
Query execution error: Error: SQL execution failed: Query execution failed: syntax error at or near ";"
    at executeSQL (src/lib/query-executor.ts:13:12)
    at async POST (src/app/api/query/route.ts:78:21)
  11 |
  12 |     if (error) {
> 13 |       throw new Error(`SQL execution failed: ${error.message}`)
     |            ^
  14 |     }
  15 |
  16 |     // If data is an array, use it directly
Generated SQL: SELECT
  s.seller_id,
  AVG(r.review_score) AS average_review_score,
  COUNT(r.review_id) AS total_reviews
FROM olist_sellers AS s
JOIN olist_order_items AS oi
  ON s.seller_id = oi.seller_id
JOIN olist_order_reviews AS r
  ON oi.order_id = r.order_id
GROUP BY
  s.seller_id
HAVING
  COUNT(r.review_id) > 20 -- To ensure a meaningful average
ORDER BY
  average_review_score DESC
LIMIT 20;
Error stack: Error: SQL execution failed: Query execution failed: syntax error at or near ";"
    at executeSQL (webpack-internal:///(rsc)/./src/lib/query-executor.ts:17:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async POST (webpack-internal:///(rsc)/./src/app/api/query/route.ts:66:28)
    at async AppRouteRouteModule.do (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)
    at async AppRouteRouteModule.handle (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)
    at async doRender (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/base-server.js:1518:42)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/base-server.js:1920:28)
    at async DevServer.renderPageComponent (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/base-server.js:2408:24)
    at async DevServer.renderToResponseImpl (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/base-server.js:2445:32)
    at async DevServer.pipeImpl (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/base-server.js:1008:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/next-server.js:305:17)
    at async DevServer.handleRequestImpl (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/base-server.js:900:17)
    at async /Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/dev/next-dev-server.js:371:20
    at async Span.traceAsyncFn (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/trace/trace.js:157:20)
    at async DevServer.handleRequest (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/dev/next-dev-server.js:368:24)
    at async invokeRender (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/lib/router-server.js:237:21)
    at async handleRequest (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/lib/router-server.js:428:24)
    at async NextCustomServer.requestHandlerImpl (/Users/rahul0/Workspace/Maersk/node_modules/next/dist/server/lib/router-server.js:452:13)
 POST /api/query 500 in 18565ms
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `npx tsx server.ts`[39m
> Ready on http://0.0.0.0:3000
> Socket.IO server running at ws://0.0.0.0:3000/api/socketio
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `npx tsx server.ts`[39m
> Ready on http://0.0.0.0:3000
> Socket.IO server running at ws://0.0.0.0:3000/api/socketio
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `npx tsx server.ts`[39m
> Ready on http://0.0.0.0:3000
> Socket.IO server running at ws://0.0.0.0:3000/api/socketio
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `npx tsx server.ts`[39m
> Ready on http://0.0.0.0:3000
> Socket.IO server running at ws://0.0.0.0:3000/api/socketio
 â—‹ Compiling /api/query ...
 âœ“ Compiled /api/query in 537ms (445 modules)
[SQL Generator] Using Gemini model: gemini-2.5-pro
 POST /api/query 200 in 14361ms
 âœ“ Compiled /api/chat in 216ms (443 modules)
Using Gemini model: gemini-2.5-pro
 POST /api/chat 200 in 17708ms
